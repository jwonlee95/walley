/*! For license information please see main.273c24b1.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},4569:function(e,t,n){e.exports=n(8036)},4232:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),u=n(1804),s=n(9145),c=n(5411),l=n(6467),f=n(221),h=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+b)}var w=u(e.baseURL,e.url);function x(){if(g){var r="getAllResponseHeaders"in g?s(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(w,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(w))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(221));u.Axios=a,u.Cancel=n(9346),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),u=n(777),s=n(7835),c=s.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&s.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{i=o(f)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(e){return e=u(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(u(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221),u=n(9346);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u("canceled")}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(4232)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||s.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a(u,this,"E_JSON_PARSE");throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s},7600:function(e){e.exports={version:"0.24.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new TypeError("option "+a+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function u(e){return null!==e&&"object"===typeof e}function s(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){s(t[r])&&s(n)?t[r]=e(t[r],n):s(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7059:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var a={};if("string"!==typeof e||0===e.length)return a;var o=/\+/g;e=e.split(n);var u=1e3;i&&"number"===typeof i.maxKeys&&(u=i.maxKeys);var s=e.length;u>0&&s>u&&(s=u);for(var c=0;c<s;++c){var l,f,h,d,p=e[c].replace(o,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),t(a,h)?Array.isArray(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a}},4297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[i]))})).filter(Boolean).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(7059),t.encode=t.stringify=n(4297)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,S=60108,I=60114,T=60109,C=60110,A=60112,N=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),E=U("react.fragment"),S=U("react.strict_mode"),I=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function $e(e,t,n,r,i,a,o,u,s){We=!1,He=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},It={};function Tt(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=jt(s),i=Mt):0!==(u&=a)&&(r=jt(u),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==u&&(r=jt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){je||Le();var i=Xt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Ie(e)),e=Jn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Ot.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ie(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=bn;break;case Rt:s=On;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=jr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}$i()}function $i(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Pi,Qi),n}finally{zi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ia(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Ou||0===(134217727&zu)&&0===(134217727&Bu)||gs(Ou,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,fi(ja,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(js(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))js(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Pu=0,Ou=null,Du=null,Lu=0,Mu=0,ju=ci(0),Fu=0,Uu=null,Vu=0,zu=0,Bu=0,qu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=qi()+500}var Qu,$u=null,Yu=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ou&&(Bu|=t,4===Fu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ms(e,n),0===Pu&&(Gu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Ou?Lu:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=Ii(Pi,$i)):Ui.push(n),n=ji):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ou?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Is();for(Ou===e&&Lu===r||(Gu(),Es(e,r));;)try{As();break}catch(s){Ss(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ou=null,Lu=0,r=Fu),0!==(Vu&Bu))Es(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Es(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Hr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ou&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=Ft(e,t)))}else n=Ts(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Es(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function xs(e,t){fi(ju,Mu),Mu|=t,Vu|=t}function _s(){Mu=ju.current,li(ju)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ou=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,Fu=0,Uu=null,qu=Bu=zu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Fu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Is(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Is();for(Ou===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ou=null,Lu=0,Fu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Fu&&(Fu=5)}function Ps(e){var t=Wi();return Ki(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Du=Ou=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ru.current=null,zr=$t,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(I){if(null===$u)throw Error(o(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Iu($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Iu($u.alternate,$u);break;case 4:Iu($u.alternate,$u);break;case 8:Su(u,s=$u);var x=s.alternate;bu(s),null!==x&&bu(x)}$u=$u.nextEffect}}catch(I){if(null===$u)throw Error(o(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);if(w=Br,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!zr,Br=zr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var _=$u.flags;if(36&_&&yu(k,$u.alternate,$u),128&_){b=void 0;var E=$u.ref;if(null!==E){var S=$u.stateNode;$u.tag,b=S,"function"===typeof E?E(b):E.current=b}}$u=$u.nextEffect}}catch(I){if(null===$u)throw Error(o(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);$u=null,Fi(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((_=$u).sibling=null,_.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(ms(e,qi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Pu)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&mu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>qi()-Hu?Es(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case I:return(e=Ws(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case j:return $s(n,i,a,t);case F:return(e=Ws(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=j,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(ja,1&ja.current),null!==(t=au(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,E=n[2]||l,S=y||g;r.push({name:m||a++,prefix:v||"",delimiter:E,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(E)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},8228:function(e,t,n){"use strict";n(9195)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,A=null,N=3,R=!1,P=!1,O=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(I,t)}t=_(T)}}function L(e){if(O=!1,D(e),!P)if(null!==_(I))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=N;try{for(D(n),A=_(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(I)&&E(I),D(n)}else E(I);A=_(I)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(I)&&e===_(T)&&(O?i():O=!0,r(L,o-u))):(e.sortIndex=s,x(I,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},3079:function(e,t,n){"use strict";e.exports=n.p+"static/media/board-graph.99d13640ddcec9b92cdf.png"},2087:function(e,t,n){"use strict";e.exports=n.p+"static/media/budget-planner.304b9c61db5662f868b8.png"},3429:function(e,t,n){"use strict";e.exports=n.p+"static/media/create.a51d75b9357adc4729f7.png"},6949:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.7199efc6756e2050e48d.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".6e463f98.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="walley:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/walley/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[o[c]]=0},r=self.webpackChunkwalley=self.webpackChunkwalley||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Vu},SDK_VERSION:function(){return Fs},_DEFAULT_ENTRY_NAME:function(){return _s},_addComponent:function(){return Ts},_addOrOverwriteComponent:function(){return Cs},_apps:function(){return Ss},_clearComponents:function(){return Ps},_components:function(){return Is},_getProvider:function(){return Ns},_registerComponent:function(){return As},_removeServiceInstance:function(){return Rs},deleteApp:function(){return Bs},getApp:function(){return Vs},getApps:function(){return zs},initializeApp:function(){return Us},onLog:function(){return Hs},registerVersion:function(){return Ws},setLogLevel:function(){return Ks}});var t=n(2791),r=n(4164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&u(e),o=t&&u(t),c=a||o;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var f=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=l(t),i=l(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var _="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&(e={}),w||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?x:s,l=i.keyLength,f=void 0===l?6:l,h=e.basename?y(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=m(a,h)),k(a,r,n)}function I(){return Math.random().toString(36).substr(2,f)}var T=b();function C(e){o(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(v(e.state))}function N(){P(v(S()))}var R=!1;function P(e){if(R)R=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,M(i))}(e)}))}}var O=v(S()),D=[O.key];function L(e){return h+g(e)}function M(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?(window.addEventListener(_,A),r&&window.addEventListener(E,N)):0===j&&(window.removeEventListener(_,A),r&&window.removeEventListener(E,N))}var U=!1;var V={length:t.length,action:"POP",location:O,createHref:L,push:function(e,r){var i="PUSH",a=k(e,r,I(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,I(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=T.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function A(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function R(e){window.location.replace(A(window.location.href)+"#"+e)}function P(e){void 0===e&&{},w||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?y(p(e.basename)):"",c=C[u],l=c.encodePath,f=c.decodePath;function h(){var e=f(N());return s&&m(e,s),k(e)}var v=b();function _(e){o(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var E=!1,S=null;function I(){var e,t,n=N(),r=l(n);if(n!==r)R(r);else{var a=h(),o=V.location;if(!E&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(S===g(a))return;null,function(e){if(E)!1,_();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(g(t));-1===n&&0;var r=L.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(a)}}var P=N(),O=l(P);P!==O&&R(O);var D=h(),L=[g(D)];function M(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?window.addEventListener(T,I):0===j&&window.removeEventListener(T,I)}var U=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&A(window.location.href),n+"#"+l(s+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);if(N()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(g(V.location)),o=L.slice(0,a+1);o.push(t),o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);N()!==i&&(t,R(i));var a=L.indexOf(g(V.location));-1!==a&&(L[a]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return U||(F(1),!0),function(){return U&&(!1,F(-1)),t()}},listen:function(e){var t=v.appendListener(e);return F(1),function(){F(-1),t()}}};return V}function O(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=b();function f(e){o(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=O(u,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function m(e){var t=O(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var L=n(2007),M=n.n(L),j=1073741823,F="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function U(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return F[e]=(F[e]||0)+1}()+"__",u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=U(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):j,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[o]=M().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?j:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?j:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[o]=M().object,i),{Provider:u,Consumer:s}},z=V,B=n(3813),q=n.n(B);n(8228);function W(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(2110);var H=function(e){var t=z();return t.displayName=e,t},K=H("Router-History"),G=function(e){var t=z();return t.displayName=e,t},Q=G("Router"),$=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(Q.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(K.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var Y=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var J={},X=0;function Z(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(J[e])return J[e];var t=q().compile(e);return X<1e4&&(J[e]=t,X++),t}(e)(t,{pretty:!0})}function ee(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(Q.Consumer,null,(function(e){e||d(!1);var i=e.history,u=e.staticContext,s=a?i.push:i.replace,c=k(n?"string"===typeof r?Z(r,n.params):o({},r,{pathname:Z(r.pathname,n.params)}):r);return u?(s(c),null):t.createElement(Y,{onMount:function(){s(c)},onUpdate:function(e,t){var n,r,i=k(t.to);n=i,r=o({},c,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&f(n.state,r.state)||s(c)},to:r})}))}var te={},ne=0;function re(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=te[n]||(te[n]={});if(r[e])return r[e];var i=[],a={regexp:q()(e,i,t),keys:i};return ne<1e4&&(r[e]=a,ne++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ie=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(Q.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?re(r.pathname,e.props):n.match}),a=e.props,u=a.children,s=a.component,c=a.render;return Array.isArray(u)&&0===u.length&&(u=null),t.createElement(Q.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:s?t.createElement(s,i):c?c(i):null:"function"===typeof u?u(i):null)}))},n}(t.Component);function ae(e){return"/"===e.charAt(0)?e:"/"+e}function oe(e,t){if(!e)return t;var n=ae(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function ue(e){return"string"===typeof e?e:g(e)}function se(e){return function(){d(!1)}}function ce(){}t.Component;var le=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(Q.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var u=e.props.path||e.props.from;i=u?re(a.pathname,o({},e.props,{path:u})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var fe=t.useContext;function he(){return fe(K)}var de=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=I(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement($,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var pe=function(e,t){return"function"===typeof e?e(t):e},ve=function(e,t){return"string"===typeof e?k(e,null,null,t):e},me=function(e){return e},ye=t.forwardRef;"undefined"===typeof ye&&(ye=me);var ge=ye((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,u=W(e,["innerRef","navigate","onClick"]),s=u.target,c=o({},u,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=me!==ye&&n||r,t.createElement("a",c)}));var ke=ye((function(e,n){var r=e.component,i=void 0===r?ge:r,a=e.replace,u=e.to,s=e.innerRef,c=W(e,["component","replace","to","innerRef"]);return t.createElement(Q.Consumer,null,(function(e){e||d(!1);var r=e.history,l=ve(pe(u,e.location),e.location),f=l?r.createHref(l):"",h=o({},c,{href:f,navigate:function(){var t=pe(u,e.location);(a?r.replace:r.push)(t)}});return me!==ye?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),be=function(e){return e},we=t.forwardRef;"undefined"===typeof we&&(we=be);we((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,u=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,p=e.sensitive,v=e.strict,m=e.style,y=e.to,g=e.innerRef,k=W(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Q.Consumer,null,(function(e){e||d(!1);var r=h||e.location,a=ve(pe(y,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?re(r.pathname,{path:w,exact:l,sensitive:p,strict:v}):null,_=!!(f?f(x,r):x),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,u):c,S=_?o({},m,{},s):m,I=o({"aria-current":_&&i||null,className:E,style:S,to:a},k);return be!==we?I.ref=n||g:I.innerRef=g,t.createElement(ke,I)}))}));function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e){if(Array.isArray(e))return e}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t){if(e){if("string"===typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ae(e,t){return Se(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Te(e,t)||Ce()}var Ne=n(184),Re=function(e){return(0,Ne.jsxs)("div",{className:"appWrapper",children:[(0,Ne.jsx)(Io,{}),(0,Ne.jsx)("div",{children:e.children})]})},Pe="Client",Oe=function(){return(new Date).toISOString()},De={info:function(e,t){"string"===typeof e?console.log("[".concat(Oe(),"] [").concat(t||Pe,"] [INFO] ").concat(e)):console.log("[".concat(Oe(),"] [").concat(t||Pe,"] [INFO]"),e)},warn:function(e,t){"string"===typeof e?console.log("[".concat(Oe(),"] [").concat(t||Pe,"] [WARN] ").concat(e)):console.log("[".concat(Oe(),"] [").concat(t||Pe,"] [WARN]"),e)},error:function(e,t){"string"===typeof e?console.log("[".concat(Oe(),"] [").concat(t||Pe,"] [ERROR] ").concat(e)):console.log("[".concat(Oe(),"] [").concat(t||Pe,"] [ERROR]"),e)}},Le=De,Me={user:{_id:"",uid:"",name:""},fire_token:""},je=function(e,t){var n=t.payload.user,r=t.payload.fire_token;switch(t.type){case"login":return localStorage.setItem("fire_token",r),{user:n,fire_token:r};case"logout":return localStorage.removeItem("fire_token"),Me;default:return e}},Fe=(0,t.createContext)({userState:Me,userDispatch:function(){}}),Ue=(Fe.Consumer,Fe.Provider),Ve=Fe,ze=function(e){var n=e.children;return""===(0,t.useContext)(Ve).userState.user._id?(Le.info("Unauthorized, redirecting."),(0,Ne.jsx)(ee,{to:"/login"})):(0,Ne.jsx)(Ne.Fragment,{children:n})},Be=function(e){var t=e.error;return""===t?null:(0,Ne.jsx)("small",{className:"text-danger",children:t})},qe=n(6949),We={xs:0,sm:600,md:900,lg:1200,xl:1536},He={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(We[e],"px)")}};function Ke(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||He;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||He;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||We).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Ge(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function Qe(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function $e(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}function Ye(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Je(e){if("string"!==typeof e)throw new Error(Ye(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Xe(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function Ze(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Xe(e,n)||i,t&&(r=t(r)),r}var et=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Xe(e.theme,i)||{};return Ke(e,n,(function(e){var n=Ze(o,a,e);return e===n&&"string"===typeof e&&(n=Ze(o,a,"".concat(t).concat("default"===e?"":Je(e)),e)),!1===r?n:xe({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};function tt(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?o({},e):e;return tt(e)&&tt(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(tt(t[i])&&i in e&&tt(e[i])?r[i]=nt(e[i],t[i],n):r[i]=t[i])})),r}var rt=function(e,t){return t?nt(e,t,{clone:!1}):e};var it={m:"margin",p:"padding"},at={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ot={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ut=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!ot[e])return[e];e=ot[e]}var t=Ae(e.split(""),2),n=t[0],r=t[1],i=it[n],a=at[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),st=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ct=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],lt=[].concat(st,ct);function ft(e,t,n,r){var i=Xe(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function ht(e){return ft(e,"spacing",8)}function dt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function pt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=dt(t,n),e}),{})}}(ut(n),r);return Ke(e,e[n],i)}function vt(e,t){var n=ht(e.theme);return Object.keys(e).map((function(r){return pt(e,t,r,n)})).reduce(rt,{})}function mt(e){return vt(e,st)}function yt(e){return vt(e,ct)}function gt(e){return vt(e,lt)}mt.propTypes={},mt.filterProps=st,yt.propTypes={},yt.filterProps=ct,gt.propTypes={},gt.filterProps=lt;var kt=gt;function bt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function wt(e){return function(e){if(Array.isArray(e))return Ie(e)}(e)||bt(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?rt(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function _t(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Et=et({prop:"border",themeKey:"borders",transform:_t}),St=et({prop:"borderTop",themeKey:"borders",transform:_t}),It=et({prop:"borderRight",themeKey:"borders",transform:_t}),Tt=et({prop:"borderBottom",themeKey:"borders",transform:_t}),Ct=et({prop:"borderLeft",themeKey:"borders",transform:_t}),At=et({prop:"borderColor",themeKey:"palette"}),Nt=et({prop:"borderTopColor",themeKey:"palette"}),Rt=et({prop:"borderRightColor",themeKey:"palette"}),Pt=et({prop:"borderBottomColor",themeKey:"palette"}),Ot=et({prop:"borderLeftColor",themeKey:"palette"}),Dt=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=ft(e.theme,"shape.borderRadius",4);return Ke(e,e.borderRadius,(function(e){return{borderRadius:dt(t,e)}}))}return null};Dt.propTypes={},Dt.filterProps=["borderRadius"];var Lt=xt(Et,St,It,Tt,Ct,At,Nt,Rt,Pt,Ot,Dt),Mt=xt(et({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),et({prop:"display"}),et({prop:"overflow"}),et({prop:"textOverflow"}),et({prop:"visibility"}),et({prop:"whiteSpace"})),jt=xt(et({prop:"flexBasis"}),et({prop:"flexDirection"}),et({prop:"flexWrap"}),et({prop:"justifyContent"}),et({prop:"alignItems"}),et({prop:"alignContent"}),et({prop:"order"}),et({prop:"flex"}),et({prop:"flexGrow"}),et({prop:"flexShrink"}),et({prop:"alignSelf"}),et({prop:"justifyItems"}),et({prop:"justifySelf"})),Ft=function(e){if(void 0!==e.gap&&null!==e.gap){var t=ft(e.theme,"spacing",8);return Ke(e,e.gap,(function(e){return{gap:dt(t,e)}}))}return null};Ft.propTypes={},Ft.filterProps=["gap"];var Ut=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=ft(e.theme,"spacing",8);return Ke(e,e.columnGap,(function(e){return{columnGap:dt(t,e)}}))}return null};Ut.propTypes={},Ut.filterProps=["columnGap"];var Vt=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=ft(e.theme,"spacing",8);return Ke(e,e.rowGap,(function(e){return{rowGap:dt(t,e)}}))}return null};Vt.propTypes={},Vt.filterProps=["rowGap"];var zt=xt(Ft,Ut,Vt,et({prop:"gridColumn"}),et({prop:"gridRow"}),et({prop:"gridAutoFlow"}),et({prop:"gridAutoColumns"}),et({prop:"gridAutoRows"}),et({prop:"gridTemplateColumns"}),et({prop:"gridTemplateRows"}),et({prop:"gridTemplateAreas"}),et({prop:"gridArea"})),Bt=xt(et({prop:"position"}),et({prop:"zIndex",themeKey:"zIndex"}),et({prop:"top"}),et({prop:"right"}),et({prop:"bottom"}),et({prop:"left"})),qt=xt(et({prop:"color",themeKey:"palette"}),et({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),et({prop:"backgroundColor",themeKey:"palette"})),Wt=et({prop:"boxShadow",themeKey:"shadows"});function Ht(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Kt=et({prop:"width",transform:Ht}),Gt=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Ke(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||We[t]||Ht(t)}}))}return null};Gt.filterProps=["maxWidth"];var Qt=et({prop:"minWidth",transform:Ht}),$t=et({prop:"height",transform:Ht}),Yt=et({prop:"maxHeight",transform:Ht}),Jt=et({prop:"minHeight",transform:Ht}),Xt=(et({prop:"size",cssProperty:"width",transform:Ht}),et({prop:"size",cssProperty:"height",transform:Ht}),xt(Kt,Gt,Qt,$t,Yt,Jt,et({prop:"boxSizing"}))),Zt=et({prop:"fontFamily",themeKey:"typography"}),en=et({prop:"fontSize",themeKey:"typography"}),tn=et({prop:"fontStyle",themeKey:"typography"}),nn=et({prop:"fontWeight",themeKey:"typography"}),rn=et({prop:"letterSpacing"}),an=et({prop:"lineHeight"}),on=et({prop:"textAlign"}),un=xt(et({prop:"typography",cssProperty:!1,themeKey:"typography"}),Zt,en,tn,nn,rn,an,on),sn={borders:Lt.filterProps,display:Mt.filterProps,flexbox:jt.filterProps,grid:zt.filterProps,positions:Bt.filterProps,palette:qt.filterProps,shadows:Wt.filterProps,sizing:Xt.filterProps,spacing:kt.filterProps,typography:un.filterProps},cn={borders:Lt,display:Mt,flexbox:jt,grid:zt,positions:Bt,palette:qt,shadows:Wt,sizing:Xt,spacing:kt,typography:un},ln=Object.keys(sn).reduce((function(e,t){return sn[t].forEach((function(n){e[n]=cn[t]})),e}),{});var fn=function(e,t,n){var r,i=(xe(r={},e,t),xe(r,"theme",n),r),a=ln[e];return a?a(i):xe({},e,t)},hn=["sx"];function dn(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){ln[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(W(e,hn)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(wt(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return tt(e)?o({},i,e):i}:o({},i,n),o({},a,{sx:t})}var pn=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},vn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mn=pn((function(e){return vn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var yn=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),gn=Math.abs,kn=String.fromCharCode,bn=Object.assign;function wn(e){return e.trim()}function xn(e,t,n){return e.replace(t,n)}function _n(e,t){return e.indexOf(t)}function En(e,t){return 0|e.charCodeAt(t)}function Sn(e,t,n){return e.slice(t,n)}function In(e){return e.length}function Tn(e){return e.length}function Cn(e,t){return t.push(e),e}var An=1,Nn=1,Rn=0,Pn=0,On=0,Dn="";function Ln(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:An,column:Nn,length:o,return:""}}function Mn(e,t){return bn(Ln("",null,null,"",null,null,0),e,{length:-e.length},t)}function jn(){return On=Pn>0?En(Dn,--Pn):0,Nn--,10===On&&(Nn=1,An--),On}function Fn(){return On=Pn<Rn?En(Dn,Pn++):0,Nn++,10===On&&(Nn=1,An++),On}function Un(){return En(Dn,Pn)}function Vn(){return Pn}function zn(e,t){return Sn(Dn,e,t)}function Bn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qn(e){return An=Nn=1,Rn=In(Dn=e),Pn=0,[]}function Wn(e){return Dn="",e}function Hn(e){return wn(zn(Pn-1,Qn(91===e?e+2:40===e?e+1:e)))}function Kn(e){for(;(On=Un())&&On<33;)Fn();return Bn(e)>2||Bn(On)>3?"":" "}function Gn(e,t){for(;--t&&Fn()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return zn(e,Vn()+(t<6&&32==Un()&&32==Fn()))}function Qn(e){for(;Fn();)switch(On){case e:return Pn;case 34:case 39:34!==e&&39!==e&&Qn(On);break;case 40:41===e&&Qn(e);break;case 92:Fn()}return Pn}function $n(e,t){for(;Fn()&&e+On!==57&&(e+On!==84||47!==Un()););return"/*"+zn(t,Pn-1)+"*"+kn(47===e?e:Fn())}function Yn(e){for(;!Bn(Un());)Fn();return zn(e,Pn)}var Jn="-ms-",Xn="-moz-",Zn="-webkit-",er="comm",tr="rule",nr="decl",rr="@keyframes";function ir(e,t){for(var n="",r=Tn(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ar(e,t,n,r){switch(e.type){case"@import":case nr:return e.return=e.return||e.value;case er:return"";case rr:return e.return=e.value+"{"+ir(e.children,r)+"}";case tr:e.value=e.props.join(",")}return In(n=ir(e.children,r))?e.return=e.value+"{"+n+"}":""}function or(e,t){switch(function(e,t){return(((t<<2^En(e,0))<<2^En(e,1))<<2^En(e,2))<<2^En(e,3)}(e,t)){case 5103:return Zn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Zn+e+Xn+e+Jn+e+e;case 6828:case 4268:return Zn+e+Jn+e+e;case 6165:return Zn+e+Jn+"flex-"+e+e;case 5187:return Zn+e+xn(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Zn+e+Jn+"flex-item-"+xn(e,/flex-|-self/,"")+e;case 4675:return Zn+e+Jn+"flex-line-pack"+xn(e,/align-content|flex-|-self/,"")+e;case 5548:return Zn+e+Jn+xn(e,"shrink","negative")+e;case 5292:return Zn+e+Jn+xn(e,"basis","preferred-size")+e;case 6060:return Zn+"box-"+xn(e,"-grow","")+Zn+e+Jn+xn(e,"grow","positive")+e;case 4554:return Zn+xn(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return xn(xn(xn(e,/(zoom-|grab)/,Zn+"$1"),/(image-set)/,Zn+"$1"),e,"")+e;case 5495:case 3959:return xn(e,/(image-set\([^]*)/,Zn+"$1$`$1");case 4968:return xn(xn(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zn+e+e;case 4095:case 3583:case 4068:case 2532:return xn(e,/(.+)-inline(.+)/,Zn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(In(e)-1-t>6)switch(En(e,t+1)){case 109:if(45!==En(e,t+4))break;case 102:return xn(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Xn+(108==En(e,t+3)?"$3":"$2-$3"))+e;case 115:return~_n(e,"stretch")?or(xn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==En(e,t+1))break;case 6444:switch(En(e,In(e)-3-(~_n(e,"!important")&&10))){case 107:return xn(e,":",":"+Zn)+e;case 101:return xn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zn+(45===En(e,14)?"inline-":"")+"box$3$1"+Zn+"$2$3$1"+Jn+"$2box$3")+e}break;case 5936:switch(En(e,t+11)){case 114:return Zn+e+Jn+xn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Zn+e+Jn+xn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Zn+e+Jn+xn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Zn+e+Jn+e+e}return e}function ur(e){return Wn(sr("",null,null,null,[""],e=qn(e),0,[0],e))}function sr(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=Fn()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=_n(_+=xn(Hn(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=Hn(g);break;case 9:case 10:case 13:case 32:_+=Kn(p);break;case 92:_+=Gn(Vn()-1,7);continue;case 47:switch(Un()){case 42:case 47:Cn(lr($n(Fn(),Vn()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=In(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&In(_)-f&&Cn(d>32?fr(_+";",r,n,f-1):fr(xn(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(Cn(x=cr(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)sr(_,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:sr(e,x,x,r&&Cn(cr(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:sr(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+In(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==jn())continue;switch(_+=kn(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(In(_)-1)*y,y=1;break;case 64:45===Un()&&(_+=Hn(Fn())),h=Un(),l=f=In(k=_+=Yn(Vn())),g++;break;case 45:45===p&&2==In(_)&&(v=0)}}return a}function cr(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Tn(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Sn(e,f+1,f=gn(v=o[p])),k=e;y<d;++y)(k=wn(v>0?h[y]+" "+g:xn(g,/&\f/g,h[y])))&&(s[m++]=k);return Ln(e,t,n,0===i?tr:u,s,c,l)}function lr(e,t,n){return Ln(e,t,n,er,kn(On),Sn(e,2,-2),0)}function fr(e,t,n,r){return Ln(e,t,n,nr,Sn(e,0,r),Sn(e,r+1,-1),r)}var hr=function(e,t,n){for(var r=0,i=0;r=i,i=Un(),38===r&&12===i&&(t[n]=1),!Bn(i);)Fn();return zn(e,Pn)},dr=function(e,t){return Wn(function(e,t){var n=-1,r=44;do{switch(Bn(r)){case 0:38===r&&12===Un()&&(t[n]=1),e[n]+=hr(Pn-1,t,n);break;case 2:e[n]+=Hn(r);break;case 4:if(44===r){e[++n]=58===Un()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=kn(r)}}while(r=Fn());return e}(qn(e),t))},pr=new WeakMap,vr=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||pr.get(n))&&!r){pr.set(e,!0);for(var i=[],a=dr(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},mr=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},yr=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case nr:e.return=or(e.value,e.length);break;case rr:return ir([Mn(e,{value:xn(e.value,"@","@"+Zn)})],r);case tr:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ir([Mn(e,{props:[xn(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ir([Mn(e,{props:[xn(t,/:(plac\w+)/,":-webkit-input-$1")]}),Mn(e,{props:[xn(t,/:(plac\w+)/,":-moz-$1")]}),Mn(e,{props:[xn(t,/:(plac\w+)/,Jn+"input-$1")]})],r)}return""}))}}],gr=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||yr;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[ar,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Tn(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([vr,mr].concat(r,l));a=function(e,t,n,r){s=n,function(e){ir(ur(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new yn({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var kr=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},br={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wr=/[A-Z]|^ms/g,xr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_r=function(e){return 45===e.charCodeAt(1)},Er=function(e){return null!=e&&"boolean"!==typeof e},Sr=pn((function(e){return _r(e)?e:e.replace(wr,"-$&").toLowerCase()})),Ir=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(xr,(function(e,t,n){return Cr={name:t,styles:n,next:Cr},t}))}return 1===br[e]||_r(e)||"number"!==typeof t||0===t?t:t+"px"};function Tr(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Cr={name:n.name,styles:n.styles,next:Cr},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Cr={name:r.name,styles:r.styles,next:Cr},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Tr(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Er(o)&&(r+=Sr(a)+":"+Ir(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Tr(e,t,o);switch(a){case"animation":case"animationName":r+=Sr(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Er(o[s])&&(r+=Sr(a)+":"+Ir(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Cr,a=n(e);return Cr=i,Tr(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Cr,Ar=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Nr=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Cr=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Tr(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Tr(n,t,e[o]),r&&(i+=a[o]);Ar.lastIndex=0;for(var u,s="";null!==(u=Ar.exec(i));)s+="-"+u[1];return{name:kr(i)+s,styles:i,next:Cr}},Rr=(0,t.createContext)("undefined"!==typeof HTMLElement?gr({key:"css"}):null);Rr.Provider;var Pr=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Rr);return e(n,i,r)}))},Or=(0,t.createContext)({});function Dr(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Lr=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Mr=mn,jr=function(e){return"theme"!==e},Fr=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Mr:jr},Ur=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Vr=function(){return null},zr=function e(n,r){var i,a,u=n.__emotion_real===n,s=u&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var c=Ur(n,r,u),l=c||Fr(s),f=!l("as");return function(){var h=arguments,d=u&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Pr((function(e,n,r){var i=f&&e.as||s,o="",u=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,t.useContext)(Or)}"string"===typeof e.className?o=Dr(n.registered,u,e.className):null!=e.className&&(o=e.className+" ");var v=Nr(d.concat(u),n.registered,h);Lr(n,v,"string"===typeof i);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=f&&void 0===c?Fr(i):l,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);y.className=o,y.ref=r;var k=(0,t.createElement)(i,y),b=(0,t.createElement)(Vr,null);return(0,t.createElement)(t.Fragment,null,b,k)}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,o({},r,n,{shouldForwardProp:Ur(m,n,!0)})).apply(void 0,d)},m}},Br=zr.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Br[e]=Br(e)}));var qr=Br;function Wr(e,t){return qr(e,t)}var Hr=["values","unit","step"];function Kr(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,u=void 0===a?5:a,s=W(e,Hr),c=Object.keys(n);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-u/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-u/100).concat(i,")")}return o({keys:c,values:n,up:l,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var Gr={borderRadius:4};function Qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=ht({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var $r=["breakpoints","palette","spacing","shape"];var Yr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,u=e.shape,s=void 0===u?{}:u,c=W(e,$r),l=Kr(n),f=Qr(a),h=nt({breakpoints:l,direction:"ltr",components:{},palette:o({mode:"light"},i),spacing:f,shape:o({},Gr,s)},c),d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return h=p.reduce((function(e,t){return nt(e,t)}),h)};function Jr(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;function a(e){var t=e;if("function"===typeof e)t=e(i);else if("object"!==typeof e)return e;var n=Ge(i.breakpoints),r=Object.keys(n),a=n;return Object.keys(t).forEach((function(e){var n,r,o=(n=t[e],r=i,"function"===typeof n?n(r):n);if(null!==o&&void 0!==o)if("object"===typeof o)if(ln[e])a=rt(a,fn(e,o,i));else{var u=Ke({theme:i},o,(function(t){return xe({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(u,o)?a=rt(a,u):a[e]=Jr({sx:o,theme:i})}else a=rt(a,fn(e,o,i))})),Qe(r,a)}return Array.isArray(n)?n.map(a):a(n)}Jr.filterProps=["sx"];var Xr=Jr,Zr=["variant"];function ei(e){return 0===e.length}function ti(e){var t=e.variant,n=W(e,Zr),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?ei(r)?e[t]:Je(e[t]):"".concat(ei(r)?t:Je(t)).concat(Je(e[t].toString()))})),r}var ni=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],ri=["theme"],ii=["theme"];function ai(e){return 0===Object.keys(e).length}var oi=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},ui=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=ti(e.props);r[t]=e.style})),r},si=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[ti(n.props)])})),s};function ci(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var li=Yr();function fi(e,t,n){var r;return o({toolbar:(r={minHeight:56},xe(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),xe(r,e.up("sm"),{minHeight:64}),r)},n)}function hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function di(e){if(e.type)return e;if("#"===e.charAt(0))return di(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Ye(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Ye(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function pi(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function vi(e){var t="hsl"===(e=di(e)).type?di(function(e){var t=(e=di(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),pi({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function mi(e,t){return e=di(e),t=hi(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,pi(e)}function yi(e,t){if(e=di(e),t=hi(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return pi(e)}function gi(e,t){if(e=di(e),t=hi(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return pi(e)}var ki={black:"#000",white:"#fff"},bi={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wi={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},xi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},_i={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ei={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Si={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ii={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ti=["mode","contrastThreshold","tonalOffset"],Ci={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ki.white,default:ki.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ai={text:{primary:ki.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ki.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ni(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=gi(e.main,i):"dark"===t&&(e.dark=yi(e.main,a)))}function Ri(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,u=void 0===a?.2:a,s=W(e,Ti),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ei[200],light:Ei[50],dark:Ei[400]}:{main:Ei[700],light:Ei[400],dark:Ei[800]}}(n),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wi[200],light:wi[50],dark:wi[400]}:{main:wi[500],light:wi[300],dark:wi[700]}}(n),f=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:xi[500],light:xi[300],dark:xi[700]}:{main:xi[700],light:xi[400],dark:xi[800]}}(n),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Si[400],light:Si[300],dark:Si[700]}:{main:Si[700],light:Si[500],dark:Si[900]}}(n),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ii[400],light:Ii[300],dark:Ii[700]}:{main:Ii[800],light:Ii[500],dark:Ii[900]}}(n),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_i[400],light:_i[300],dark:_i[700]}:{main:"#ed6c02",light:_i[500],dark:_i[900]}}(n);function v(e){var t=function(e,t){var n=vi(e),r=vi(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Ai.text.primary)>=i?Ai.text.primary:Ci.text.primary;return t}var m=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,c=e.darkShade,l=void 0===c?700:c;if(!(t=o({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Ye(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Ye(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ni(t,"light",s,u),Ni(t,"dark",l,u),t.contrastText||(t.contrastText=v(t.main)),t},y={dark:Ai,light:Ci};return nt(o({common:ki,mode:n,primary:m({color:c,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:f,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:h,name:"info"}),success:m({color:d,name:"success"}),grey:bi,contrastThreshold:i,getContrastText:v,augmentColor:m,tonalOffset:u},y[n]),s)}var Pi=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Oi={textTransform:"uppercase"},Di='"Roboto", "Helvetica", "Arial", sans-serif';function Li(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Di:r,a=n.fontSize,u=void 0===a?14:a,s=n.fontWeightLight,c=void 0===s?300:s,l=n.fontWeightRegular,f=void 0===l?400:l,h=n.fontWeightMedium,d=void 0===h?500:h,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,k=n.pxToRem,b=W(n,Pi);var w=u/14,x=k||function(e){return"".concat(e/y*w,"rem")},_=function(e,t,n,r,a){return o({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===Di?{letterSpacing:"".concat((u=r/t,Math.round(1e5*u)/1e5),"em")}:{},a,g);var u},E={h1:_(c,96,1.167,-1.5),h2:_(c,60,1.2,-.5),h3:_(f,48,1.167,0),h4:_(f,34,1.235,.25),h5:_(f,24,1.334,0),h6:_(d,20,1.6,.15),subtitle1:_(f,16,1.75,.15),subtitle2:_(d,14,1.57,.1),body1:_(f,16,1.5,.15),body2:_(f,14,1.43,.15),button:_(d,14,1.75,.4,Oi),caption:_(f,12,1.66,.4),overline:_(f,12,2.66,1,Oi)};return nt(o({htmlFontSize:y,pxToRem:x,fontFamily:i,fontSize:u,fontWeightLight:c,fontWeightRegular:f,fontWeightMedium:d,fontWeightBold:v},E),b,{clone:!1})}function Mi(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ji=["none",Mi(0,2,1,-1,0,1,1,0,0,1,3,0),Mi(0,3,1,-2,0,2,2,0,0,1,5,0),Mi(0,3,3,-2,0,3,4,0,0,1,8,0),Mi(0,2,4,-1,0,4,5,0,0,1,10,0),Mi(0,3,5,-1,0,5,8,0,0,1,14,0),Mi(0,3,5,-1,0,6,10,0,0,1,18,0),Mi(0,4,5,-2,0,7,10,1,0,2,16,1),Mi(0,5,5,-3,0,8,10,1,0,3,14,2),Mi(0,5,6,-3,0,9,12,1,0,3,16,2),Mi(0,6,6,-3,0,10,14,1,0,4,18,3),Mi(0,6,7,-4,0,11,15,1,0,4,20,3),Mi(0,7,8,-4,0,12,17,2,0,5,22,4),Mi(0,7,8,-4,0,13,19,2,0,5,24,4),Mi(0,7,9,-4,0,14,21,2,0,5,26,4),Mi(0,8,9,-5,0,15,22,2,0,6,28,5),Mi(0,8,10,-5,0,16,24,2,0,6,30,5),Mi(0,8,11,-5,0,17,26,2,0,6,32,5),Mi(0,9,11,-5,0,18,28,2,0,7,34,6),Mi(0,9,12,-6,0,19,29,2,0,7,36,6),Mi(0,10,13,-6,0,20,31,3,0,8,38,7),Mi(0,10,13,-6,0,21,33,3,0,8,40,7),Mi(0,10,14,-6,0,22,35,3,0,8,42,7),Mi(0,11,14,-7,0,23,36,3,0,9,44,8),Mi(0,11,15,-7,0,24,38,3,0,9,46,8)],Fi=["duration","easing","delay"],Ui={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Vi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function zi(e){return"".concat(Math.round(e),"ms")}function Bi(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function qi(e){var t=o({},Ui,e.easing),n=o({},Vi,e.duration);return o({getAutoHeightDuration:Bi,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;W(r,Fi);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:zi(a)," ").concat(u," ").concat("string"===typeof c?c:zi(c))})).join(",")}},e,{easing:t,duration:n})}var Wi={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Hi=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,u=void 0===a?{}:a,s=e.typography,c=void 0===s?{}:s,l=W(e,Hi),f=Ri(i),h=Yr(e),d=nt(h,{mixins:fi(h.breakpoints,h.spacing,n),palette:f,shadows:ji.slice(),typography:Li(f,c),transitions:qi(u),zIndex:o({},Wi)});d=nt(d,l);for(var p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return nt(e,t)}),d)}var Gi=Ki(),Qi=function(e){return ci(e)&&"classes"!==e},$i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?li:t,r=e.rootShouldForwardProp,i=void 0===r?ci:r,a=e.slotShouldForwardProp,u=void 0===a?ci:a;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,s=r.slot,c=r.skipVariantsResolver,l=r.skipSx,f=r.overridesResolver,h=W(r,ni),d=void 0!==c?c:s&&"Root"!==s||!1,p=l||!1;var v=ci;"Root"===s?v=i:s&&(v=u);var m=Wr(e,o({shouldForwardProp:v,label:t},h)),y=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var u=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=W(t,ri);return e(o({theme:ai(r)?n:r},i))}:e})):[],s=e;a&&f&&u.push((function(e){var t=ai(e.theme)?n:e.theme,r=oi(a,t);return r?f(e,r):null})),a&&!d&&u.push((function(e){var t=ai(e.theme)?n:e.theme;return si(e,ui(a,t),t,a)})),p||u.push((function(e){var t=ai(e.theme)?n:e.theme;return Xr(o({},e,{theme:t}))}));var c=u.length-r.length;if(Array.isArray(e)&&c>0){var l=new Array(c).fill("");(s=[].concat(wt(e),wt(l))).raw=[].concat(wt(e.raw),wt(l))}else"function"===typeof e&&(s=function(t){var r=t.theme,i=W(t,ii);return e(o({theme:ai(r)?n:r},i))});var h=m.apply(void 0,[s].concat(wt(u)));return h};return y}}({defaultTheme:Gi,rootShouldForwardProp:Qi}),Yi=$i;function Ji(e,t){var n=o({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Xi=t.createContext(null);function Zi(){return t.useContext(Xi)}function ea(e){return 0===Object.keys(e).length}var ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Zi();return!t||ea(t)?e:t},na=Yr();var ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na;return ta(e)};function ia(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Ji(t.components[n].defaultProps,r):r}({theme:ra(r),name:n,props:t});return i}function aa(e){return ia({props:e.props,name:e.name,defaultTheme:Gi})}var oa=["component","direction","spacing","divider","children"];function ua(e,n){var r=t.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,a){return e.push(i),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var sa=Yi("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=o({display:"flex"},Ke({theme:n},$e({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=ht(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),u=$e({values:t.direction,base:a});r=nt(r,Ke({theme:n},$e({values:t.spacing,base:a}),(function(e,n){return{"& > :not(style) + :not(style)":xe({margin:0},"margin".concat((r=n?u[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),dt(i,e))};var r})))}return r})),ca=t.forwardRef((function(e,t){var n=dn(aa({props:e,name:"MuiStack"})),r=n.component,i=void 0===r?"div":r,a=n.direction,u=void 0===a?"column":a,s=n.spacing,c=void 0===s?0:s,l=n.divider,f=n.children,h=W(n,oa),d={direction:u,spacing:c};return(0,Ne.jsx)(sa,o({as:i,ownerState:d,ref:t},h,{children:l?ua(f,l):f}))})),la=ca;function fa(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=fa(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ha(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=fa(e))&&(r&&(r+=" "),r+=t);return r}function da(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function pa(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var va=function(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){pa(e,t),pa(n,t)}}),[e,n])},ma="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var ya,ga=function(e){var n=t.useRef(e);return ma((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},ka=!0,ba=!1,wa={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function xa(e){e.metaKey||e.altKey||e.ctrlKey||(ka=!0)}function _a(){ka=!1}function Ea(){"hidden"===this.visibilityState&&ba&&(ka=!0)}function Sa(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ka||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!wa[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Ia=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",xa,!0),t.addEventListener("mousedown",_a,!0),t.addEventListener("pointerdown",_a,!0),t.addEventListener("touchstart",_a,!0),t.addEventListener("visibilitychange",Ea,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Sa(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(ba=!0,window.clearTimeout(ya),ya=window.setTimeout((function(){ba=!1}),100),n.current=!1,!0)},ref:e}};function Ta(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Aa=t.createContext(null);function Na(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Ra(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Pa(e,n,r){var i=Na(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:Ra(u,"exit",e),enter:Ra(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Ra(u,"exit",e),enter:Ra(u,"enter",e)})}})),a}var Oa=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Da=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Ca(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}a(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,Na(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Ra(e,"appear",r),enter:Ra(e,"enter",r),exit:Ra(e,"exit",r)})}))):Pa(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=Na(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=o({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=W(e,["component","childFactory"]),a=this.state.contextValue,o=Oa(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Aa.Provider,{value:a},o):t.createElement(Aa.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);Da.propTypes={},Da.defaultProps={component:"div",childFactory:function(e){return e}};var La=Da;function Ma(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nr(t)}var ja=function(){var e=Ma.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Fa=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,f=e.timeout,h=Ae(t.useState(!1),2),d=h[0],p=h[1],v=ha(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),m={width:s,height:s,top:-s/2+u,left:-s/2+o},y=ha(r.child,d&&r.childLeaving,a&&r.childPulsate);return c||d||p(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,f);return function(){clearTimeout(e)}}}),[l,c,f]),(0,Ne.jsx)("span",{className:v,style:m,children:(0,Ne.jsx)("span",{className:y})})},Ua=function(e){return e},Va=function(){var e=Ua;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Ua}}}(),za={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Ba(e,t){return za[t]||"".concat(Va.generate(e),"-").concat(t)}function qa(e,t){var n={};return t.forEach((function(t){n[t]=Ba(e,t)})),n}var Wa,Ha,Ka,Ga,Qa,$a,Ya,Ja,Xa=qa("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Za=["center","classes","className"],eo=ja(Qa||(Qa=Wa||(Wa=Ta(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),to=ja($a||($a=Ha||(Ha=Ta(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),no=ja(Ya||(Ya=Ka||(Ka=Ta(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),ro=Yi("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),io=Yi(Fa,{name:"MuiTouchRipple",slot:"Ripple"})(Ja||(Ja=Ga||(Ga=Ta(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Xa.rippleVisible,eo,550,(function(e){return e.theme.transitions.easing.easeInOut}),Xa.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Xa.child,Xa.childLeaving,to,550,(function(e){return e.theme.transitions.easing.easeInOut}),Xa.childPulsate,no,(function(e){return e.theme.transitions.easing.easeInOut})),ao=t.forwardRef((function(e,n){var r=aa({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,u=r.classes,s=void 0===u?{}:u,c=r.className,l=W(r,Za),f=Ae(t.useState([]),2),h=f[0],d=f[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[h]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat(wt(e),[(0,Ne.jsx)(io,{classes:{ripple:ha(s.ripple,Xa.ripple),rippleVisible:ha(s.rippleVisible,Xa.rippleVisible),ripplePulsate:ha(s.ripplePulsate,Xa.ripplePulsate),child:ha(s.child,Xa.child),childLeaving:ha(s.childLeaving,Xa.childLeaving),childPulsate:ha(s.childPulsate,Xa.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,v.current=a}),[s]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(E,2))}e.touches?null===g.current&&(g.current=function(){b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),_=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&g.current)return g.current(),g.current=null,void(y.current=setTimeout((function(){_(e,t)})));g.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:_}}),[x,w,_]),(0,Ne.jsx)(ro,o({className:ha(s.root,Xa.root,c),ref:k},l,{children:(0,Ne.jsx)(La,{component:null,exit:!0,children:h})}))})),oo=ao;function uo(e){return Ba("MuiButtonBase",e)}var so,co=qa("MuiButtonBase",["root","disabled","focusVisible"]),lo=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],fo=Yi("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((xe(so={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(co.disabled),{pointerEvents:"none",cursor:"default"}),xe(so,"@media print",{colorAdjust:"exact"}),so)),ho=t.forwardRef((function(e,n){var r=aa({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,u=void 0!==a&&a,s=r.children,c=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,d=void 0!==h&&h,p=r.disableRipple,v=void 0!==p&&p,m=r.disableTouchRipple,y=void 0!==m&&m,g=r.focusRipple,k=void 0!==g&&g,b=r.LinkComponent,w=void 0===b?"a":b,x=r.onBlur,_=r.onClick,E=r.onContextMenu,S=r.onDragLeave,I=r.onFocus,T=r.onFocusVisible,C=r.onKeyDown,A=r.onKeyUp,N=r.onMouseDown,R=r.onMouseLeave,P=r.onMouseUp,O=r.onTouchEnd,D=r.onTouchMove,L=r.onTouchStart,M=r.tabIndex,j=void 0===M?0:M,F=r.TouchRippleProps,U=r.type,V=W(r,lo),z=t.useRef(null),B=t.useRef(null),q=Ia(),H=q.isFocusVisibleRef,K=q.onFocus,G=q.onBlur,Q=q.ref,$=Ae(t.useState(!1),2),Y=$[0],J=$[1];function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return ga((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}d&&Y&&J(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){J(!0),z.current.focus()}}}),[]),t.useEffect((function(){Y&&k&&!v&&B.current.pulsate()}),[v,k,Y]);var Z=X("start",N),ee=X("stop",E),te=X("stop",S),ne=X("stop",P),re=X("stop",(function(e){Y&&e.preventDefault(),R&&R(e)})),ie=X("start",L),ae=X("stop",O),oe=X("stop",D),ue=X("stop",(function(e){G(e),!1===H.current&&J(!1),x&&x(e)}),!1),se=ga((function(e){z.current||(z.current=e.currentTarget),K(e),!0===H.current&&(J(!0),T&&T(e)),I&&I(e)})),ce=function(){var e=z.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},le=t.useRef(!1),fe=ga((function(e){k&&!le.current&&Y&&B.current&&" "===e.key&&(le.current=!0,B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&ce()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&ce()&&"Enter"===e.key&&!d&&(e.preventDefault(),_&&_(e))})),he=ga((function(e){k&&" "===e.key&&B.current&&Y&&!e.defaultPrevented&&(le.current=!1,B.current.stop(e,(function(){B.current.pulsate(e)}))),A&&A(e),_&&e.target===e.currentTarget&&ce()&&" "===e.key&&!e.defaultPrevented&&_(e)})),de=f;"button"===de&&(V.href||V.to)&&(de=w);var pe={};"button"===de?(pe.type=void 0===U?"button":U,pe.disabled=d):(V.href||V.to||(pe.role="button"),d&&(pe["aria-disabled"]=d));var ve=va(Q,z),me=va(n,ve),ye=Ae(t.useState(!1),2),ge=ye[0],ke=ye[1];t.useEffect((function(){ke(!0)}),[]);var be=ge&&!v&&!d;var we=o({},r,{centerRipple:u,component:f,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:k,tabIndex:j,focusVisible:Y}),xe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=da({root:["root",t&&"disabled",n&&"focusVisible"]},uo,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(we);return(0,Ne.jsxs)(fo,o({as:de,className:ha(xe.root,c),ownerState:we,onBlur:ue,onClick:_,onContextMenu:ee,onFocus:se,onKeyDown:fe,onKeyUp:he,onMouseDown:Z,onMouseLeave:re,onMouseUp:ne,onDragLeave:te,onTouchEnd:ae,onTouchMove:oe,onTouchStart:ie,ref:me,tabIndex:d?-1:j,type:U},pe,V,{children:[s,be?(0,Ne.jsx)(oo,o({ref:B,center:u},F)):null]}))})),po=ho,vo=Je;function mo(e){return Ba("MuiButton",e)}var yo=qa("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var go=t.createContext({}),ko=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],bo=function(e){return o({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},wo=Yi(po,{shouldForwardProp:function(e){return Qi(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(vo(n.color))],t["size".concat(vo(n.size))],t["".concat(n.variant,"Size").concat(vo(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return o({},n.typography.button,(xe(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":o({textDecoration:"none",backgroundColor:mi(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:mi(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:mi(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":o({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},"&.".concat(yo.focusVisible),o({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),xe(t,"&.".concat(yo.disabled),o({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat(mi(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(xe(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(yo.focusVisible),{boxShadow:"none"}),xe(t,"&:active",{boxShadow:"none"}),xe(t,"&.".concat(yo.disabled),{boxShadow:"none"}),t)})),xo=Yi("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(vo(n.size))]]}})((function(e){var t=e.ownerState;return o({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},bo(t))})),_o=Yi("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(vo(n.size))]]}})((function(e){var t=e.ownerState;return o({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},bo(t))})),Eo=t.forwardRef((function(e,n){var r=t.useContext(go),i=aa({props:Ji(r,e),name:"MuiButton"}),a=i.children,u=i.color,s=void 0===u?"primary":u,c=i.component,l=void 0===c?"button":c,f=i.className,h=i.disabled,d=void 0!==h&&h,p=i.disableElevation,v=void 0!==p&&p,m=i.disableFocusRipple,y=void 0!==m&&m,g=i.endIcon,k=i.focusVisibleClassName,b=i.fullWidth,w=void 0!==b&&b,x=i.size,_=void 0===x?"medium":x,E=i.startIcon,S=i.type,I=i.variant,T=void 0===I?"text":I,C=W(i,ko),A=o({},i,{color:s,component:l,disabled:d,disableElevation:v,disableFocusRipple:y,fullWidth:w,size:_,type:S,variant:T}),N=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,u=e.classes;return o({},u,da({root:["root",a,"".concat(a).concat(vo(t)),"size".concat(vo(i)),"".concat(a,"Size").concat(vo(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(vo(i))],endIcon:["endIcon","iconSize".concat(vo(i))]},mo,u))}(A),R=E&&(0,Ne.jsx)(xo,{className:N.startIcon,ownerState:A,children:E}),P=g&&(0,Ne.jsx)(_o,{className:N.endIcon,ownerState:A,children:g});return(0,Ne.jsxs)(wo,o({ownerState:A,className:ha(f,r.className),component:l,disabled:d,focusRipple:!y,focusVisibleClassName:ha(N.focusVisible,k),ref:n,type:S},C,{classes:N,children:[R,a,P]}))})),So=Eo,Io=function(){var e=he();return(0,Ne.jsxs)("nav",{children:[(0,Ne.jsx)("div",{className:"logo",children:(0,Ne.jsx)("img",{src:qe,alt:"logo",onClick:function(){e.push("/walley")}})}),(0,Ne.jsxs)(la,{className:"buttons",spacing:5,direction:"row",children:[(0,Ne.jsx)(la,{className:"menuStack",spacing:3,direction:"row",children:(0,Ne.jsx)(ke,{className:"link",to:"/about",children:(0,Ne.jsx)(So,{className:"aboutBtn",children:"ABOUT US"})})}),(0,Ne.jsxs)(la,{className:"authStack",spacing:2,direction:"row",children:[(0,Ne.jsx)(ke,{className:"link",to:"/login",children:(0,Ne.jsx)(So,{className:"loginBtn",children:"LOGIN"})}),(0,Ne.jsx)(ke,{className:"link",to:"/signup",children:(0,Ne.jsx)(So,{className:"signUpBtn",children:"SIGN UP"})})]})]})]})},To=function(){return(0,Ne.jsxs)("div",{className:"footer-wrapper",children:[(0,Ne.jsx)("div",{className:"links-wrapper",children:(0,Ne.jsxs)("ul",{"data-header":"Information",children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{className:"link",href:"/walley",children:"Project"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{className:"link",href:"/walley",children:"Introduction"})})]})}),(0,Ne.jsx)("div",{className:"links-wrapper",children:(0,Ne.jsx)("ul",{"data-header":"Contacts",children:(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{className:"link",href:"/walley",children:"Location"})})})}),(0,Ne.jsx)("div",{className:"links-wrapper",children:(0,Ne.jsx)("ul",{"data-header":"Social Media",children:(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{className:"link",href:"/walley",children:"GitHub"})})})}),(0,Ne.jsx)("div",{className:"links-wrapper",children:(0,Ne.jsxs)("ul",{"data-header":"Members",children:[(0,Ne.jsx)("li",{children:"Jaewon Lee"}),(0,Ne.jsx)("li",{children:"Hasung Jun"}),(0,Ne.jsx)("li",{children:"Ahyoung Oh"})]})}),(0,Ne.jsx)("div",{className:"links-wrapper",children:(0,Ne.jsx)("ul",{"data-header":"Icons",children:(0,Ne.jsx)("li",{children:(0,Ne.jsx)("a",{className:"link",href:"https://icons8.com/",children:"Icon8"})})})})]})};function Co(e){return Ba("MuiCircularProgress",e)}qa("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var Ao,No,Ro,Po,Oo,Do,Lo,Mo,jo=["className","color","disableShrink","size","style","thickness","value","variant"],Fo=44,Uo=ja(Oo||(Oo=Ao||(Ao=Ta(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),Vo=ja(Do||(Do=No||(No=Ta(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),zo=Yi("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(vo(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return o({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:n.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Ma(Lo||(Lo=Ro||(Ro=Ta(["\n      animation: "," 1.4s linear infinite;\n    "]))),Uo)})),Bo=Yi("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),qo=Yi("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(vo(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return o({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Ma(Mo||(Mo=Po||(Po=Ta(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),Vo)})),Wo=t.forwardRef((function(e,t){var n=aa({props:e,name:"MuiCircularProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,u=n.disableShrink,s=void 0!==u&&u,c=n.size,l=void 0===c?40:c,f=n.style,h=n.thickness,d=void 0===h?3.6:h,p=n.value,v=void 0===p?0:p,m=n.variant,y=void 0===m?"indeterminate":m,g=W(n,jo),k=o({},n,{color:a,disableShrink:s,size:l,thickness:d,value:v,variant:y}),b=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink;return da({root:["root",n,"color".concat(vo(r))],svg:["svg"],circle:["circle","circle".concat(vo(n)),i&&"circleDisableShrink"]},Co,t)}(k),w={},x={},_={};if("determinate"===y){var E=2*Math.PI*((Fo-d)/2);w.strokeDasharray=E.toFixed(3),_["aria-valuenow"]=Math.round(v),w.strokeDashoffset="".concat(((100-v)/100*E).toFixed(3),"px"),x.transform="rotate(-90deg)"}return(0,Ne.jsx)(zo,o({className:ha(b.root,r),style:o({width:l,height:l},x,f),ownerState:k,ref:t,role:"progressbar"},_,g,{children:(0,Ne.jsx)(Bo,{className:b.svg,ownerState:k,viewBox:"".concat(22," ").concat(22," ").concat(Fo," ").concat(Fo),children:(0,Ne.jsx)(qo,{className:b.circle,style:w,ownerState:k,cx:Fo,cy:Fo,r:(Fo-d)/2,fill:"none",strokeWidth:d})})}))})),Ho=Wo;var Ko=n.p+"static/media/BE.b32bb51b2413751b41f3e3ca0fbd363f.svg",Go=n(3079);var Qo=n.p+"static/media/brush-touch.888e53e75cb0f0939d4473479e8dea63.svg",$o=n(2087);var Yo=n.p+"static/media/budget-planner.d39e85096b50903728ed9e0e69e174a4.svg",Jo=n(3429);var Xo=n.p+"static/media/large-rectangle.911c3035797a32ea55b7e0303e015f27.svg";var Zo=n.p+"static/media/small-rectangle.bdbe8ca6a3a382c26d5bdb94c976b39e.svg";var eu=n.p+"static/media/stacked-rectangle.859b39ddd8928ce2fe9b464659e4ff5f.svg",tu={Logo:qe,landing:{BE:Ko,BoardGraph:Go,BrushTouch:Qo,BudgetPlannerIMG:$o,BudgetPlannerSVG:Yo,Create:Jo,LargeRectangle:Xo,SmallRectangle:Zo,StackedRectangle:eu}}.landing,nu=tu.BE,ru=tu.BoardGraph,iu=tu.BrushTouch,au=tu.BudgetPlannerSVG,ou=tu.LargeRectangle,uu=tu.SmallRectangle,su=tu.Create,cu=function(){return(0,Ne.jsx)("section",{className:"landing-section",children:(0,Ne.jsxs)("div",{className:"wrapper-flex",children:[(0,Ne.jsxs)("div",{className:"text-wrapper",children:[(0,Ne.jsx)("img",{className:"decoration-svg be",src:nu,alt:"be"}),(0,Ne.jsx)("div",{className:"border-wrapper",children:(0,Ne.jsx)("h1",{className:"section-heading heading-space",children:"BE THE OWNER OF YOUR MONEY"})}),(0,Ne.jsx)("p",{className:"section-para",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,"}),(0,Ne.jsx)(So,{className:"explore-btn",children:"GET STARTED"})]}),(0,Ne.jsx)("div",{className:"img-wrapper",children:(0,Ne.jsx)("img",{className:"budget-planner",src:au,alt:"budget-planner"})})]})})},lu=function(){return(0,Ne.jsx)("div",{className:"stacked-rectangle-wrapper",children:(0,Ne.jsx)("section",{className:"landing-section",children:(0,Ne.jsxs)("div",{className:"wrapper-flex border-section",children:[(0,Ne.jsx)("div",{className:"img-wrapper",children:(0,Ne.jsx)("img",{className:"board-graph",src:ru,alt:"graph-img"})}),(0,Ne.jsxs)("div",{className:"text-wrapper",children:[(0,Ne.jsx)("img",{className:"decoration-svg brush-touch",src:iu,alt:"brush-touch"}),(0,Ne.jsx)("h1",{className:"section-heading heading-point",children:"At"}),(0,Ne.jsx)("h1",{className:"section-heading",children:"A Glance"}),(0,Ne.jsx)("p",{className:"section-para border-wrapper",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,"})]})]})})})},fu=function(e){return(0,Ne.jsxs)("div",{className:"functionality-container",children:[(0,Ne.jsx)("div",{className:"sketch-img-wrapper",children:(0,Ne.jsx)("img",{src:e.imgSrc,alt:"testing"})}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h3",{children:e.title}),(0,Ne.jsx)("p",{children:e.content})]})]})},hu=function(){var e=[su,su,su],t=["Summary","Add Spendings","Category"],n=["See your spending at a glance","Add income/expenses easily","Categorize spendings for a detailed analysis"];return(0,Ne.jsx)("section",{className:"landing-section",children:(0,Ne.jsxs)("div",{className:"wrapper-flex wrap",children:[(0,Ne.jsxs)("div",{className:"section-subheading-wrapper",children:[(0,Ne.jsx)("img",{className:"decoration-svg large-rectangle",src:ou,alt:"decoration-large"}),(0,Ne.jsx)("img",{className:"decoration-svg small-rectangle",src:uu,alt:"decoration-small"}),(0,Ne.jsx)("h1",{className:"section-subheading text-center",children:"How it works"})]}),(0,Ne.jsx)("div",{className:"funtionalities-layout-container",children:e.map((function(e,r){return(0,Ne.jsx)(fu,{imgSrc:e,title:t[r],content:n[r]})}))})]})})};function du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t,n){return t&&pu(e.prototype,t),n&&pu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Te(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function yu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gu(e)}function ku(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bu(e){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(e)}function wu(e,t){if(t&&("object"===bu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ca(e)}function xu(e){var t=ku();return function(){var n,r=gu(e);if(t){var i=gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wu(this,n)}}function _u(e,t,n){return _u=ku()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},_u.apply(null,arguments)}function Eu(e){var t="function"===typeof Map?new Map:void 0;return Eu=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _u(e,arguments,gu(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},Eu(e)}var Su=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Iu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Su(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Tu=function(e){return function(e){var t=Su(e);return Iu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Cu=function(e){try{return Iu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Au(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Nu(n)&&(e[n]=Au(e[n],t[n]));return e}function Nu(e){return"__proto__"!==e}var Ru=function(){function e(){var t=this;du(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return vu(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pu(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Tu(JSON.stringify({alg:"none",type:"JWT"})),Tu(JSON.stringify(a)),""].join(".")}function Ou(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Du(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ou())}function Lu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Mu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ju(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Fu(){var e=Ou();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Uu(){return"object"===typeof indexedDB}var Vu=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ca(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ca(a),zu.prototype.create),a}return vu(n)}(Eu(Error)),zu=function(){function e(t,n,r){du(this,e),this.service=t,this.serviceName=n,this.errors=r}return vu(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Bu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Vu(n,a,t);return o}}]),e}();function Bu(e,t){return e.replace(qu,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var qu=/\{\$([^}]+)}/g;function Wu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ku(u)&&Ku(s)){if(!Hu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ku(e){return null!==e&&"object"===typeof e}function Gu(e){for(var t=[],n=function(){var e=Ae(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Qu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Ae(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $u(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Yu(e,t){var n=new Ju(e,t);return n.subscribe.bind(n)}var Ju=function(){function e(t,n){var r=this;du(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return vu(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=mu(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Xu),void 0===r.error&&(r.error=Xu),void 0===r.complete&&(r.complete=Xu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Xu(){}function Zu(e){return e&&e._delegate?e._delegate:e}function es(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ts(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){es(a,r,i,o,u,"next",e)}function u(e){es(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ns=n(7757),rs=n.n(ns),is=function(){function e(t,n,r){du(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return vu(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),as="[DEFAULT]",os=function(){function e(t,n){du(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return vu(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ru;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch(s){}var t,n=mu(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Ae(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ts(ns.mark((function e(){var t;return ns.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(wt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),wt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=mu(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Ae(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=mu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(NC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:us(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(NC){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as;return this.component?this.component.multipleInstances?e:as:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function us(e){return e===as?void 0:e}var ss,cs,ls=function(){function e(t){du(this,e),this.name=t,this.providers=new Map}return vu(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new os(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),fs=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(cs||(cs={}));var hs,ds,ps={debug:cs.DEBUG,verbose:cs.VERBOSE,info:cs.INFO,warn:cs.WARN,error:cs.ERROR,silent:cs.SILENT},vs=cs.INFO,ms=(xe(ss={},cs.DEBUG,"log"),xe(ss,cs.VERBOSE,"log"),xe(ss,cs.INFO,"info"),xe(ss,cs.WARN,"warn"),xe(ss,cs.ERROR,"error"),ss),ys=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ms[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},gs=function(){function e(t){du(this,e),this.name=t,this._logLevel=vs,this._logHandler=ys,this._userLogHandler=null,fs.push(this)}return vu(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in cs))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ps[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cs.DEBUG].concat(t)),this._logHandler.apply(this,[this,cs.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cs.VERBOSE].concat(t)),this._logHandler.apply(this,[this,cs.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cs.INFO].concat(t)),this._logHandler.apply(this,[this,cs.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cs.WARN].concat(t)),this._logHandler.apply(this,[this,cs.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,cs.ERROR].concat(t)),this._logHandler.apply(this,[this,cs.ERROR].concat(t))}}]),e}();var ks=function(){function e(t){du(this,e),this.container=t}return vu(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var bs="@firebase/app",ws="0.7.11",xs=new gs("@firebase/app"),_s="[DEFAULT]",Es=(xe(hs={},bs,"fire-core"),xe(hs,"@firebase/app-compat","fire-core-compat"),xe(hs,"@firebase/analytics","fire-analytics"),xe(hs,"@firebase/analytics-compat","fire-analytics-compat"),xe(hs,"@firebase/app-check","fire-app-check"),xe(hs,"@firebase/app-check-compat","fire-app-check-compat"),xe(hs,"@firebase/auth","fire-auth"),xe(hs,"@firebase/auth-compat","fire-auth-compat"),xe(hs,"@firebase/database","fire-rtdb"),xe(hs,"@firebase/database-compat","fire-rtdb-compat"),xe(hs,"@firebase/functions","fire-fn"),xe(hs,"@firebase/functions-compat","fire-fn-compat"),xe(hs,"@firebase/installations","fire-iid"),xe(hs,"@firebase/installations-compat","fire-iid-compat"),xe(hs,"@firebase/messaging","fire-fcm"),xe(hs,"@firebase/messaging-compat","fire-fcm-compat"),xe(hs,"@firebase/performance","fire-perf"),xe(hs,"@firebase/performance-compat","fire-perf-compat"),xe(hs,"@firebase/remote-config","fire-rc"),xe(hs,"@firebase/remote-config-compat","fire-rc-compat"),xe(hs,"@firebase/storage","fire-gcs"),xe(hs,"@firebase/storage-compat","fire-gcs-compat"),xe(hs,"@firebase/firestore","fire-fst"),xe(hs,"@firebase/firestore-compat","fire-fst-compat"),xe(hs,"fire-js","fire-js"),xe(hs,"firebase","fire-js-all"),hs),Ss=new Map,Is=new Map;function Ts(e,t){try{e.container.addComponent(t)}catch(n){xs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Cs(e,t){e.container.addOrOverwriteComponent(t)}function As(e){var t=e.name;if(Is.has(t))return xs.debug("There were multiple attempts to register component ".concat(t,".")),!1;Is.set(t,e);var n,r=mu(Ss.values());try{for(r.s();!(n=r.n()).done;){Ts(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ns(e,t){return e.container.getProvider(t)}function Rs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_s;Ns(e,t).clearInstance(n)}function Ps(){Is.clear()}var Os,Ds,Ls=(xe(ds={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xe(ds,"bad-app-name","Illegal App name: '{$appName}"),xe(ds,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),xe(ds,"app-deleted","Firebase App named '{$appName}' already deleted"),xe(ds,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),xe(ds,"invalid-log-argument","First argument to `onLog` must be null or a function."),ds),Ms=new zu("app","Firebase",Ls),js=function(){function e(t,n,r){var i=this;du(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",(function(){return i}),"PUBLIC"))}return vu(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}]),e}(),Fs="9.6.1";function Us(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:_s,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ms.create("bad-app-name",{appName:String(i)});var a=Ss.get(i);if(a){if(Hu(e,a.options)&&Hu(r,a.config))return a;throw Ms.create("duplicate-app",{appName:i})}var o,u=new ls(i),s=mu(Is.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new js(e,r,u);return Ss.set(i,l),l}function Vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s,t=Ss.get(e);if(!t)throw Ms.create("no-app",{appName:e});return t}function zs(){return Array.from(Ss.values())}function Bs(e){return qs.apply(this,arguments)}function qs(){return(qs=ts(ns.mark((function e(t){var n;return ns.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ss.has(n)){e.next=6;break}return Ss.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(e,t,n){var r,i=null!==(r=Es[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xs.warn(u.join(" "))}As(new is("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Hs(e,t){if(null!==e&&"function"!==typeof e)throw Ms.create("invalid-log-argument");!function(e,t){var n,r=mu(fs);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ps[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:cs[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ks(e){var t;t=e,fs.forEach((function(e){e.setLogLevel(t)}))}Os="",As(new is("platform-logger",(function(e){return new ks(e)}),"PRIVATE")),Ws(bs,ws,Os),Ws(bs,ws,"esm2017"),Ws("fire-js","");var Gs=function(){function e(t,n){var r=this;du(this,e),this._delegate=t,this.firebase=n,Ts(t,new is("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return vu(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Bs(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_s;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_s;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ts(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Cs(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Qs=(xe(Ds={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xe(Ds,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ds),$s=new zu("app-compat","Firebase",Qs);var Ys=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Us(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Wu(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ws,setLogLevel:Ks,onLog:Hs,apps:null,SDK_VERSION:Fs,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(As(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw $s.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Au(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Wu(n,e=e||_s))throw $s.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Gs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Au(n,e)},createSubscribe:Yu,ErrorFactory:zu,deepExtend:Au}),n}(),Js=new gs("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Js.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Xs=self.firebase.SDK_VERSION;Xs&&Xs.indexOf("LITE")>=0&&Js.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Zs=Ys;!function(e){Ws("@firebase/app-compat","0.1.12",e)}();function ec(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gu(e)););return e}function tc(){return tc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ec(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tc.apply(this,arguments)}Zs.registerVersion("firebase","9.6.1","app-compat");function nc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var rc;Object.create;var ic="facebook.com",ac="github.com",oc="google.com",uc="password",sc="twitter.com",cc="EMAIL_SIGNIN",lc="PASSWORD_RESET",fc="RECOVER_EMAIL",hc="REVERT_SECOND_FACTOR_ADDITION",dc="VERIFY_AND_CHANGE_EMAIL",pc="VERIFY_EMAIL";function vc(){return xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var mc=function(){var e;return xe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),xe(e,"argument-error",""),xe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),xe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),xe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),xe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),xe(e,"cordova-not-ready","Cordova framework is not ready."),xe(e,"cors-unsupported","This browser is not supported."),xe(e,"credential-already-in-use","This credential is already associated with a different user account."),xe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),xe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),xe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),xe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),xe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),xe(e,"email-already-in-use","The email address is already in use by another account."),xe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),xe(e,"expired-action-code","The action code has expired."),xe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),xe(e,"internal-error","An internal AuthError has occurred."),xe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),xe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),xe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),xe(e,"invalid-auth-event","An internal AuthError has occurred."),xe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),xe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),xe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),xe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),xe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),xe(e,"invalid-email","The email address is badly formatted."),xe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),xe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),xe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),xe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),xe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),xe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),xe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),xe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),xe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),xe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),xe(e,"wrong-password","The password is invalid or the user does not have a password."),xe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),xe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),xe(e,"invalid-provider-id","The specified provider ID is invalid."),xe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),xe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),xe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),xe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),xe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),xe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),xe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),xe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),xe(e,"missing-continue-uri","A continue URL must be provided in the request."),xe(e,"missing-iframe-start","An internal AuthError has occurred."),xe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),xe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),xe(e,"missing-multi-factor-info","No second factor identifier is provided."),xe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),xe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),xe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),xe(e,"app-deleted","This instance of FirebaseApp has been deleted."),xe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),xe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),xe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),xe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),xe(e,"no-auth-event","An internal AuthError has occurred."),xe(e,"no-such-provider","User was not linked to an account with the given provider."),xe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),xe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),xe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),xe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),xe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),xe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),xe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),xe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),xe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),xe(e,"rejected-credential","The request contains malformed or mismatching credentials."),xe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),xe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),xe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),xe(e,"timeout","The operation has timed out."),xe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),xe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),xe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),xe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),xe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),xe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),xe(e,"unverified-email","The operation requires a verified email."),xe(e,"user-cancelled","The user did not grant your application the permissions it requested."),xe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),xe(e,"user-disabled","The user account has been disabled by an administrator."),xe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),xe(e,"user-signed-out",""),xe(e,"weak-password","The password must be 6 characters long or more."),xe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),xe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},yc=vc,gc=new zu("auth","Firebase",vc()),kc=new gs("@firebase/auth");function bc(e){if(kc.logLevel<=cs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kc.error.apply(kc,["Auth (".concat(Fs,"): ").concat(e)].concat(n))}}function wc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Sc.apply(void 0,[e].concat(n))}function xc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Sc.apply(void 0,[e].concat(n))}function _c(e,t,n){var r=Object.assign(Object.assign({},yc()),xe({},t,n));return new zu("auth","Firebase",r).create(t,{appName:e.name})}function Ec(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wc(e,"argument-error"),_c(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Sc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=wt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(wt(o)))}return gc.create.apply(gc,[e].concat(n))}function Ic(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Sc.apply(void 0,[t].concat(r))}}function Tc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw bc(t),new Error(t)}function Cc(e,t){e||Tc(t)}var Ac=new Map;function Nc(e){Cc(e instanceof Function,"Expected a class definition");var t=Ac.get(e);return t?(Cc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ac.set(e,t),t)}function Rc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pc(){return"http:"===Oc()||"https:"===Oc()}function Oc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Dc=function(){function e(t,n){du(this,e),this.shortDelay=t,this.longDelay=n,Cc(n>t,"Short delay should be less than long delay!"),this.isMobile=Du()||ju()}return vu(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pc()||Mu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Lc(e,t){Cc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Mc=function(){function e(){du(this,e)}return vu(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Tc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Tc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Tc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),jc=(xe(rc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),xe(rc,"MISSING_CUSTOM_TOKEN","internal-error"),xe(rc,"INVALID_IDENTIFIER","invalid-email"),xe(rc,"MISSING_CONTINUE_URI","internal-error"),xe(rc,"INVALID_PASSWORD","wrong-password"),xe(rc,"MISSING_PASSWORD","internal-error"),xe(rc,"EMAIL_EXISTS","email-already-in-use"),xe(rc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),xe(rc,"INVALID_IDP_RESPONSE","invalid-credential"),xe(rc,"INVALID_PENDING_TOKEN","invalid-credential"),xe(rc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),xe(rc,"MISSING_REQ_TYPE","internal-error"),xe(rc,"EMAIL_NOT_FOUND","user-not-found"),xe(rc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),xe(rc,"EXPIRED_OOB_CODE","expired-action-code"),xe(rc,"INVALID_OOB_CODE","invalid-action-code"),xe(rc,"MISSING_OOB_CODE","internal-error"),xe(rc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),xe(rc,"INVALID_ID_TOKEN","invalid-user-token"),xe(rc,"TOKEN_EXPIRED","user-token-expired"),xe(rc,"USER_NOT_FOUND","user-token-expired"),xe(rc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),xe(rc,"INVALID_CODE","invalid-verification-code"),xe(rc,"INVALID_SESSION_INFO","invalid-verification-id"),xe(rc,"INVALID_TEMPORARY_PROOF","invalid-credential"),xe(rc,"MISSING_SESSION_INFO","missing-verification-id"),xe(rc,"SESSION_EXPIRED","code-expired"),xe(rc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),xe(rc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),xe(rc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),xe(rc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),xe(rc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),xe(rc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),xe(rc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),xe(rc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),xe(rc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),xe(rc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),xe(rc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),rc),Fc=new Dc(3e4,6e4);function Uc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vc(e,t,n,r){return zc.apply(this,arguments)}function zc(){return zc=ts(rs().mark((function e(t,n,r,i){var a,o=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Bc(t,a,ts(rs().mark((function e(){var a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Gu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Mc.fetch()(Kc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function Bc(e,t,n){return qc.apply(this,arguments)}function qc(){return qc=ts(rs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},jc),n),e.prev=2,a=new Gc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Qc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Ae(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Qc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Qc(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw _c(t,d,h);case 30:wc(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Vu)){e.next=37;break}throw e.t0;case 37:wc(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),qc.apply(this,arguments)}function Wc(e,t,n,r){return Hc.apply(this,arguments)}function Hc(){return Hc=ts(rs().mark((function e(t,n,r,i){var a,o,u=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Vc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&wc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Kc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Lc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Gc=function(){function e(t){var n=this;du(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(xc(n.auth,"timeout"))}),Fc.get())}))}return vu(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Qc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=xc(e,t,r);return i.customData._tokenResponse=n,i}function $c(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Jc(e,t){return Xc.apply(this,arguments)}function Xc(){return Xc=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Zc(e,t){return el.apply(this,arguments)}function el(){return el=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}function tl(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function nl(){return nl=ts(rs().mark((function e(t){var n,r,i,a,o,u,s=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Zu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ic((a=il(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:tl(rl(a.auth_time)),issuedAtTime:tl(rl(a.iat)),expirationTime:tl(rl(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e){return 1e3*Number(e)}function il(e){var t=Ae(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return bc("JWT malformed, contained fewer than 3 sections"),null;try{var a=Cu(r);return a?JSON.parse(a):(bc("Failed to decode base64 JWT payload"),null)}catch(o){return bc("Caught error parsing JWT payload as JSON",o),null}}function al(e,t){return ol.apply(this,arguments)}function ol(){return ol=ts(rs().mark((function e(t,n){var r=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Vu&&ul(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ol.apply(this,arguments)}function ul(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sl=function(){function e(t){du(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return vu(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ts(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),cl=function(){function e(t,n){du(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return vu(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ll(e){return fl.apply(this,arguments)}function fl(){return fl=ts(rs().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,al(t,Zc(r,{idToken:i}));case 6:Ic(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?pl(o.providerUserInfo):[],s=dl(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new cl(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}function hl(){return hl=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zu(t),e.next=3,ll(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}function dl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(wt(n),wt(t))}function pl(e){return e.map((function(e){var t=e.providerId,n=nc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function vl(e,t){return ml.apply(this,arguments)}function ml(){return ml=ts(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bc(t,{},ts(rs().mark((function e(){var r,i,a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Kc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Mc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}var yl=function(){function e(){du(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return vu(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ic(e.idToken,"internal-error"),Ic("undefined"!==typeof e.idToken,"internal-error"),Ic("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=il(e);return Ic(t,"internal-error"),Ic("undefined"!==typeof t.exp,"internal-error"),Ic("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ts(rs().mark((function e(t){var n,r=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ic(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ts(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Tc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ic("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ic("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ic("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function gl(e,t){Ic("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var kl=function(){function e(t){du(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=nc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new sl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new cl(a.createdAt||void 0,a.lastLoginAt||void 0)}return vu(e,[{key:"getIdToken",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ic(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return nl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return hl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ic(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ic(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ts(rs().mark((function e(t){var n,r,i=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ll(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,al(this,$c(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Ic(k&&_,t,"internal-error");var E=yl.fromJSON(this.name,_);Ic("string"===typeof k,t,"internal-error"),gl(f,t.name),gl(h,t.name),Ic("boolean"===typeof b,t,"internal-error"),Ic("boolean"===typeof w,t,"internal-error"),gl(d,t.name),gl(p,t.name),gl(v,t.name),gl(m,t.name),gl(y,t.name),gl(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ts(rs().mark((function t(n,r){var i,a,o,u=arguments;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new yl).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ll(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),bl=function(){function e(){du(this,e),this.type="NONE",this.storage={}}return vu(e,[{key:"_isAvailable",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();bl.type="NONE";var wl=bl;function xl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var _l=function(){function e(t,n,r){du(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=xl(this.userKey,a.apiKey,o),this.fullPersistenceKey=xl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return vu(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?kl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ts(rs().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Nc(wl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Nc(wl),u=xl(i,n.config.apiKey,n.name),s=null,c=mu(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=kl._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function El(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nl(t))return"Blackberry";if(Rl(t))return"Webos";if(Il(t))return"Safari";if((t.includes("chrome/")||Tl(t))&&!t.includes("edge/"))return"Chrome";if(Al(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/firefox\//i.test(e)}function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/crios\//i.test(e)}function Cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/iemobile/i.test(e)}function Al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/android/i.test(e)}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/blackberry/i.test(e)}function Rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/webos/i.test(e)}function Pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/iphone|ipad|ipod/i.test(e)}function Ol(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return Pl(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Dl(){return Fu()&&10===document.documentMode}function Ll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return Pl(e)||Al(e)||Rl(e)||Nl(e)||/windows phone/i.test(e)||Cl(e)}function Ml(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=El(Ou());break;case"Worker":t="".concat(El(Ou()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Fs,"/").concat(r)}var jl=function(){function e(t,n){du(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ul(this),this.idTokenSubscription=new Ul(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return vu(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Nc(t)),this._initializationPromise=this.queue(ts(rs().mark((function r(){var i,a;return rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,_l.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ts(rs().mark((function e(t){var n,r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Ic(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ll(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Zu(t):null)&&Ic(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ts(rs().mark((function e(t){var n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Ic(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ts(rs().mark((function n(){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Nc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new zu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ts(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ic(n=t&&Nc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,_l.create(this,[Nc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ts(rs().mark((function e(t){var n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ic(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ic(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ml(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fl(e){return Zu(e)}var Ul=function(){function e(t){var n=this;du(this,e),this.auth=t,this.observer=null,this.addObserver=Yu((function(e){return n.observer=e}))}return vu(e,[{key:"next",get:function(){return Ic(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Vl(e,t,n){var r=Fl(e);Ic(r._canInitEmulator,r,"emulator-config-failed"),Ic(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=zl(t),o=function(e){var t=zl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Bl(r.substr(a.length+1))}}var o=Ae(r.split(":"),2);return{host:o[0],port:Bl(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Bl(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ql=function(){function e(t,n){du(this,e),this.providerId=t,this.signInMethod=n}return vu(e,[{key:"toJSON",value:function(){return Tc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Tc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Tc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Tc("not implemented")}}]),e}();function Wl(e,t){return Hl.apply(this,arguments)}function Hl(){return Hl=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:resetPassword",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Kl(e,t){return Gl.apply(this,arguments)}function Gl(){return Gl=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Ql(e,t){return $l.apply(this,arguments)}function $l(){return $l=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:update",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Yl(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(t,"POST","/v1/accounts:signInWithPassword",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Xl(e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:sendOobCode",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return tf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(t,n));case 1:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e,t){return rf.apply(this,arguments)}function rf(){return rf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(t,n));case 1:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}function af(e,t){return of.apply(this,arguments)}function of(){return of=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(t,n));case 1:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(e,t){return sf.apply(this,arguments)}function sf(){return sf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(t,n));case 1:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function cf(e,t){return lf.apply(this,arguments)}function lf(){return lf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(t,"POST","/v1/accounts:signInWithEmailLink",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(e,t){return hf.apply(this,arguments)}function hf(){return hf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(t,"POST","/v1/accounts:signInWithEmailLink",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}var df=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return du(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return vu(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",cf(t,{email:this._email,oobCode:this._password}));case 5:wc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Kl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ff(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ql);function pf(e,t){return vf.apply(this,arguments)}function vf(){return vf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(t,"POST","/v1/accounts:signInWithIdp",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}var mf=function(e){yu(n,e);var t=xu(n);function n(){var e;return du(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return vu(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return pf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pf(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=nc(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ql);function yf(e,t){return gf.apply(this,arguments)}function gf(){return gf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:sendVerificationCode",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(){return kf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(t,"POST","/v1/accounts:signInWithPhoneNumber",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function bf(){return bf=ts(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wc(t,"POST","/v1/accounts:signInWithPhoneNumber",Uc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Qc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}var wf=xe({},"USER_NOT_FOUND","user-not-found");function xf(){return xf=ts(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Wc(t,"POST","/v1/accounts:signInWithPhoneNumber",Uc(t,r),wf));case 2:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}var _f=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this,"phone","phone")).params=e,r}return vu(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return kf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return bf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ql);var Ef=function(){function e(t){var n,r,i,a,o,u;du(this,e);var s=Qu($u(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ic(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return vu(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Qu($u(e)).link,n=t?Qu($u(t)).deep_link_id:null,r=Qu($u(e)).deep_link_id;return(r?Qu($u(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(NC){return null}}}]),e}();var Sf=function(){function e(){du(this,e),this.providerId=e.PROVIDER_ID}return vu(e,null,[{key:"credential",value:function(e,t){return df._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ef.parseLink(t);return Ic(n,"argument-error"),df._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Sf.PROVIDER_ID="password",Sf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Sf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var If=function(){function e(t){du(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return vu(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Tf=function(e){yu(n,e);var t=xu(n);function n(){var e;return du(this,n),(e=t.apply(this,arguments)).scopes=[],e}return vu(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return wt(this.scopes)}}]),n}(If),Cf=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ic(e.idToken||e.accessToken,"argument-error"),mf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ic("providerId"in t&&"signInMethod"in t,"argument-error"),mf._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Tf),Af=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.call(this,"facebook.com")}return vu(n,null,[{key:"credential",value:function(e){return mf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(NC){return null}}}]),n}(Tf);Af.FACEBOOK_SIGN_IN_METHOD="facebook.com",Af.PROVIDER_ID="facebook.com";var Nf=function(e){yu(n,e);var t=xu(n);function n(){var e;return du(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return vu(n,null,[{key:"credential",value:function(e,t){return mf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(NC){return null}}}]),n}(Tf);Nf.GOOGLE_SIGN_IN_METHOD="google.com",Nf.PROVIDER_ID="google.com";var Rf=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.call(this,"github.com")}return vu(n,null,[{key:"credential",value:function(e){return mf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(NC){return null}}}]),n}(Tf);Rf.GITHUB_SIGN_IN_METHOD="github.com",Rf.PROVIDER_ID="github.com";var Pf=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return vu(n,[{key:"_getIdTokenResponse",value:function(e){return pf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pf(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ql),Of=function(e){yu(n,e);var t=xu(n);function n(e){return du(this,n),Ic(e.startsWith("saml."),"argument-error"),t.call(this,e)}return vu(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Pf.fromJSON(e);return Ic(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Pf._create(r,n)}catch(i){return null}}}]),n}(If),Df=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.call(this,"twitter.com")}return vu(n,null,[{key:"credential",value:function(e,t){return mf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(NC){return null}}}]),n}(Tf);function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(t,"POST","/v1/accounts:signUp",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}Df.TWITTER_SIGN_IN_METHOD="twitter.com",Df.PROVIDER_ID="twitter.com";var jf=function(){function e(t){du(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return vu(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ts(rs().mark((function t(n,r,i){var a,o,u,s,c=arguments;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,kl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ff(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ts(rs().mark((function t(n,r,i){var a;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ff(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ff(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Uf(){return Uf=ts(rs().mark((function e(t){var n,r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new jf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Lf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,jf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}var Vf=function(e){yu(n,e);var t=xu(n);function n(e,r,i,a){var o,u;return du(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Ca(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return vu(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Vu);function zf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vf._fromErrorAndOperation(e,n,t,r);throw n}))}function Bf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function qf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=ts(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zu(t),e.next=3,Gf(!0,r,n);case 3:return e.t0=Jc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Bf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Hf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=ts(rs().mark((function e(t,n){var r,i,a=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=al,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",jf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Gf(e,t,n){return Qf.apply(this,arguments)}function Qf(){return Qf=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(n);case 2:i=Bf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ic(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(e,t){return Yf.apply(this,arguments)}function Yf(){return Yf=ts(rs().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,al(t,zf(i,a,n,t),r);case 6:return Ic((o=e.sent).idToken,i,"internal-error"),Ic(u=il(o.idToken),i,"internal-error"),s=u.sub,Ic(t.uid===s,i,"user-mismatch"),e.abrupt("return",jf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&wc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Yf.apply(this,arguments)}function Jf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=ts(rs().mark((function e(t,n){var r,i,a,o,u=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,zf(t,i,n);case 4:return a=e.sent,e.next=7,jf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Zf(e,t){return eh.apply(this,arguments)}function eh(){return eh=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(Fl(t),n));case 1:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=ts(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zu(t),e.next=3,Gf(!1,r,n.providerId);case 3:return e.abrupt("return",Hf(r,n));case 4:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$f(Zu(t),n));case 1:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(t,"POST","/v1/accounts:signInWithCustomToken",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function uh(){return uh=ts(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fl(t),e.next=3,ah(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,jf._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}var sh=function(){function e(t,n){du(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return vu(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ch._fromServerResponse(e,t):wc(e,"internal-error")}}]),e}(),ch=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return vu(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(sh);function lh(e,t,n){var r;Ic((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ic("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ic(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ic(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function fh(){return fh=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zu(t),a={requestType:"PASSWORD_RESET",email:n},r&&lh(i,a,r),e.next=5,nf(i,a);case 5:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function hh(){return hh=ts(rs().mark((function e(t,n,r){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(Zu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(){return dh=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ql(Zu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}function ph(e,t){return vh.apply(this,arguments)}function vh(){return vh=ts(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zu(t),e.next=3,Wl(r,{oobCode:n});case 3:i=e.sent,Ic(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ic(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ic(i.mfaInfo,r,"internal-error");case 13:Ic(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=sh._fromServerResponse(Fl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function mh(){return mh=ts(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ph(Zu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function yh(e,t,n){return gh.apply(this,arguments)}function gh(){return gh=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fl(t),e.next=3,Lf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,jf._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function kh(){return kh=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zu(t),a={requestType:"EMAIL_SIGNIN",email:n},Ic(r.handleCodeInApp,i,"argument-error"),r&&lh(i,a,r),e.next=6,af(i,a);case 6:case"end":return e.stop()}}),e)}))),kh.apply(this,arguments)}function bh(){return bh=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zu(t),Ic((a=Sf.credentialWithLink(n,r||Rc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Zf(i,a));case 4:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(e,t){return xh.apply(this,arguments)}function xh(){return xh=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:createAuthUri",Uc(t,n)));case 1:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function _h(){return _h=ts(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pc()?Rc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,wh(Zu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),_h.apply(this,arguments)}function Eh(){return Eh=ts(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&lh(r.auth,a,n),e.next=8,ef(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}function Sh(){return Sh=ts(rs().mark((function e(t,n,r){var i,a,o,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&lh(i.auth,o,r),e.next=8,uf(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Ih(e,t){return Th.apply(this,arguments)}function Th(){return Th=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}function Ch(){return Ch=ts(rs().mark((function e(t,n){var r,i,a,o,u,s,c;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Zu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,al(a,Ih(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Ah(e,t,n){return Nh.apply(this,arguments)}function Nh(){return Nh=ts(rs().mark((function e(t,n,r){var i,a,o,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,al(t,Kl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Nh.apply(this,arguments)}var Rh=vu((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};du(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ph=function(e){yu(n,e);var t=xu(n);function n(e,r,i,a){var o;return du(this,n),(o=t.call(this,e,r,i)).username=a,o}return vu(n)}(Rh),Oh=function(e){yu(n,e);var t=xu(n);function n(e,r){return du(this,n),t.call(this,e,"facebook.com",r)}return vu(n)}(Rh),Dh=function(e){yu(n,e);var t=xu(n);function n(e,r){return du(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return vu(n)}(Ph),Lh=function(e){yu(n,e);var t=xu(n);function n(e,r){return du(this,n),t.call(this,e,"google.com",r)}return vu(n)}(Rh),Mh=function(e){yu(n,e);var t=xu(n);function n(e,r,i){return du(this,n),t.call(this,e,"twitter.com",r,i)}return vu(n)}(Ph);function jh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=il(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Rh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Oh(a,i);case"github.com":return new Dh(a,i);case"google.com":return new Lh(a,i);case"twitter.com":return new Mh(a,i,e.screenName||null);case"custom":case"anonymous":return new Rh(a,null);default:return new Rh(a,r,i)}}(n)}var Fh=function(){function e(t,n){du(this,e),this.type=t,this.credential=n}return vu(e,[{key:"toJSON",value:function(){return{multiFactorSession:xe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Uh=function(){function e(t,n,r){du(this,e),this.session=t,this.hints=n,this.signInResolver=r}return vu(e,[{key:"resolveSignIn",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Fl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return sh._fromServerResponse(r,e)}));Ic(i.mfaPendingCredential,r,"internal-error");var o=Fh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ts(rs().mark((function e(t){var a,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,jf._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ic(n.user,r,"internal-error"),e.abrupt("return",jf._forOperation(n.user,n.operationType,u));case 17:wc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Vh(e,t){return Vc(e,"POST","/v2/accounts/mfaEnrollment:start",Uc(e,t))}function zh(e,t){return Vc(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Uc(e,t))}var Bh=function(){function e(t){var n=this;du(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return sh._fromServerResponse(t.auth,e)})))}))}return vu(e,[{key:"getSession",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Fh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ts(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,al(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ts(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,al(this.user,zh(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),qh=new WeakMap;var Wh="__sak",Hh=function(){function e(t,n){du(this,e),this.storageRetriever=t,this.type=n}return vu(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch(NC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Kh=function(e){yu(n,e);var t=xu(n);function n(){var e;return du(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ou();return Il(e)||Pl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ll(),e._shouldAllowMigration=!0,e}return vu(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Dl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ts(rs().mark((function e(t,r){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(gu(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ts(rs().mark((function e(t){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(gu(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(gu(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Hh);Kh.type="LOCAL";var Gh=Kh,Qh=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return vu(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Hh);Qh.type="SESSION";var $h=Qh;function Yh(e){return Promise.all(e.map(function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Jh=function(){function e(t){du(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return vu(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ts(rs().mark((function e(t){var n,r,i,a,o,u,s,c;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Yh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Xh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Jh.receivers=[];var Zh=function(){function e(t){du(this,e),this.target=t,this.handlers=new Set}return vu(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ts(rs().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Xh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ed(){return window}function td(){return"undefined"!==typeof ed().WorkerGlobalScope&&"function"===typeof ed().importScripts}function nd(){return rd.apply(this,arguments)}function rd(){return(rd=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function id(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ad="firebaseLocalStorageDb",od="firebaseLocalStorage",ud="fbase_key",sd=function(){function e(t){du(this,e),this.request=t}return vu(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function cd(e,t){return e.transaction([od],t?"readwrite":"readonly").objectStore(od)}function ld(){var e=indexedDB.deleteDatabase(ad);return new sd(e).toPromise()}function fd(){var e=indexedDB.open(ad,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(od,{keyPath:ud})}catch(r){n(r)}})),e.addEventListener("success",ts(rs().mark((function n(){var r;return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(od)){n.next=12;break}return r.close(),n.next=5,ld();case 5:return n.t0=t,n.next=8,fd();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function hd(e,t,n){return dd.apply(this,arguments)}function dd(){return dd=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cd(t,!0).put((xe(i={},ud,n),xe(i,"value",r),i)),e.abrupt("return",new sd(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function pd(e,t){return vd.apply(this,arguments)}function vd(){return vd=ts(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cd(t,!1).get(n),e.next=3,new sd(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}function md(e,t){var n=cd(e,!0).delete(t);return new sd(n).toPromise()}var yd=function(){function e(){du(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return vu(e,[{key:"_openDb",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,fd();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",td()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ts(rs().mark((function e(){var t=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Jh._getInstance(td()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ts(rs().mark((function e(n,r){var i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ts(rs().mark((function e(){var t,n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Zh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&id()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,fd();case 5:return t=e.sent,e.next=8,hd(t,Wh,"1");case 8:return e.next=10,md(t,Wh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ts(rs().mark((function e(t,n){var r=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return hd(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return pd(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ts(rs().mark((function e(t){var n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return md(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ts(rs().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=cd(e,!1).getAll();return new sd(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=mu(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ts(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();yd.type="LOCAL";var gd=yd;function kd(e,t){return Vc(e,"POST","/v2/accounts/mfaSignIn:start",Uc(e,t))}function bd(e){return wd.apply(this,arguments)}function wd(){return wd=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function xd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=xc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function _d(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ed=1e12,Sd=function(){function e(t){du(this,e),this.auth=t,this.counter=Ed,this._widgets=new Map}return vu(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Id(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ed;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ed;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ed,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Id=function(){function e(t,n,r){var i=this;du(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ic(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return vu(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Td=_d("rcb"),Cd=new Dc(3e4,6e4),Ad="https://www.google.com/recaptcha/api.js?",Nd=function(){function e(){du(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ed().grecaptcha}return vu(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ic(Rd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ed().grecaptcha):new Promise((function(r,i){var a=ed().setTimeout((function(){i(xc(e,"network-request-failed"))}),Cd.get());ed()[Td]=function(){ed().clearTimeout(a),delete ed()[Td];var o=ed().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(xc(e,"internal-error"))},xd("".concat(Ad,"?").concat(Gu({onload:Td,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(xc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ed().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Rd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Pd=function(){function e(){du(this,e)}return vu(e,[{key:"load",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Sd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Od="recaptcha",Dd={theme:"light",type:"image"},Ld=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Dd),r=arguments.length>2?arguments[2]:void 0;du(this,e),this.parameters=n,this.type=Od,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fl(r),this.isInvisible="invisible"===this.parameters.size,Ic("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ic(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pd:new Nd,this.validateStartingState()}return vu(e,[{key:"verify",value:function(){var e=ts(rs().mark((function e(){var t,n,r,i=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ic(!this.parameters.sitekey,this.auth,"argument-error"),Ic(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ic("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ed()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ic(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ts(rs().mark((function e(){var t,n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ic(Pc()&&!td(),this.auth,"internal-error"),e.next=3,Md();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,bd(this.auth);case 8:Ic(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ic(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Md(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var jd=function(){function e(t,n){du(this,e),this.verificationId=t,this.onConfirmation=n}return vu(e,[{key:"confirm",value:function(e){var t=_f._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Fd(){return Fd=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fl(t),e.next=3,Bd(i,n,Zu(r));case 3:return a=e.sent,e.abrupt("return",new jd(a,(function(e){return Zf(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Fd.apply(this,arguments)}function Ud(e,t,n){return Vd.apply(this,arguments)}function Vd(){return Vd=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zu(t),e.next=3,Gf(!1,i,"phone");case 3:return e.next=5,Bd(i.auth,n,Zu(r));case 5:return a=e.sent,e.abrupt("return",new jd(a,(function(e){return th(i,e)})));case 7:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function zd(){return zd=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zu(t),e.next=3,Bd(i.auth,n,Zu(r));case 3:return a=e.sent,e.abrupt("return",new jd(a,(function(e){return rh(i,e)})));case 5:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Bd(e,t,n){return qd.apply(this,arguments)}function qd(){return qd=ts(rs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ic("string"===typeof a,t,"argument-error"),Ic(r.type===Od,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ic("enroll"===u.type,t,"internal-error"),e.next=13,Vh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ic("signin"===u.type,t,"internal-error"),Ic(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,kd(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,yf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),qd.apply(this,arguments)}function Wd(){return Wd=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hf(Zu(t),n);case 2:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}var Hd=function(){function e(t){du(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fl(t)}return vu(e,[{key:"verifyPhoneNumber",value:function(e,t){return Bd(this.auth,e,Zu(t))}}],[{key:"credential",value:function(e,t){return _f._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?_f._fromTokenResponse(n,r):null}}]),e}();function Kd(e,t){return t?Nc(t):(Ic(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hd.PROVIDER_ID="phone",Hd.PHONE_SIGN_IN_METHOD="phone";var Gd=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this,"custom","custom")).params=e,r}return vu(n,[{key:"_getIdTokenResponse",value:function(e){return pf(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return pf(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return pf(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ql);function Qd(e){return Jf(e.auth,new Gd(e),e.bypassAuthState)}function $d(e){var t=e.auth,n=e.user;return Ic(n,t,"internal-error"),$f(n,new Gd(e),e.bypassAuthState)}function Yd(e){return Jd.apply(this,arguments)}function Jd(){return Jd=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ic(r=t.user,n,"internal-error"),e.abrupt("return",Hf(r,new Gd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}var Xd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];du(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return vu(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ts(rs().mark((function t(n,r){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ts(rs().mark((function e(t){var n,r,i,a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qd;case"linkViaPopup":case"linkViaRedirect":return Yd;case"reauthViaPopup":case"reauthViaRedirect":return $d;default:wc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Zd=new Dc(2e3,1e4);function ep(e,t,n){return tp.apply(this,arguments)}function tp(){return tp=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fl(t),Ec(t,n,If),a=Kd(i,r),o=new ap(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(){return np=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec((i=Zu(t)).auth,n,If),a=Kd(i.auth,r),o=new ap(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(e,t,n){return ip.apply(this,arguments)}function ip(){return ip=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec((i=Zu(t)).auth,n,If),a=Kd(i.auth,r),o=new ap(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}var ap=function(e){yu(n,e);var t=xu(n);function n(e,r,i,a,o){var u;return du(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Ca(u),u}return vu(n,[{key:"executeNotNull",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ic(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ts(rs().mark((function e(){var t,n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cc(1===this.filter.length,"Popup operations only handle one event"),t=Xh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(xc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(xc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(xc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Zd.get())}()}}]),n}(Xd);ap.currentPopupAction=null;var op=new Map,up=function(e){yu(n,e);var t=xu(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return du(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return vu(n,[{key:"execute",value:function(){var e=ts(rs().mark((function e(){var t,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=op.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,sp(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,tc(gu(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:op.set(this.auth._key(),t);case 21:return this.bypassAuthState||op.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ts(rs().mark((function e(t){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",tc(gu(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",tc(gu(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Xd);function sp(e,t){return cp.apply(this,arguments)}function cp(){return cp=ts(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dp(n),i=hp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t){return fp.apply(this,arguments)}function fp(){return fp=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hp(t)._set(dp(n),"true"));case 1:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function hp(e){return Nc(e._redirectPersistence)}function dp(e){return xl("pendingRedirect",e.config.apiKey,e.name)}function pp(e,t,n){return function(e,t,n){return vp.apply(this,arguments)}(e,t,n)}function vp(){return vp=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fl(t),Ec(t,n,If),a=Kd(i,r),e.next=5,lp(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function mp(e,t,n){return function(e,t,n){return yp.apply(this,arguments)}(e,t,n)}function yp(){return yp=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec((i=Zu(t)).auth,n,If),a=Kd(i.auth,r),e.next=5,lp(a,i.auth);case 5:return e.next=7,Ep(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function gp(e,t,n){return function(e,t,n){return kp.apply(this,arguments)}(e,t,n)}function kp(){return kp=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec((i=Zu(t)).auth,n,If),a=Kd(i.auth,r),e.next=5,Gf(!1,i,n.providerId);case 5:return e.next=7,lp(a,i.auth);case 7:return e.next=9,Ep(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function bp(e,t){return wp.apply(this,arguments)}function wp(){return wp=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fl(t)._initializationPromise;case 2:return e.abrupt("return",xp(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function xp(e,t){return _p.apply(this,arguments)}function _p(){return _p=ts(rs().mark((function e(t,n){var r,i,a,o,u,s=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Fl(t),a=Kd(i,n),o=new up(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_p.apply(this,arguments)}function Ep(e){return Sp.apply(this,arguments)}function Sp(){return Sp=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Sp.apply(this,arguments)}var Ip=function(){function e(t){du(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return vu(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Cp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Tp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Tp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Cp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ap(e){return Np.apply(this,arguments)}function Np(){return Np=ts(rs().mark((function e(t){var n,r=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}var Rp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pp=/^https?/;function Op(){return Op=ts(rs().mark((function e(t){var n,r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ap(t);case 4:n=e.sent,r=n.authorizedDomains,i=mu(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Dp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Op.apply(this,arguments)}function Dp(e){var t=Rc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Pp.test(r))return!1;if(Rp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Lp=new Dc(3e4,6e4);function Mp(){var e=ed().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=wt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var jp=null;function Fp(e){return jp=jp||function(e){return new Promise((function(t,n){var r,i,a;function o(){Mp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Mp(),n(xc(e,"network-request-failed"))},timeout:Lp.get()})}if(null===(i=null===(r=ed().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ed().gapi)||void 0===a?void 0:a.load)){var u=_d("iframefcb");return ed()[u]=function(){gapi.load?o():n(xc(e,"network-request-failed"))},xd("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw jp=null,e}))}(e),jp}var Up=new Dc(5e3,15e3),Vp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bp(e){var t=e.config;Ic(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Lc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Fs},i=zp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Gu(r).slice(1))}function qp(e){return Wp.apply(this,arguments)}function Wp(){return Wp=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fp(t);case 2:return n=e.sent,Ic(r=ed().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Bp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vp,dontclear:!0},(function(e){return new Promise(function(){var n=ts(rs().mark((function n(r,i){var a,o,u;return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ed().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=xc(t,"network-request-failed"),o=ed().setTimeout((function(){i(a)}),Up.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}var Hp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kp="_blank",Gp="http://localhost",Qp=function(){function e(t){du(this,e),this.window=t,this.associatedEvent=null}return vu(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Hp),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ou().toLowerCase();n&&(u=Tl(c)?Kp:n),Sl(c)&&(t=t||Gp,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Ae(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ol(c)&&"_self"!==u)return Yp(t||"",u),new Qp(null);var f=window.open(t||"",u,l);Ic(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Qp(f)}function Yp(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Jp="__/auth/handler",Xp="emulator/auth/handler";function Zp(e,t,n,r,i,a){Ic(e.config.authDomain,e,"auth-domain-config-required"),Ic(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Fs,eventId:i};if(t instanceof If){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Ae(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Tf){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Jp);return Lc(t,Xp)}(e),"?").concat(Gu(d).slice(1))}var ev="webStorageSupport",tv=function(){function e(){du(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$h,this._completeRedirectFn=xp}return vu(e,[{key:"_openPopup",value:function(){var e=ts(rs().mark((function e(t,n,r,i){var a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Zp(t,n,r,Rc(),i),e.abrupt("return",$p(t,o,Xh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ts(rs().mark((function e(t,n,r,i){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Zp(t,n,r,Rc(),i),ed().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Cc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qp(t);case 2:return n=e.sent,r=new Ip(t),n.register("authEvent",(function(e){return Ic(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ev,{type:ev},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),wc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Op.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ll()||Il()||Pl()}}]),e}(),nv=tv,rv=function(){function e(t){du(this,e),this.factorId=t}return vu(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tc("unexpected MultiFactorSessionType")}}}]),e}(),iv=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this,"phone")).credential=e,r}return vu(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Uc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vc(e,"POST","/v2/accounts/mfaSignIn:finalize",Uc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(rv),av=function(){function e(){du(this,e)}return vu(e,null,[{key:"assertion",value:function(e){return iv._fromCredential(e)}}]),e}();av.FACTOR_ID="phone";var ov,uv="@firebase/auth",sv="0.19.4",cv=function(){function e(t){du(this,e),this.auth=t,this.internalListeners=new Map}return vu(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ic(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function lv(){return window}ov="Browser",As(new is("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Ic(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Ic(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:ov,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ml(ov)},r=new jl(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),As(new is("auth-internal",(function(e){return function(e){return new cv(e)}(Fl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(uv,sv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ov)),Ws(uv,sv,"esm2017");function fv(e,t,n){return hv.apply(this,arguments)}function hv(){return hv=ts(rs().mark((function e(t,n,r){var i,a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lv(),o=a.BuildInfo,Cc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,gv(n.sessionId);case 4:return u=e.sent,s={},Pl()?s.ibi=o.packageName:Al()?s.apn=o.packageName:wc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Zp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function dv(){return dv=ts(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lv(),r=n.BuildInfo,i={},Pl()?i.iosBundleId=r.packageName:Al()?i.androidPackageName=r.packageName:wc(t,"operation-not-supported-in-this-environment"),e.next=5,Ap(t,i);case 5:case"end":return e.stop()}}),e)}))),dv.apply(this,arguments)}function pv(e){var t=lv().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function vv(e,t,n){return mv.apply(this,arguments)}function mv(){return mv=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lv(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(xc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Al()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),mv.apply(this,arguments)}function yv(e){var t,n,r,i,a,o,u,s,c,l,f=lv();Ic("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ic("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ic("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ic("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ic("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function gv(e){return kv.apply(this,arguments)}function kv(){return(kv=ts(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bv(e){if(Cc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var wv=function(e){yu(n,e);var t=xu(n);function n(){var e;return du(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return vu(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),tc(gu(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ip);function xv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Tv(),postBody:null,tenantId:e.tenantId,error:xc(e,"no-auth-event")}}function _v(e,t){return Cv()._set(Av(e),t)}function Ev(e){return Sv.apply(this,arguments)}function Sv(){return Sv=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cv()._get(Av(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Cv()._remove(Av(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Iv(e,t){var n,r,i=function(e){var t=Nv(e),n=t.link?decodeURIComponent(t.link):void 0,r=Nv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Nv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Nv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?xc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Tv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Cv(){return Nc(Gh)}function Av(e){return xl("authEvent",e.config.apiKey,e.name)}function Nv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Se(t=n)||bt(t)||Te(t)||Ce();r[0];return Qu(r.slice(1).join("?"))}var Rv=function(){function e(){du(this,e),this._redirectPersistence=$h,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xp}return vu(e,[{key:"_initialize",value:function(){var e=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new wv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){wc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ts(rs().mark((function e(t,n,r,i){var a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yv(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),op.clear(),e.next=10,this._originValidation(t);case 10:return o=xv(t,r,i),e.next=13,_v(t,o);case 13:return e.next=15,fv(t,o,n);case 15:return u=e.sent,e.next=18,pv(u);case 18:return s=e.sent,e.abrupt("return",vv(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return dv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=lv(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ts(rs().mark((function n(){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ev(e);case 2:t.onEvent(Ov());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ts(rs().mark((function n(r){var i,a;return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Ev(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Iv(i,r.url)),t.onEvent(a||Ov());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");lv().handleOpenURL=function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Pv=Rv;function Ov(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xc("no-auth-event")}}function Dv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Lv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return!("file:"!==Dv()&&"ionic:"!==Dv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mv(){return Fu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function jv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return/Edge\/\d+/.test(e)}function Fv(){try{var e=self.localStorage,t=Xh();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return Mv()||jv(e)}()||Uu()}catch(n){return Uv()&&Uu()}return!1}function Uv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Vv(){return("http:"===Dv()||"https:"===Dv()||Mu()||Lv())&&!(ju()||Lu())&&Fv()&&!Uv()}function zv(){return Lv()&&"undefined"!==typeof document}function Bv(){return qv.apply(this,arguments)}function qv(){return(qv=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wv={LOCAL:"local",NONE:"none",SESSION:"session"},Hv=Ic,Kv="persistence";function Gv(e,t){Hv(Object.values(Wv).includes(t),e,"invalid-persistence-type"),ju()?Hv(t!==Wv.SESSION,e,"unsupported-persistence-type"):Lu()?Hv(t===Wv.NONE,e,"unsupported-persistence-type"):Uv()?Hv(t===Wv.NONE||t===Wv.LOCAL&&Uu(),e,"unsupported-persistence-type"):Hv(t===Wv.NONE||Fv(),e,"unsupported-persistence-type")}function Qv(e){return $v.apply(this,arguments)}function $v(){return $v=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Yv(),r=xl(Kv,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function Yv(){return"undefined"!==typeof window?window:null}var Jv=Ic,Xv=function(){function e(){du(this,e),this.browserResolver=Nc(nv),this.cordovaResolver=Nc(Pv),this.underlyingResolver=null,this._redirectPersistence=$h,this._completeRedirectFn=xp}return vu(e,[{key:"_initialize",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ts(rs().mark((function e(t,n,r,i){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ts(rs().mark((function e(t,n,r,i){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return zv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Jv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Bv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zv(e){return e.unwrap()}function em(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new am(e,function(e,t){var n,r=Zu(e),i=t;return Ic(t.customData.operationType,r,"argument-error"),Ic(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Uh._fromError(r,i)}(e,t));else if(r){var i=tm(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function tm(e){var t=(e instanceof Vu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Vu)&&"temporaryProof"in t&&"phoneNumber"in t)return Hd.credentialFromResult(e);var n,r=t.providerId;if(!r||r===uc)return null;switch(r){case oc:n=Nf;break;case ic:n=Af;break;case ac:n=Rf;break;case sc:n=Df;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Pf._create(r,u):mf._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Cf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Vu?n.credentialFromError(e):n.credentialFromResult(e)}function nm(e,t){return t.catch((function(t){throw t instanceof Vu&&em(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,tm(t)),additionalUserInfo:jh(e),user:om.getOrCreate(r)}}))}function rm(e,t){return im.apply(this,arguments)}function im(){return im=ts(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return nm(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}var am=function(){function e(t,n){du(this,e),this.resolver=n,this.auth=t.wrapped()}return vu(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return nm(Zv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),om=function(){function e(t){du(this,e),this._delegate=t,this.multiFactor=function(e){var t=Zu(e);return qh.has(t)||qh.set(t,Bh._fromUser(t)),qh.get(t)}(t)}return vu(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(this.auth,th(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rm(this.auth,Ud(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(this.auth,rp(this._delegate,t,Xv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qv(Fl(this.auth));case 2:return e.abrupt("return",gp(this._delegate,t,Xv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(this.auth,rh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return rm(this.auth,function(e,t,n){return zd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return nm(this.auth,function(e,t,n){return np.apply(this,arguments)}(this._delegate,e,Xv))}},{key:"reauthenticateWithRedirect",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qv(Fl(this.auth));case 2:return e.abrupt("return",mp(this._delegate,t,Xv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Eh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ah(Zu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ah(Zu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Wd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ch.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Sh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();om.USER_MAP=new WeakMap;var um=Ic,sm=function(){function e(t,n){if(du(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;um(r,"invalid-api-key",{appName:t.name});var i=[wl];if("undefined"!==typeof window){i=function(e,t){var n=Yv();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=xl(Kv,e,t);switch(n.sessionStorage.getItem(r)){case Wv.NONE:return[wl];case Wv.LOCAL:return[gd,$h];case Wv.SESSION:return[$h];default:return[]}}(r,t.name);for(var a=0,o=[gd,Gh,$h];a<o.length;a++){var u=o[a];i.includes(u)||i.push(u)}}um(r,"invalid-api-key",{appName:t.name});var s="undefined"!==typeof window?Xv:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:s}}),this._delegate._updateErrorMap(mc),this.linkUnderlyingAuth()}return vu(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?om.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Vl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return dh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ph(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return hh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(this._delegate,yh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return _h.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ef.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return um(Vv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,bp(this._delegate,Xv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",nm(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Fl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=cm(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=cm(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return kh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return fh.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gv(this._delegate,t),e.t0=t,e.next=e.t0===Wv.SESSION?4:e.t0===Wv.LOCAL?6:e.t0===Wv.NONE?11:13;break;case 4:return n=$h,e.abrupt("break",14);case 6:return e.next=8,Nc(gd)._isAvailable();case 8:return r=e.sent,n=r?gd:Gh,e.abrupt("break",14);case 11:return n=wl,e.abrupt("break",14);case 13:return e.abrupt("return",wc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return nm(this._delegate,function(e){return Uf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return nm(this._delegate,Zf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return nm(this._delegate,function(e,t){return uh.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return nm(this._delegate,function(e,t,n){return Zf(Zu(e),Sf.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return nm(this._delegate,function(e,t,n){return bh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return rm(this._delegate,function(e,t,n){return Fd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return um(Vv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",nm(this._delegate,ep(this._delegate,t,Xv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return um(Vv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Qv(this._delegate);case 3:return e.abrupt("return",pp(this._delegate,t,Xv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return mh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function cm(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&om.getOrCreate(e))},error:t,complete:n}}sm.Persistence=Wv;var lm=function(){function e(){du(this,e),this.providerId="phone",this._delegate=new Hd(Zv(Zs.auth()))}return vu(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Hd.credential(e,t)}}]),e}();lm.PHONE_SIGN_IN_METHOD=Hd.PHONE_SIGN_IN_METHOD,lm.PROVIDER_ID=Hd.PROVIDER_ID;var fm,hm=Ic,dm=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zs.app();du(this,e),hm(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ld(t,n,i.auth()),this.type=this._delegate.type}return vu(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(fm=Zs).INTERNAL.registerComponent(new is("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sm(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cc,PASSWORD_RESET:lc,RECOVER_EMAIL:fc,REVERT_SECOND_FACTOR_ADDITION:hc,VERIFY_AND_CHANGE_EMAIL:dc,VERIFY_EMAIL:pc}},EmailAuthProvider:Sf,FacebookAuthProvider:Af,GithubAuthProvider:Rf,GoogleAuthProvider:Nf,OAuthProvider:Cf,SAMLAuthProvider:Of,PhoneAuthProvider:lm,PhoneMultiFactorGenerator:av,RecaptchaVerifier:dm,TwitterAuthProvider:Df,Auth:sm,AuthCredential:ql,Error:Vu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),fm.registerVersion("@firebase/auth-compat","0.2.4");var pm,vm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},mm={},ym=ym||{},gm=vm||self;function km(){}function bm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function wm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var xm="closure_uid_"+(1e9*Math.random()>>>0),_m=0;function Em(e,t,n){return e.call.apply(e.bind,arguments)}function Sm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Im(e,t,n){return(Im=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Em:Sm).apply(null,arguments)}function Tm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Cm(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Am(){this.s=this.s,this.o=this.o}var Nm={};Am.prototype.s=!1,Am.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,xm)&&e[xm]||(e[xm]=++_m)}(this);delete Nm[e]}},Am.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Rm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Pm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Om(e){return Array.prototype.concat.apply([],arguments)}function Dm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Lm(e){return/^[\s\xa0]*$/.test(e)}var Mm,jm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Fm(e,t){return-1!=e.indexOf(t)}function Um(e,t){return e<t?-1:e>t?1:0}e:{var Vm=gm.navigator;if(Vm){var zm=Vm.userAgent;if(zm){Mm=zm;break e}}Mm=""}function Bm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qm(e){var t={};for(var n in e)t[n]=e[n];return t}var Wm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Wm.length;a++)n=Wm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Km(e){return Km[" "](e),e}Km[" "]=km;var Gm,Qm=Fm(Mm,"Opera"),$m=Fm(Mm,"Trident")||Fm(Mm,"MSIE"),Ym=Fm(Mm,"Edge"),Jm=Ym||$m,Xm=Fm(Mm,"Gecko")&&!(Fm(Mm.toLowerCase(),"webkit")&&!Fm(Mm,"Edge"))&&!(Fm(Mm,"Trident")||Fm(Mm,"MSIE"))&&!Fm(Mm,"Edge"),Zm=Fm(Mm.toLowerCase(),"webkit")&&!Fm(Mm,"Edge");function ey(){var e=gm.document;return e?e.documentMode:void 0}e:{var ty="",ny=function(){var e=Mm;return Xm?/rv:([^\);]+)(\)|;)/.exec(e):Ym?/Edge\/([\d\.]+)/.exec(e):$m?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zm?/WebKit\/(\S+)/.exec(e):Qm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ny&&(ty=ny?ny[1]:""),$m){var ry=ey();if(null!=ry&&ry>parseFloat(ty)){Gm=String(ry);break e}}Gm=ty}var iy,ay={};function oy(){return function(e){var t=ay;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=jm(String(Gm)).split("."),n=jm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Um(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Um(0==a[2].length,0==o[2].length)||Um(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(gm.document&&$m){var uy=ey();iy=uy||(parseInt(Gm,10)||void 0)}else iy=void 0;var sy=iy,cy=function(){if(!gm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gm.addEventListener("test",km,t),gm.removeEventListener("test",km,t)}catch(n){}return e}();function ly(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function fy(e,t){if(ly.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xm){e:{try{Km(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:hy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fy.Z.h.call(this)}}ly.prototype.h=function(){this.defaultPrevented=!0},Cm(fy,ly);var hy={2:"touch",3:"pen",4:"mouse"};fy.prototype.h=function(){fy.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var dy="closure_listenable_"+(1e6*Math.random()|0),py=0;function vy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++py,this.ca=this.fa=!1}function my(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function yy(e){this.src=e,this.g={},this.h=0}function gy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Rm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(my(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ky(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}yy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ky(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new vy(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var by="closure_lm_"+(1e6*Math.random()|0),wy={};function xy(e,t,n,r,i){if(r&&r.once)return Ey(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)xy(e,t[a],n,r,i);return null}return n=Ry(n),e&&e[dy]?e.N(t,n,wm(r)?!!r.capture:!!r,i):_y(e,t,n,!1,r,i)}function _y(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=wm(i)?!!i.capture:!!i,u=Ay(e);if(u||(e[by]=u=new yy(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Cy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ty(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ey(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ey(e,t[a],n,r,i);return null}return n=Ry(n),e&&e[dy]?e.O(t,n,wm(r)?!!r.capture:!!r,i):_y(e,t,n,!0,r,i)}function Sy(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Sy(e,t[a],n,r,i);else r=wm(r)?!!r.capture:!!r,n=Ry(n),e&&e[dy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ky(a=e.g[t],n,r,i))&&(my(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ay(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ky(t,n,r,i)),(n=-1<e?t[e]:null)&&Iy(n))}function Iy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[dy])gy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ty(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ay(t))?(gy(n,e),0==n.h&&(n.src=null,t[by]=null)):my(e)}}}function Ty(e){return e in wy?wy[e]:wy[e]="on"+e}function Cy(e,t){if(e.ca)e=!0;else{t=new fy(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Iy(e),e=n.call(r,t)}return e}function Ay(e){return(e=e[by])instanceof yy?e:null}var Ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ry(e){return"function"===typeof e?e:(e[Ny]||(e[Ny]=function(t){return e.handleEvent(t)}),e[Ny])}function Py(){Am.call(this),this.i=new yy(this),this.P=this,this.I=null}function Oy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ly(t,e);else if(t instanceof ly)t.target=t.target||e;else{var i=t;Hm(t=new ly(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Dy(o,r,!0,t)&&i}if(i=Dy(o=t.g=e,r,!0,t)&&i,i=Dy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Dy(o=t.g=n[a],r,!1,t)&&i}function Dy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&gy(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Cm(Py,Am),Py.prototype[dy]=!0,Py.prototype.removeEventListener=function(e,t,n,r){Sy(this,e,t,n,r)},Py.prototype.M=function(){if(Py.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)my(n[r]);delete t.g[e],t.h--}}this.I=null},Py.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Py.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ly=gm.JSON.stringify;function My(){var e=Wy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var jy,Fy=function(){function e(){du(this,e),this.h=this.g=null}return vu(e,[{key:"add",value:function(e,t){var n=Uy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Uy=new(function(){function e(t,n){du(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return vu(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Vy}),(function(e){return e.reset()})),Vy=function(){function e(){du(this,e),this.next=this.g=this.h=null}return vu(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function zy(e){gm.setTimeout((function(){throw e}),0)}function By(e,t){jy||function(){var e=gm.Promise.resolve(void 0);jy=function(){e.then(Hy)}}(),qy||(jy(),qy=!0),Wy.add(e,t)}var qy=!1,Wy=new Fy;function Hy(){for(var e;e=My();){try{e.h.call(e.g)}catch(n){zy(n)}var t=Uy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qy=!1}function Ky(e,t){Py.call(this),this.h=e||1,this.g=t||gm,this.j=Im(this.kb,this),this.l=Date.now()}function Gy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Qy(e,t,n){if("function"===typeof e)n&&(e=Im(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Im(e.handleEvent,e)}return 2147483647<Number(t)?-1:gm.setTimeout(e,t||0)}function $y(e){e.g=Qy((function(){e.g=null,e.i&&(e.i=!1,$y(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Cm(Ky,Py),(pm=Ky.prototype).da=!1,pm.S=null,pm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oy(this,"tick"),this.da&&(Gy(this),this.start()))}},pm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pm.M=function(){Ky.Z.M.call(this),Gy(this),delete this.g};var Yy=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return vu(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:$y(this)}},{key:"M",value:function(){tc(gu(n.prototype),"M",this).call(this),this.g&&(gm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Am);function Jy(e){Am.call(this),this.h=e,this.g={}}Cm(Jy,Am);var Xy=[];function Zy(e,t,n,r){Array.isArray(n)||(n&&(Xy[0]=n.toString()),n=Xy);for(var i=0;i<n.length;i++){var a=xy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function eg(e){Bm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Iy(e)}),e),e.g={}}function tg(){this.g=!0}function ng(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ly(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Jy.prototype.M=function(){Jy.Z.M.call(this),eg(this)},Jy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tg.prototype.Aa=function(){this.g=!1},tg.prototype.info=function(){};var rg={},ig=null;function ag(){return ig=ig||new Py}function og(e){ly.call(this,rg.Ma,e)}function ug(e){var t=ag();Oy(t,new og(t,e))}function sg(e,t){ly.call(this,rg.STAT_EVENT,e),this.stat=t}function cg(e){var t=ag();Oy(t,new sg(t,e))}function lg(e,t){ly.call(this,rg.Na,e),this.size=t}function fg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return gm.setTimeout((function(){e()}),t)}rg.Ma="serverreachability",Cm(og,ly),rg.STAT_EVENT="statevent",Cm(sg,ly),rg.Na="timingevent",Cm(lg,ly);var hg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},dg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function pg(){}function vg(e){return e.h||(e.h=e.i())}function mg(){}pg.prototype.h=null;var yg,gg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kg(){ly.call(this,"d")}function bg(){ly.call(this,"c")}function wg(){}function xg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Jy(this),this.P=Eg,e=Jm?125:void 0,this.W=new Ky(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _g}function _g(){this.i=null,this.g="",this.h=!1}Cm(kg,ly),Cm(bg,ly),Cm(wg,pg),wg.prototype.g=function(){return new XMLHttpRequest},wg.prototype.i=function(){return{}},yg=new wg;var Eg=45e3,Sg={},Ig={};function Tg(e,t,n){e.K=1,e.v=Yg(Wg(t)),e.s=n,e.U=!0,Cg(e,null)}function Cg(e,t){e.F=Date.now(),Pg(e),e.A=Wg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ck(n.h,"t",r),e.C=0,n=e.l.H,e.h=new _g,e.g=fb(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Yy(Im(e.Ia,e,e.g),e.O)),Zy(e.V,e.g,"readystatechange",e.gb),t=e.H?qm(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ug(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ag(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ng(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Rg(e,n))==Ig){4==t&&(e.o=4,cg(14),i=!1),ng(e.j,e.m,null,"[Incomplete Response]");break}if(r==Sg){e.o=4,cg(15),ng(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ng(e.j,e.m,r,null),jg(e,r)}Ag(e)&&r!=Ig&&r!=Sg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,cg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),rb(t),t.L=!0,cg(11))):(ng(e.j,e.m,n,"[Invalid Chunked Response]"),Mg(e),Lg(e))}function Rg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ig:(n=Number(t.substring(n,r)),isNaN(n)?Sg:(r+=1)+n>t.length?Ig:(t=t.substr(r,n),e.C=r+n,t))}function Pg(e){e.Y=Date.now()+e.P,Og(e,e.P)}function Og(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fg(Im(e.eb,e),t)}function Dg(e){e.B&&(gm.clearTimeout(e.B),e.B=null)}function Lg(e){0==e.l.G||e.I||ob(e.l,e)}function Mg(e){Dg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gy(e.W),eg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function jg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||yk(n.i,e)))if(n.I=e.N,!e.J&&yk(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ab(n),Qk(n)}nb(n),cg(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=fg(Im(n.ab,n),6e3));if(1>=mk(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else sb(n,11)}else if((e.J||n.g==e)&&ab(n),!Lm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Fm(l,"spdy")||Fm(l,"quic")||Fm(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(gk(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,$g(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=lb(r,r.H?r.la:null,r.W),d.J){kk(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Dg(p),Pg(p)),r.g=d}else tb(r);0<n.l.length&&Jk(n)}else"stop"!=a[0]&&"close"!=a[0]||sb(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?sb(n,7):Gk(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ug(4)}catch(a){}}function Fg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(bm(e)||"string"===typeof e)Pm(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(bm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(bm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ug(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ug)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Vg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];zg(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)zg(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function zg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(pm=xg.prototype).setTimeout=function(e){this.P=e},pm.gb=function(e){e=e.target;var t=this.L;t&&3==Bk(e)?t.l():this.Ia(e)},pm.Ia=function(e){try{if(e==this.g)e:{var t=Bk(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Jm||this.g&&(this.h.h||this.g.ga()||qk(this.g)))){this.I||4!=t||7==n||ug(8==n||0>=r?3:2),Dg(this);var i=this.g.ba();this.N=i;t:if(Ag(this)){var a=qk(this.g);e="";var o=a.length,u=4==Bk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Mg(this),Lg(this);var s="";break t}this.h.i=new gm.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lm(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,cg(12),Mg(this),Lg(this);break e}ng(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jg(this,i)}this.U?(Ng(this,t,s),Jm&&this.i&&3==t&&(Zy(this.V,this.W,"tick",this.fb),this.W.start())):(ng(this.j,this.m,s,null),jg(this,s)),4==t&&Mg(this),this.i&&!this.I&&(4==t?ob(this.l,this):(this.i=!1,Pg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,cg(12)):(this.o=0,cg(13)),Mg(this),Lg(this)}}}catch(t){}},pm.fb=function(){if(this.g){var e=Bk(this.g),t=this.g.ga();this.C<t.length&&(Dg(this),Ng(this,e,t),this.i&&4!=e&&Pg(this))}},pm.cancel=function(){this.I=!0,Mg(this)},pm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ug(3),cg(17)),Mg(this),this.o=2,Lg(this)):Og(this,this.Y-e)},(pm=Ug.prototype).R=function(){Vg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},pm.T=function(){return Vg(this),this.g.concat()},pm.get=function(e,t){return zg(this.h,e)?this.h[e]:t},pm.set=function(e,t){zg(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},pm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Bg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof qg){this.g=void 0!==t?t:e.g,Hg(this,e.j),this.s=e.s,Kg(this,e.i),Gg(this,e.m),this.l=e.l,t=e.h;var n=new ak;n.i=t.i,t.g&&(n.g=new Ug(t.g),n.h=t.h),Qg(this,n),this.o=e.o}else e&&(n=String(e).match(Bg))?(this.g=!!t,Hg(this,n[1]||"",!0),this.s=Jg(n[2]||""),Kg(this,n[3]||"",!0),Gg(this,n[4]),this.l=Jg(n[5]||"",!0),Qg(this,n[6]||"",!0),this.o=Jg(n[7]||"")):(this.g=!!t,this.h=new ak(null,this.g))}function Wg(e){return new qg(e)}function Hg(e,t,n){e.j=n?Jg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kg(e,t,n){e.i=n?Jg(t,!0):t}function Gg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qg(e,t,n){t instanceof ak?(e.h=t,function(e,t){t&&!e.j&&(ok(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(uk(this,t),ck(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Xg(t,rk)),e.h=new ak(t,e.g))}function $g(e,t,n){e.h.set(t,n)}function Yg(e){return $g(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Jg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Zg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xg(t,ek,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xg(t,ek,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xg(n,"/"==n.charAt(0)?nk:tk,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xg(n,ik)),e.join("")};var ek=/[#\/\?@]/g,tk=/[#\?:]/g,nk=/[#\?]/g,rk=/[#\?@]/g,ik=/#/g;function ak(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ok(e){e.g||(e.g=new Ug,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function uk(e,t){ok(e),t=lk(e,t),zg(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,zg((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Vg(e)))}function sk(e,t){return ok(e),t=lk(e,t),zg(e.g.h,t)}function ck(e,t,n){uk(e,t),0<n.length&&(e.i=null,e.g.set(lk(e,t),Dm(n)),e.h+=n.length)}function lk(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(pm=ak.prototype).add=function(e,t){ok(this),this.i=null,e=lk(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pm.forEach=function(e,t){ok(this),this.g.forEach((function(n,r){Pm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},pm.T=function(){ok(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},pm.R=function(e){ok(this);var t=[];if("string"===typeof e)sk(this,e)&&(t=Om(t,this.g.get(lk(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Om(t,e[n])}return t},pm.set=function(e,t){return ok(this),this.i=null,sk(this,e=lk(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},pm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var fk=vu((function e(t,n){du(this,e),this.h=t,this.g=n}));function hk(e){this.l=e||pk,gm.PerformanceNavigationTiming?e=0<(e=gm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(gm.g&&gm.g.Ea&&gm.g.Ea()&&gm.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dk,pk=10;function vk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mk(e){return e.h?1:e.g?e.g.size:0}function yk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gk(e,t){e.g?e.g.add(t):e.h=t}function kk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=mu(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Dm(e.i)}function wk(){}function xk(){this.g=new wk}function _k(e,t,n){var r=n||"";try{Fg(e,(function(e,n){var i=e;wm(e)&&(i=Ly(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ek(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Sk(e){this.l=e.$b||null,this.j=e.ib||!1}function Ik(e,t){Py.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Tk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hk.prototype.cancel=function(){if(this.i=bk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=mu(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},wk.prototype.stringify=function(e){return gm.JSON.stringify(e,void 0)},wk.prototype.parse=function(e){return gm.JSON.parse(e,void 0)},Cm(Sk,pg),Sk.prototype.g=function(){return new Ik(this.l,this.j)},Sk.prototype.i=(dk={},function(){return dk}),Cm(Ik,Py);var Tk=0;function Ck(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ak(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Nk(e)}function Nk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(pm=Ik.prototype).open=function(e,t){if(this.readyState!=Tk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Nk(this)},pm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||gm).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},pm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ak(this)),this.readyState=Tk},pm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nk(this)),this.g&&(this.readyState=3,Nk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof gm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ck(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},pm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ak(this):Nk(this),3==this.readyState&&Ck(this)}},pm.Ua=function(e){this.g&&(this.response=this.responseText=e,Ak(this))},pm.Ta=function(e){this.g&&(this.response=e,Ak(this))},pm.ha=function(){this.g&&Ak(this)},pm.setRequestHeader=function(e,t){this.v.append(e,t)},pm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},pm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ik.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rk=gm.JSON.parse;function Pk(e){Py.call(this),this.headers=new Ug,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ok,this.K=this.L=!1}Cm(Pk,Py);var Ok="",Dk=/^https?$/i,Lk=["POST","PUT"];function Mk(e){return"content-type"==e.toLowerCase()}function jk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fk(e),Vk(e)}function Fk(e){e.D||(e.D=!0,Oy(e,"complete"),Oy(e,"error"))}function Uk(e){if(e.h&&"undefined"!=typeof ym&&(!e.C[1]||4!=Bk(e)||2!=e.ba()))if(e.v&&4==Bk(e))Qy(e.Fa,0,e);else if(Oy(e,"readystatechange"),4==Bk(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Bg)[1]||null;if(!a&&gm.self&&gm.self.location){var o=gm.self.location.protocol;a=o.substr(0,o.length-1)}i=!Dk.test(a?a.toLowerCase():"")}t=i}if(t)Oy(e,"complete"),Oy(e,"success");else{e.m=6;try{var u=2<Bk(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Fk(e)}}finally{Vk(e)}}}function Vk(e,t){if(e.g){zk(e);var n=e.g,r=e.C[0]?km:null;e.g=null,e.C=null,t||Oy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function zk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(gm.clearTimeout(e.A),e.A=null)}function Bk(e){return e.g?e.g.readyState:0}function qk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ok:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Bm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$g(e,t,n))}function Hk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kk(e){this.za=0,this.l=[],this.h=new tg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hk("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hk("baseRetryDelayMs",5e3,e),this.$a=Hk("retryDelaySeedMs",1e4,e),this.Ya=Hk("forwardChannelMaxRetries",2,e),this.ra=Hk("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new hk(e&&e.concurrentRequestLimit),this.Ca=new xk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Gk(e){if($k(e),3==e.G){var t=e.V++,n=Wg(e.F);$g(n,"SID",e.J),$g(n,"RID",t),$g(n,"TYPE","terminate"),Zk(e,n),(t=new xg(e,e.h,t,void 0)).K=2,t.v=Yg(Wg(n)),n=!1,gm.navigator&&gm.navigator.sendBeacon&&(n=gm.navigator.sendBeacon(t.v.toString(),"")),!n&&gm.Image&&((new Image).src=t.v,n=!0),n||(t.g=fb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Pg(t)}cb(e)}function Qk(e){e.g&&(rb(e),e.g.cancel(),e.g=null)}function $k(e){Qk(e),e.u&&(gm.clearTimeout(e.u),e.u=null),ab(e),e.i.cancel(),e.m&&("number"===typeof e.m&&gm.clearTimeout(e.m),e.m=null)}function Yk(e,t){e.l.push(new fk(e.Za++,t)),3==e.G&&Jk(e)}function Jk(e){vk(e.i)||e.m||(e.m=!0,By(e.Ha,e),e.C=0)}function Xk(e,t){var n;n=t?t.m:e.V++;var r=Wg(e.F);$g(r,"SID",e.J),$g(r,"RID",n),$g(r,"AID",e.U),Zk(e,r),e.o&&e.s&&Wk(r,e.o,e.s),n=new xg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=eb(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),gk(e.i,n),Tg(n,r,t)}function Zk(e,t){e.j&&Fg({},(function(e,n){$g(t,n,e)}))}function eb(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Im(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{_k(l,o,"req"+c+"_")}catch(qb){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function tb(e){e.g||e.u||(e.Y=1,By(e.Ga,e),e.A=0)}function nb(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=fg(Im(e.Ga,e),ub(e,e.A)),e.A++,!0)}function rb(e){null!=e.B&&(gm.clearTimeout(e.B),e.B=null)}function ib(e){e.g=new xg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Wg(e.oa);$g(t,"RID","rpc"),$g(t,"SID",e.J),$g(t,"CI",e.N?"0":"1"),$g(t,"AID",e.U),Zk(e,t),$g(t,"TYPE","xmlhttp"),e.o&&e.s&&Wk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Yg(Wg(t)),n.s=null,n.U=!0,Cg(n,e)}function ab(e){null!=e.v&&(gm.clearTimeout(e.v),e.v=null)}function ob(e,t){var n=null;if(e.g==t){ab(e),rb(e),e.g=null;var r=2}else{if(!yk(e.i,t))return;n=t.D,kk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Oy(r=ag(),new lg(r,n,t,i)),Jk(e)}else tb(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(mk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=fg(Im(e.Ha,e,t),ub(e,e.C)),e.C++,!0))}(e,t)||2==r&&nb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sb(e,5);break;case 4:sb(e,10);break;case 3:sb(e,6);break;default:sb(e,2)}}function ub(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function sb(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Im(e.jb,e);n||(n=new qg("//www.google.com/images/cleardot.gif"),gm.location&&"http"==gm.location.protocol||Hg(n,"https"),Yg(n)),function(e,t){var n=new tg;if(gm.Image){var r=new Image;r.onload=Tm(Ek,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tm(Ek,n,r,"TestLoadImage: error",!1,t),r.onabort=Tm(Ek,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tm(Ek,n,r,"TestLoadImage: timeout",!1,t),gm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else cg(2);e.G=0,e.j&&e.j.va(t),cb(e),$k(e)}function cb(e){e.G=0,e.I=-1,e.j&&(0==bk(e.i).length&&0==e.l.length||(e.i.i.length=0,Dm(e.l),e.l.length=0),e.j.ua())}function lb(e,t,n){var r=function(e){return e instanceof qg?Wg(e):new qg(e,void 0)}(n);if(""!=r.i)t&&Kg(r,t+"."+r.i),Gg(r,r.m);else{var i=gm.location;r=function(e,t,n,r){var i=new qg(null,void 0);return e&&Hg(i,e),t&&Kg(i,t),n&&Gg(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Bm(e.aa,(function(e,t){$g(r,t,e)})),t=e.D,n=e.sa,t&&n&&$g(r,t,n),$g(r,"VER",e.ma),Zk(e,r),r}function fb(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Pk(new Sk({ib:!0})):new Pk(e.qa)).L=e.H,t}function hb(){}function db(){if($m&&!(10<=Number(sy)))throw Error("Environmental error: no available transport.")}function pb(e,t){Py.call(this),this.g=new Kk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Lm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yb(this)}function vb(e){kg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mb(){bg.call(this),this.status=1}function yb(e){this.g=e}(pm=Pk.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yg.g(),this.C=this.u?vg(this.u):vg(yg),this.g.onreadystatechange=Im(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void jk(this,a)}e=n||"";var i=new Ug(this.headers);r&&Fg(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Mk,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=gm.FormData&&e instanceof gm.FormData,!(0<=Rm(Lk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zk(this),0<this.B&&((this.K=function(e){return $m&&oy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Im(this.pa,this)):this.A=Qy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){jk(this,a)}},pm.pa=function(){"undefined"!=typeof ym&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oy(this,"timeout"),this.abort(8))},pm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oy(this,"complete"),Oy(this,"abort"),Vk(this))},pm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vk(this,!0)),Pk.Z.M.call(this)},pm.Fa=function(){this.s||(this.F||this.v||this.l?Uk(this):this.cb())},pm.cb=function(){Uk(this)},pm.ba=function(){try{return 2<Bk(this)?this.g.status:-1}catch(dk){return-1}},pm.ga=function(){try{return this.g?this.g.responseText:""}catch(dk){return""}},pm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rk(t)}},pm.Da=function(){return this.m},pm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(pm=Kk.prototype).ma=8,pm.G=1,pm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},pm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new xg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Hm(n=qm(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=eb(this,t,r),$g(i=Wg(this.F),"RID",e),$g(i,"CVER",22),this.D&&$g(i,"X-HTTP-Session-Id",this.D),Zk(this,i),this.o&&n&&Wk(i,this.o,n),gk(this.i,t),this.Ra&&$g(i,"TYPE","init"),this.ja?($g(i,"$req",r),$g(i,"SID","null"),t.$=!0,Tg(t,i,null)):Tg(t,i,r),this.G=2}}else 3==this.G&&(e?Xk(this,e):0==this.l.length||vk(this.i)||Xk(this))},pm.Ga=function(){if(this.u=null,ib(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=fg(Im(this.bb,this),e)}},pm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cg(10),Qk(this),ib(this))},pm.ab=function(){null!=this.v&&(this.v=null,Qk(this),nb(this),cg(19))},pm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),cg(2)):(this.h.info("Failed to ping google.com"),cg(1))},(pm=hb.prototype).xa=function(){},pm.wa=function(){},pm.va=function(){},pm.ua=function(){},pm.Oa=function(){},db.prototype.g=function(e,t){return new pb(e,t)},Cm(pb,Py),pb.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),By(Im(e.hb,e,t))),cg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=lb(e,null,e.W),Jk(e)},pb.prototype.close=function(){Gk(this.g)},pb.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Yk(this.g,t)}else this.v?((t={}).__data__=Ly(e),Yk(this.g,t)):Yk(this.g,e)},pb.prototype.M=function(){this.g.j=null,delete this.j,Gk(this.g),delete this.g,pb.Z.M.call(this)},Cm(vb,kg),Cm(mb,bg),Cm(yb,hb),yb.prototype.xa=function(){Oy(this.g,"a")},yb.prototype.wa=function(e){Oy(this.g,new vb(e))},yb.prototype.va=function(e){Oy(this.g,new mb(e))},yb.prototype.ua=function(){Oy(this.g,"b")},db.prototype.createWebChannel=db.prototype.g,pb.prototype.send=pb.prototype.u,pb.prototype.open=pb.prototype.m,pb.prototype.close=pb.prototype.close,hg.NO_ERROR=0,hg.TIMEOUT=8,hg.HTTP_ERROR=6,dg.COMPLETE="complete",mg.EventType=gg,gg.OPEN="a",gg.CLOSE="b",gg.ERROR="c",gg.MESSAGE="d",Py.prototype.listen=Py.prototype.N,Pk.prototype.listenOnce=Pk.prototype.O,Pk.prototype.getLastError=Pk.prototype.La,Pk.prototype.getLastErrorCode=Pk.prototype.Da,Pk.prototype.getStatus=Pk.prototype.ba,Pk.prototype.getResponseJson=Pk.prototype.Qa,Pk.prototype.getResponseText=Pk.prototype.ga,Pk.prototype.send=Pk.prototype.ea;var gb=mm.createWebChannelTransport=function(){return new db},kb=mm.getStatEventTarget=function(){return ag()},bb=mm.ErrorCode=hg,wb=mm.EventType=dg,xb=mm.Event=rg,_b=mm.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Eb=mm.FetchXmlHttpFactory=Sk,Sb=mm.WebChannel=mg,Ib=mm.XhrIo=Pk,Tb="@firebase/firestore",Cb=function(){function e(t){du(this,e),this.uid=t}return vu(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Cb.UNAUTHENTICATED=new Cb(null),Cb.GOOGLE_CREDENTIALS=new Cb("google-credentials-uid"),Cb.FIRST_PARTY=new Cb("first-party-uid"),Cb.MOCK_USER=new Cb("mock-user");var Ab="9.6.1",Nb=new gs("@firebase/firestore");function Rb(){return Nb.logLevel}function Pb(e){if(Nb.logLevel<=cs.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lb);Nb.debug.apply(Nb,["Firestore (".concat(Ab,"): ").concat(e)].concat(wt(i)))}}function Ob(e){if(Nb.logLevel<=cs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lb);Nb.error.apply(Nb,["Firestore (".concat(Ab,"): ").concat(e)].concat(wt(i)))}}function Db(e){if(Nb.logLevel<=cs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lb);Nb.warn.apply(Nb,["Firestore (".concat(Ab,"): ").concat(e)].concat(wt(i)))}}function Lb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ab,") INTERNAL ASSERTION FAILED: ")+e;throw Ob(t),new Error(t)}function jb(e,t){e||Mb()}function Fb(e,t){return e}var Ub={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vb=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return vu(n)}(Eu(Error)),zb=vu((function e(){var t=this;du(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Bb=vu((function e(t,n){du(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),qb=function(){function e(){du(this,e)}return vu(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Cb.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Wb=function(){function e(t){du(this,e),this.token=t,this.changeListener=null}return vu(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Hb=function(){function e(t){du(this,e),this.t=t,this.currentUser=Cb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return vu(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new zb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new zb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Pb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Pb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Pb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(jb("string"==typeof n.accessToken),new Bb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return jb(null===e||"string"==typeof e),new Cb(e)}}]),e}(),Kb=vu((function e(t,n,r){du(this,e),this.type="FirstParty",this.user=Cb.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Gb=function(){function e(t,n,r){du(this,e),this.h=t,this.l=n,this.m=r}return vu(e,[{key:"getToken",value:function(){return Promise.resolve(new Kb(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Cb.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qb=vu((function e(t){du(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$b=function(){function e(t){du(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return vu(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Pb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Pb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Pb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(jb("string"==typeof e.token),new Qb(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Yb=function(){function e(t,n){var r=this;du(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return vu(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Jb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Yb.I=-1;var Xb=function(){function e(){du(this,e)}return vu(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Jb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Zb(e,t){return e<t?-1:e>t?1:0}function ew(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function tw(e){return e+"\0"}var nw=function(){function e(t,n){if(du(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Vb(Ub.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vb(Ub.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Vb(Ub.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vb(Ub.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return vu(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Zb(this.nanoseconds,e.nanoseconds):Zb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),rw=function(){function e(t){du(this,e),this.timestamp=t}return vu(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new nw(0,0))}}]),e}();function iw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function aw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ow(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var uw=function(){function e(t,n,r){du(this,e),void 0===n?n=0:n>t.length&&Mb(),void 0===r?r=t.length-n:r>t.length-n&&Mb(),this.segments=t,this.offset=n,this.len=r}return vu(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),sw=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,wt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(uw),cw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lw=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return cw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Vb(Ub.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Vb(Ub.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Vb(Ub.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(uw),fw=function(){function e(t){du(this,e),this.fields=t,t.sort(lw.comparator)}return vu(e,[{key:"covers",value:function(e){var t,n=mu(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ew(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var hw=function(){function e(t){du(this,e),this.binaryString=t}return vu(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Zb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();hw.EMPTY_BYTE_STRING=new hw("");var dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pw(e){if(jb(!!e),"string"==typeof e){var t=0,n=dw.exec(e);if(jb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:vw(e.seconds),nanos:vw(e.nanos)}}function vw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function mw(e){return"string"==typeof e?hw.fromBase64String(e):hw.fromUint8Array(e)}function yw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gw(e){var t=e.mapValue.fields.__previous_value__;return yw(t)?gw(t):t}function kw(e){var t=pw(e.mapValue.fields.__local_write_time__.timestampValue);return new nw(t.seconds,t.nanos)}function bw(e){return null==e}function ww(e){return 0===e&&1/e==-1/0}function xw(e){return"number"==typeof e&&Number.isInteger(e)&&!ww(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _w=function(){function e(t){du(this,e),this.path=t}return vu(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===sw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(sw.fromString(t))}},{key:"fromName",value:function(t){return new e(sw.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return sw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new sw(t.slice()))}}]),e}();function Ew(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yw(e)?4:10:Mb()}function Sw(e,t){var n=Ew(e);if(n!==Ew(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kw(e).isEqual(kw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=pw(e.timestampValue),r=pw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return mw(e.bytesValue).isEqual(mw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vw(e.geoPointValue.latitude)===vw(t.geoPointValue.latitude)&&vw(e.geoPointValue.longitude)===vw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vw(e.integerValue)===vw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=vw(e.doubleValue),r=vw(t.doubleValue);return n===r?ww(n)===ww(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ew(e.arrayValue.values||[],t.arrayValue.values||[],Sw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(iw(n)!==iw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sw(n[i],r[i])))return!1;return!0}(e,t);default:return Mb()}}function Iw(e,t){return void 0!==(e.values||[]).find((function(e){return Sw(e,t)}))}function Tw(e,t){var n=Ew(e),r=Ew(t);if(n!==r)return Zb(n,r);switch(n){case 0:return 0;case 1:return Zb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=vw(e.integerValue||e.doubleValue),r=vw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cw(e.timestampValue,t.timestampValue);case 4:return Cw(kw(e),kw(t));case 5:return Zb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=mw(e),r=mw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Zb(n[i],r[i]);if(0!==a)return a}return Zb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Zb(vw(e.latitude),vw(t.latitude));return 0!==n?n:Zb(vw(e.longitude),vw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Tw(n[i],r[i]);if(a)return a}return Zb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Zb(r[o],a[o]);if(0!==u)return u;var s=Tw(n[r[o]],i[a[o]]);if(0!==s)return s}return Zb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mb()}}function Cw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zb(e,t);var n=pw(e),r=pw(t),i=Zb(n.seconds,r.seconds);return 0!==i?i:Zb(n.nanos,r.nanos)}function Aw(e){return Nw(e)}function Nw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=pw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?mw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_w.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=mu(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Nw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=mu(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Nw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Mb();var t,n}function Rw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Pw(e){return!!e&&"integerValue"in e}function Ow(e){return!!e&&"arrayValue"in e}function Dw(e){return!!e&&"nullValue"in e}function Lw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mw(e){return!!e&&"mapValue"in e}function jw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return aw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=jw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=jw(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Fw=function(){function e(t){du(this,e),this.value=t}return vu(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Mw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jw(t)}},{key:"setAll",value:function(e){var t=this,n=lw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=jw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Mw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Sw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Mw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){aw(t,(function(t,n){return e[t]=n}));var r,i=mu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(jw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Uw(e){var t=[];return aw(e.fields,(function(e,n){var r=new lw([e]);if(Mw(n)){var i=Uw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=mu(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new fw(t)}var Vw=function(){function e(t,n,r,i,a){du(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return vu(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,rw.min(),Fw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fw.empty(),2)}}]),e}(),zw=vu((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;du(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function Bw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new zw(e,t,n,r,i,a,o)}function qw(e){var t=Fb(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Aw(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),bw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=nx(t.startAt)),t.endAt&&(n+="|ub:",n+=nx(t.endAt)),t.R=n}return t.R}function Ww(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ix(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Sw(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ox(e.startAt,t.startAt)&&ox(e.endAt,t.endAt)}function Hw(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Kw=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return vu(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Tw(t,this.value)):null!==t&&Ew(this.value)===Ew(t)&&this.v(Tw(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mb()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Gw(e,t,r):"array-contains"===t?new Jw(e,r):"in"===t?new Xw(e,r):"not-in"===t?new Zw(e,r):"array-contains-any"===t?new ex(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Qw(e,n):new $w(e,n)}}]),n}(function(){return vu((function e(){du(this,e)}))}());var Gw=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this,e,r,i)).key=_w.fromName(i.referenceValue),a}return vu(n,[{key:"matches",value:function(e){var t=_w.comparator(e.key,this.key);return this.v(t)}}]),n}(Kw),Qw=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e,"in",r)).keys=Yw("in",r),i}return vu(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kw),$w=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e,"not-in",r)).keys=Yw("not-in",r),i}return vu(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kw);function Yw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _w.fromName(e.referenceValue)}))}var Jw=function(e){yu(n,e);var t=xu(n);function n(e,r){return du(this,n),t.call(this,e,"array-contains",r)}return vu(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ow(t)&&Iw(t.arrayValue,this.value)}}]),n}(Kw),Xw=function(e){yu(n,e);var t=xu(n);function n(e,r){return du(this,n),t.call(this,e,"in",r)}return vu(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Iw(this.value.arrayValue,t)}}]),n}(Kw),Zw=function(e){yu(n,e);var t=xu(n);function n(e,r){return du(this,n),t.call(this,e,"not-in",r)}return vu(n,[{key:"matches",value:function(e){if(Iw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Iw(this.value.arrayValue,t)}}]),n}(Kw),ex=function(e){yu(n,e);var t=xu(n);function n(e,r){return du(this,n),t.call(this,e,"array-contains-any",r)}return vu(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Iw(t.value.arrayValue,e)}))}}]),n}(Kw),tx=vu((function e(t,n){du(this,e),this.position=t,this.before=n}));function nx(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Aw(e)})).join(","))}var rx=vu((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";du(this,e),this.field=t,this.dir=n}));function ix(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ax(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_w.comparator(_w.fromName(o.referenceValue),n.key):Tw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ox(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Sw(e.position[n],t.position[n]))return!1;return!0}var ux=vu((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;du(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function sx(e,t,n,r,i,a,o,u){return new ux(e,t,n,r,i,a,o,u)}function cx(e){return new ux(e)}function lx(e){return!bw(e.limit)&&"F"===e.limitType}function fx(e){return!bw(e.limit)&&"L"===e.limitType}function hx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dx(e){var t,n=mu(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function px(e){return null!==e.collectionGroup}function vx(e){var t=Fb(e);if(null===t.S){t.S=[];var n=dx(t),r=hx(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new rx(n)),t.S.push(new rx(lw.keyField(),"asc"));else{var i,a=!1,o=mu(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new rx(lw.keyField(),s))}}}return t.S}function mx(e){var t=Fb(e);if(!t.D)if("F"===t.limitType)t.D=Bw(t.path,t.collectionGroup,vx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=mu(vx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new tx(t.endAt.position,!t.endAt.before):null,s=t.startAt?new tx(t.startAt.position,!t.startAt.before):null;t.D=Bw(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function yx(e,t,n){return new ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gx(e,t){return Ww(mx(e),mx(t))&&e.limitType===t.limitType}function kx(e){return"".concat(qw(mx(e)),"|lt:").concat(e.limitType)}function bx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Aw(t.value));var t})).join(", "),"]")),bw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+nx(e.startAt)),e.endAt&&(t+=", endAt: "+nx(e.endAt)),"Target(".concat(t,")")}(mx(e)),"; limitType=").concat(e.limitType,")")}function wx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_w.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=mu(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=mu(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!ax(e.startAt,vx(e),t))&&(!e.endAt||!ax(e.endAt,vx(e),t))}(e,t)}function xx(e){return function(t,n){var r,i=!1,a=mu(vx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=_x(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function _x(e,t,n){var r=e.field.isKeyField()?_w.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Tw(r,i):Mb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mb()}}function Ex(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ww(t)?"-0":t}}function Sx(e){return{integerValue:""+e}}function Ix(e,t){return xw(t)?Sx(t):Ex(e,t)}var Tx=vu((function e(){du(this,e),this._=void 0}));function Cx(e,t,n){return e instanceof Rx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Px?Ox(e,t):e instanceof Dx?Lx(e,t):function(e,t){var n=Nx(e,t),r=jx(n)+jx(e.N);return Pw(n)&&Pw(e.N)?Sx(r):Ex(e.k,r)}(e,t)}function Ax(e,t,n){return e instanceof Px?Ox(e,t):e instanceof Dx?Lx(e,t):n}function Nx(e,t){return e instanceof Mx?Pw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Rx=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n)}(Tx),Px=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this)).elements=e,r}return vu(n)}(Tx);function Ox(e,t){var n,r=Fx(t),i=mu(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Sw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dx=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this)).elements=e,r}return vu(n)}(Tx);function Lx(e,t){var n,r=Fx(t),i=mu(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Sw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mx=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this)).k=e,i.N=r,i}return vu(n)}(Tx);function jx(e){return vw(e.integerValue||e.doubleValue)}function Fx(e){return Ow(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ux=vu((function e(t,n){du(this,e),this.field=t,this.transform=n}));var Vx=vu((function e(t,n){du(this,e),this.version=t,this.transformResults=n})),zx=function(){function e(t,n){du(this,e),this.updateTime=t,this.exists=n}return vu(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qx=vu((function e(){du(this,e)}));function Wx(e,t,n){e instanceof $x?function(e,t,n){var r=e.value.clone(),i=Xx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yx?function(e,t,n){if(Bx(e.precondition,t)){var r=Xx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hx(e,t,n){e instanceof $x?function(e,t,n){if(Bx(e.precondition,t)){var r=e.value.clone(),i=Zx(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Qx(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Yx?function(e,t,n){if(Bx(e.precondition,t)){var r=Zx(e.fieldTransforms,n,t),i=t.data;i.setAll(Jx(e)),i.setAll(r),t.convertToFoundDocument(Qx(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Bx(e.precondition,t)&&t.convertToNoDocument(rw.min())}(e,t)}function Kx(e,t){var n,r=null,i=mu(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Nx(a.transform,o||null);null!=u&&(null==r&&(r=Fw.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Gx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ew(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Px&&t instanceof Px||e instanceof Dx&&t instanceof Dx?ew(e.elements,t.elements,Sw):e instanceof Mx&&t instanceof Mx?Sw(e.N,t.N):e instanceof Rx&&t instanceof Rx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Qx(e){return e.isFoundDocument()?e.version:rw.min()}var $x=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return du(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return vu(n)}(qx),Yx=function(e){yu(n,e);var t=xu(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return du(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return vu(n)}(qx);function Jx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Xx(e,t,n){var r=new Map;jb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ax(o,u,n[i]))}return r}function Zx(e,t,n){var r,i=new Map,a=mu(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Cx(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var e_,t_,n_=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return vu(n)}(qx),r_=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return vu(n)}(qx),i_=vu((function e(t){du(this,e),this.count=t}));function a_(e){switch(e){default:return Mb();case Ub.CANCELLED:case Ub.UNKNOWN:case Ub.DEADLINE_EXCEEDED:case Ub.RESOURCE_EXHAUSTED:case Ub.INTERNAL:case Ub.UNAVAILABLE:case Ub.UNAUTHENTICATED:return!1;case Ub.INVALID_ARGUMENT:case Ub.NOT_FOUND:case Ub.ALREADY_EXISTS:case Ub.PERMISSION_DENIED:case Ub.FAILED_PRECONDITION:case Ub.ABORTED:case Ub.OUT_OF_RANGE:case Ub.UNIMPLEMENTED:case Ub.DATA_LOSS:return!0}}function o_(e){if(void 0===e)return Ob("GRPC error has no .code"),Ub.UNKNOWN;switch(e){case e_.OK:return Ub.OK;case e_.CANCELLED:return Ub.CANCELLED;case e_.UNKNOWN:return Ub.UNKNOWN;case e_.DEADLINE_EXCEEDED:return Ub.DEADLINE_EXCEEDED;case e_.RESOURCE_EXHAUSTED:return Ub.RESOURCE_EXHAUSTED;case e_.INTERNAL:return Ub.INTERNAL;case e_.UNAVAILABLE:return Ub.UNAVAILABLE;case e_.UNAUTHENTICATED:return Ub.UNAUTHENTICATED;case e_.INVALID_ARGUMENT:return Ub.INVALID_ARGUMENT;case e_.NOT_FOUND:return Ub.NOT_FOUND;case e_.ALREADY_EXISTS:return Ub.ALREADY_EXISTS;case e_.PERMISSION_DENIED:return Ub.PERMISSION_DENIED;case e_.FAILED_PRECONDITION:return Ub.FAILED_PRECONDITION;case e_.ABORTED:return Ub.ABORTED;case e_.OUT_OF_RANGE:return Ub.OUT_OF_RANGE;case e_.UNIMPLEMENTED:return Ub.UNIMPLEMENTED;case e_.DATA_LOSS:return Ub.DATA_LOSS;default:return Mb()}}(t_=e_||(e_={}))[t_.OK=0]="OK",t_[t_.CANCELLED=1]="CANCELLED",t_[t_.UNKNOWN=2]="UNKNOWN",t_[t_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t_[t_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t_[t_.NOT_FOUND=5]="NOT_FOUND",t_[t_.ALREADY_EXISTS=6]="ALREADY_EXISTS",t_[t_.PERMISSION_DENIED=7]="PERMISSION_DENIED",t_[t_.UNAUTHENTICATED=16]="UNAUTHENTICATED",t_[t_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t_[t_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t_[t_.ABORTED=10]="ABORTED",t_[t_.OUT_OF_RANGE=11]="OUT_OF_RANGE",t_[t_.UNIMPLEMENTED=12]="UNIMPLEMENTED",t_[t_.INTERNAL=13]="INTERNAL",t_[t_.UNAVAILABLE=14]="UNAVAILABLE",t_[t_.DATA_LOSS=15]="DATA_LOSS";var u_=function(){function e(t,n){du(this,e),this.comparator=t,this.root=n||c_.EMPTY}return vu(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,c_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,c_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new s_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new s_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new s_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new s_(this.root,e,this.comparator,!0)}}]),e}(),s_=function(){function e(t,n,r,i){du(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return vu(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),c_=function(){function e(t,n,r,i,a){du(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return vu(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Mb();if(this.right.isRed())throw Mb();var e=this.left.check();if(e!==this.right.check())throw Mb();return e+(this.isRed()?0:1)}}]),e}();c_.EMPTY=null,c_.RED=!0,c_.BLACK=!1,c_.EMPTY=new(function(){function e(){du(this,e),this.size=0}return vu(e,[{key:"key",get:function(){throw Mb()}},{key:"value",get:function(){throw Mb()}},{key:"color",get:function(){throw Mb()}},{key:"left",get:function(){throw Mb()}},{key:"right",get:function(){throw Mb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new c_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var l_=function(){function e(t){du(this,e),this.comparator=t,this.data=new u_(this.comparator)}return vu(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new f_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new f_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),f_=function(){function e(t){du(this,e),this.iter=t}return vu(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),h_=new u_(_w.comparator);function d_(){return h_}var p_=new u_(_w.comparator);function v_(){return p_}var m_=new u_(_w.comparator);function y_(){return m_}var g_=new l_(_w.comparator);function k_(){for(var e=g_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var b_=new l_(Zb);function w_(){return b_}var x_=function(){function e(t,n,r,i,a){du(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return vu(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,__.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(rw.min(),r,w_(),d_(),k_())}}]),e}(),__=function(){function e(t,n,r,i,a){du(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return vu(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(hw.EMPTY_BYTE_STRING,n,k_(),k_(),k_())}}]),e}(),E_=vu((function e(t,n,r,i){du(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),S_=vu((function e(t,n){du(this,e),this.targetId=t,this.O=n})),I_=vu((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;du(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),T_=function(){function e(){du(this,e),this.M=0,this.L=N_(),this.B=hw.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return vu(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=k_(),t=k_(),n=k_();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mb()}})),new __(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=N_()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),C_=function(){function e(t){du(this,e),this.et=t,this.nt=new Map,this.st=d_(),this.it=A_(),this.rt=new l_(Zb)}return vu(e,[{key:"ot",value:function(e){var t,n=mu(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=mu(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Mb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Hw(i))if(0===n){var a=new _w(i.path);this.ct(t,a,Vw.newNoDocument(a,rw.min()))}else jb(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Hw(a.target)){var o=new _w(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,Vw.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=k_();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new x_(e,n,this.rt,this.st,r);return this.st=d_(),this.it=A_(),this.rt=new l_(Zb),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new T_,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new l_(Zb),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Pb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new T_),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function A_(){return new u_(_w.comparator)}function N_(){return new u_(_w.comparator)}var R_={asc:"ASCENDING",desc:"DESCENDING"},P_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O_=vu((function e(t,n){du(this,e),this.databaseId=t,this.C=n}));function D_(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function L_(e,t){return e.C?t.toBase64():t.toUint8Array()}function M_(e,t){return D_(e,t.toTimestamp())}function j_(e){return jb(!!e),rw.fromTimestamp(function(e){var t=pw(e);return new nw(t.seconds,t.nanos)}(e))}function F_(e,t){return function(e){return new sw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function U_(e){var t=sw.fromString(e);return jb(lE(t)),t}function V_(e,t){return F_(e.databaseId,t.path)}function z_(e,t){var n=U_(t);if(n.get(1)!==e.databaseId.projectId)throw new Vb(Ub.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vb(Ub.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _w(H_(n))}function B_(e,t){return F_(e.databaseId,t)}function q_(e){var t=U_(e);return 4===t.length?sw.emptyPath():H_(t)}function W_(e){return new sw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function H_(e){return jb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function K_(e,t,n){return{name:V_(e,t),fields:n.value.mapValue.fields}}function G_(e,t,n){var r=z_(e,t.name),i=j_(t.updateTime),a=new Fw({mapValue:{fields:t.fields}}),o=Vw.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Q_(e,t){return"found"in t?function(e,t){jb(!!t.found),t.found.name,t.found.updateTime;var n=z_(e,t.found.name),r=j_(t.found.updateTime),i=new Fw({mapValue:{fields:t.found.fields}});return Vw.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){jb(!!t.missing),jb(!!t.readTime);var n=z_(e,t.missing),r=j_(t.readTime);return Vw.newNoDocument(n,r)}(e,t):Mb()}function $_(e,t){var n;if(t instanceof $x)n={update:K_(e,t.key,t.value)};else if(t instanceof n_)n={delete:V_(e,t.key)};else if(t instanceof Yx)n={update:K_(e,t.key,t.data),updateMask:cE(t.fieldMask)};else{if(!(t instanceof r_))return Mb();n={verify:V_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Rx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Px)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mx)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Mb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:M_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mb()}(e,t.precondition)),n}function Y_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?zx.updateTime(j_(e.updateTime)):void 0!==e.exists?zx.exists(e.exists):zx.none()}(t.currentDocument):zx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)jb("REQUEST_TIME"===t.setToServerValue),n=new Rx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Px(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Dx(i)}else"increment"in t?n=new Mx(e,t.increment):Mb();var a=lw.fromServerFormat(t.fieldPath);return new Ux(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=z_(e,t.update.name),a=new Fw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new fw(t.map((function(e){return lw.fromServerFormat(e)})))}(t.updateMask);return new Yx(i,a,o,n,r)}return new $x(i,a,n,r)}if(t.delete){var u=z_(e,t.delete);return new n_(u,n)}if(t.verify){var s=z_(e,t.verify);return new r_(s,n)}return Mb()}function J_(e,t){return{documents:[B_(e,t.path)]}}function X_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=B_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=B_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Lw(e.value))return{unaryFilter:{field:aE(e.field),op:"IS_NAN"}};if(Dw(e.value))return{unaryFilter:{field:aE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lw(e.value))return{unaryFilter:{field:aE(e.field),op:"IS_NOT_NAN"}};if(Dw(e.value))return{unaryFilter:{field:aE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aE(e.field),op:iE(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:aE(e.field),direction:rE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||bw(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=tE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=tE(t.endAt)),n}function Z_(e){var t=q_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=eE(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new rx(oE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return bw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=nE(n.startAt));var l=null;return n.endAt&&(l=nE(n.endAt)),sx(t,i,u,o,s,"F",c,l)}function eE(e){return e?void 0!==e.unaryFilter?[sE(e)]:void 0!==e.fieldFilter?[uE(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return eE(e)})).reduce((function(e,t){return e.concat(t)})):Mb():[]}function tE(e){return{before:e.before,values:e.position}}function nE(e){var t=!!e.before,n=e.values||[];return new tx(n,t)}function rE(e){return R_[e]}function iE(e){return P_[e]}function aE(e){return{fieldPath:e.canonicalString()}}function oE(e){return lw.fromServerFormat(e.fieldPath)}function uE(e){return Kw.create(oE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mb()}}(e.fieldFilter.op),e.fieldFilter.value)}function sE(e){switch(e.unaryFilter.op){case"IS_NAN":var t=oE(e.unaryFilter.field);return Kw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=oE(e.unaryFilter.field);return Kw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=oE(e.unaryFilter.field);return Kw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=oE(e.unaryFilter.field);return Kw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mb()}}function cE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function fE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dE(t)),t=hE(e.get(n),t);return dE(t)}function hE(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function dE(e){return e+"\x01\x01"}function pE(e){var t=e.length;if(jb(t>=2),2===t)return jb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),sw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Mb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Mb()}a=o+2}return new sw(r)}var vE=vu((function e(t,n){du(this,e),this.seconds=t,this.nanoseconds=n})),mE=vu((function e(t,n,r){du(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));mE.store="owner",mE.key="owner";var yE=vu((function e(t,n,r){du(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));yE.store="mutationQueues",yE.keyPath="userId";var gE=vu((function e(t,n,r,i,a){du(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));gE.store="mutations",gE.keyPath="batchId",gE.userMutationsIndex="userMutationsIndex",gE.userMutationsKeyPath=["userId","batchId"];var kE=function(){function e(){du(this,e)}return vu(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,fE(t)]}},{key:"key",value:function(e,t,n){return[e,fE(t),n]}}]),e}();kE.store="documentMutations",kE.PLACEHOLDER=new kE;var bE=vu((function e(t,n){du(this,e),this.path=t,this.readTime=n})),wE=vu((function e(t,n){du(this,e),this.path=t,this.version=n})),xE=vu((function e(t,n,r,i,a,o){du(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));xE.store="remoteDocuments",xE.readTimeIndex="readTimeIndex",xE.readTimeIndexPath="readTime",xE.collectionReadTimeIndex="collectionReadTimeIndex",xE.collectionReadTimeIndexPath=["parentPath","readTime"];var _E=vu((function e(t){du(this,e),this.byteSize=t}));_E.store="remoteDocumentGlobal",_E.key="remoteDocumentGlobalKey";var EE=vu((function e(t,n,r,i,a,o,u){du(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));EE.store="targets",EE.keyPath="targetId",EE.queryTargetsIndexName="queryTargetsIndex",EE.queryTargetsKeyPath=["canonicalId","targetId"];var SE=vu((function e(t,n,r){du(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));SE.store="targetDocuments",SE.keyPath=["targetId","path"],SE.documentTargetsIndex="documentTargetsIndex",SE.documentTargetsKeyPath=["path","targetId"];var IE=vu((function e(t,n,r,i){du(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));IE.key="targetGlobalKey",IE.store="targetGlobal";var TE=vu((function e(t,n){du(this,e),this.collectionId=t,this.parent=n}));TE.store="collectionParents",TE.keyPath=["collectionId","parent"];var CE=vu((function e(t,n,r,i){du(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));CE.store="clientMetadata",CE.keyPath="clientId";var AE=vu((function e(t,n,r){du(this,e),this.bundleId=t,this.createTime=n,this.version=r}));AE.store="bundles",AE.keyPath="bundleId";var NE=vu((function e(t,n,r){du(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));NE.store="namedQueries",NE.keyPath="name";var RE=[yE.store,gE.store,kE.store,xE.store,EE.store,mE.store,IE.store,SE.store].concat([CE.store]).concat([_E.store]).concat([TE.store]).concat([AE.store,NE.store]),PE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",OE=function(){function e(){du(this,e),this.onCommittedListeners=[]}return vu(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),DE=function(){function e(t){var n=this;du(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return vu(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Mb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=mu(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),LE=function(){function e(t,n){var r=this;du(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new zb,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new FE(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=qE(e.target.error);r.It.reject(new FE(t,n))}}return vu(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Pb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new VE(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new FE(n,t)}}}]),e}(),ME=function(){function e(t,n,r){du(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(Ou())&&Ob("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return vu(e,[{key:"Ct",value:function(){var e=ts(rs().mark((function e(t){var n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Pb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new FE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Vb(Ub.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Vb(Ub.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new FE(t,n))},i.onupgradeneeded=function(e){Pb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Pb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ts(rs().mark((function e(t,n,r,i){var a,o,u,s,c=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(rs().mark((function e(){var n,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=LE.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),DE.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Pb("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Pb("SimpleDb","Removing database:",e),zE(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Uu())return!1;if(e.vt())return!0;var t=Ou(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/walley",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),jE=function(){function e(t){du(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return vu(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return zE(this.$t.delete())}}]),e}(),FE=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,Ub.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return vu(n)}(Vb);function UE(e){return"IndexedDbTransactionError"===e.name}var VE=function(){function e(t){du(this,e),this.store=t}return vu(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Pb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zE(n)}},{key:"add",value:function(e){return Pb("SimpleDb","ADD",this.store.name,e,e),zE(this.store.add(e))}},{key:"get",value:function(e){var t=this;return zE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Pb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Pb("SimpleDb","DELETE",this.store.name,e),zE(this.store.delete(e))}},{key:"count",value:function(){return Pb("SimpleDb","COUNT",this.store.name),zE(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Pb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new DE((function(n,r){t.onerror=function(e){var t=qE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new DE((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new jE(i),o=t(i.primaryKey,i.value,a);if(o instanceof DE){var u=o.catch((function(e){return a.done(),DE.reject(e)}));n.push(u)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return DE.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function zE(e){return new DE((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qE(e.target.error);n(t)}}))}var BE=!1;function qE(e){var t=ME.Pt(Ou());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Vb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return BE||(BE=!0,setTimeout((function(){throw r}),0)),r}}return e}var WE=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return vu(n)}(OE);function HE(e,t){var n=Fb(e);return ME.Dt(n.Wt,t)}var KE=function(){function e(t,n,r,i){du(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return vu(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Wx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=mu(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Hx(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=mu(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Hx(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(rw.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),k_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ew(this.mutations,e.mutations,(function(e,t){return Gx(e,t)}))&&ew(this.baseMutations,e.baseMutations,(function(e,t){return Gx(e,t)}))}}]),e}(),GE=function(){function e(t,n,r,i){du(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return vu(e,null,[{key:"from",value:function(t,n,r){jb(t.mutations.length===r.length);for(var i=y_(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),QE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hw.EMPTY_BYTE_STRING;du(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return vu(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),$E=vu((function e(t){du(this,e),this.Gt=t}));function YE(e,t){if(t.document)return G_(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_w.fromSegments(t.noDocument.path),r=tS(t.noDocument.readTime),i=Vw.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=_w.fromSegments(t.unknownDocument.path),o=tS(t.unknownDocument.version);return Vw.newUnknownDocument(a,o)}return Mb()}function JE(e,t,n){var r=XE(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:V_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:D_(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new xE(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=eS(t.version),c=t.hasCommittedMutations;return new xE(null,new bE(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=eS(t.version);return new xE(new wE(l,f),null,null,!0,r,i)}return Mb()}function XE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ZE(e){var t=new nw(e[0],e[1]);return rw.fromTimestamp(t)}function eS(e){var t=e.toTimestamp();return new vE(t.seconds,t.nanoseconds)}function tS(e){var t=new nw(e.seconds,e.nanoseconds);return rw.fromTimestamp(t)}function nS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Y_(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Y_(e.Gt,t)})),u=nw.fromMillis(t.localWriteTimeMs);return new KE(t.batchId,u,n,o)}function rS(e){var t,n,r=tS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?tS(e.lastLimboFreeSnapshotVersion):rw.min();return void 0!==e.query.documents?(jb(1===(n=e.query).documents.length),t=mx(cx(q_(n.documents[0])))):t=function(e){return mx(Z_(e))}(e.query),new QE(t,e.targetId,0,e.lastListenSequenceNumber,r,i,hw.fromBase64String(e.resumeToken))}function iS(e,t){var n,r=eS(t.snapshotVersion),i=eS(t.lastLimboFreeSnapshotVersion);n=Hw(t.target)?J_(e.Gt,t.target):X_(e.Gt,t.target);var a=t.resumeToken.toBase64();return new EE(t.targetId,qw(t.target),r,a,t.sequenceNumber,i,n)}function aS(e){var t=Z_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yx(t,t.limit,"L"):t}var oS=function(){function e(){du(this,e)}return vu(e,[{key:"getBundleMetadata",value:function(e,t){return uS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:tS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return uS(e).put({bundleId:(n=t).id,createTime:eS(j_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return sS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:aS(t.bundledQuery),readTime:tS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return sS(e).put(function(e){return{name:e.name,readTime:eS(j_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function uS(e){return HE(e,AE.store)}function sS(e){return HE(e,NE.store)}var cS=function(){function e(){du(this,e),this.zt=new lS}return vu(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),DE.resolve()}},{key:"getCollectionParents",value:function(e,t){return DE.resolve(this.zt.getEntries(t))}}]),e}(),lS=function(){function e(){du(this,e),this.index={}}return vu(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new l_(sw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new l_(sw.comparator)).toArray()}}]),e}(),fS=function(){function e(){du(this,e),this.Ht=new lS}return vu(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:fE(i)};return hS(e).put(a)}return DE.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[tw(t),""],!1,!0);return hS(e).Bt(r).next((function(e){var r,i=mu(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(pE(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function hS(e){return HE(e,TE.store)}var dS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pS=function(){function e(t,n,r){du(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return vu(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function vS(e,t,n){var r=e.store(gE.store),i=e.store(kE.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){jb(1===u)})));var c,l=[],f=mu(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=kE.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return DE.waitFor(a).next((function(){return l}))}function mS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mb();t=e.noDocument}return JSON.stringify(t).length}pS.DEFAULT_COLLECTION_PERCENTILE=10,pS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pS.DEFAULT=new pS(41943040,pS.DEFAULT_COLLECTION_PERCENTILE,pS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pS.DISABLED=new pS(-1,0,0);var yS=function(){function e(t,n,r,i){du(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return vu(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kS(e).jt({index:gE.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=bS(e),o=kS(e);return o.add({}).next((function(u){jb("number"==typeof u);var s,c=new KE(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return $_(e.Gt,t)})),i=n.mutations.map((function(t){return $_(e.Gt,t)}));return new gE(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new l_((function(e,t){return Zb(e.canonicalString(),t.canonicalString())})),d=mu(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=kE.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,kE.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),DE.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return kS(e).get(t).next((function(e){return e?(jb(e.userId===n.userId),nS(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?DE.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return kS(e).jt({index:gE.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(jb(t.batchId>=r),a=nS(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kS(e).jt({index:gE.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kS(e).Bt(gE.userMutationsIndex,n).next((function(e){return e.map((function(e){return nS(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=kE.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return bS(e).jt({range:i},(function(r,i,o){var u=Ae(r,3),s=u[0],c=u[1],l=u[2],f=pE(c);if(s===n.userId&&t.path.isEqual(f))return kS(e).get(l).next((function(e){if(!e)throw Mb();jb(e.userId===n.userId),a.push(nS(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new l_(Zb),i=[];return t.forEach((function(t){var a=kE.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=bS(e).jt({range:o},(function(e,i,a){var o=Ae(e,3),u=o[0],s=o[1],c=o[2],l=pE(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),DE.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=kE.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new l_(Zb);return bS(e).jt({range:o},(function(e,t,a){var o=Ae(e,3),s=o[0],c=o[1],l=o[2],f=pE(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(kS(e).get(t).next((function(e){if(null===e)throw Mb();jb(e.userId===n.userId),r.push(nS(n.k,e))})))})),DE.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return vS(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),DE.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return DE.resolve();var r=IDBKeyRange.lowerBound(kE.prefixForUser(t.userId)),i=[];return bS(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=pE(e[1]);i.push(a)}else r.done()})).next((function(){jb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return gS(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return wS(e).get(this.userId).next((function(e){return e||new yE(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return jb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function gS(e,t,n){var r=kE.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return bS(e).jt({range:a,Kt:!0},(function(e,n,r){var a=Ae(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function kS(e){return HE(e,gE.store)}function bS(e){return HE(e,kE.store)}function wS(e){return HE(e,yE.store)}var xS=function(){function e(t){du(this,e),this.se=t}return vu(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),_S=function(){function e(t,n){du(this,e),this.referenceDelegate=t,this.k=n}return vu(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new xS(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return rw.fromTimestamp(new nw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ES(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return jb(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ES(e).jt((function(o,u){var s=rS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return DE.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ES(e).jt((function(e,n){var r=rS(n);t(r)}))}},{key:"oe",value:function(e){return SS(e).get(IE.key).next((function(e){return jb(null!==e),e}))}},{key:"ae",value:function(e,t){return SS(e).put(IE.key,t)}},{key:"ce",value:function(e,t){return ES(e).put(iS(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=qw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ES(e).jt({range:r,index:EE.queryTargetsIndexName},(function(e,n,r){var a=rS(n);Ww(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=IS(e);return t.forEach((function(t){var o=fE(t.path);i.push(a.put(new SE(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),DE.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=IS(e);return DE.forEach(t,(function(t){var a=fE(t.path);return DE.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=IS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=IS(e),i=k_();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=pE(e[1]),a=new _w(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=fE(t.path),r=IDBKeyRange.bound([n],[tw(n)],!1,!0),i=0;return IS(e).jt({index:SE.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=Ae(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return ES(e).get(t).next((function(e){return e?rS(e):null}))}}]),e}();function ES(e){return HE(e,EE.store)}function SS(e){return HE(e,IE.store)}function IS(e){return HE(e,SE.store)}function TS(e){return CS.apply(this,arguments)}function CS(){return CS=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ub.FAILED_PRECONDITION&&t.message===PE){e.next=2;break}throw t;case 2:Pb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function AS(e,t){var n=Ae(e,2),r=n[0],i=n[1],a=Ae(t,2),o=a[0],u=a[1],s=Zb(r,o);return 0===s?Zb(i,u):s}var NS=function(){function e(t){du(this,e),this.he=t,this.buffer=new l_(AS),this.le=0}return vu(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();AS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),RS=function(){function e(t,n){du(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return vu(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Pb("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ts(rs().mark((function n(){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!UE(n.t0)){n.next=12;break}Pb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,TS(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),PS=function(){function e(t,n){du(this,e),this.ge=t,this.params=n}return vu(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return DE.resolve(Yb.I);var r=new NS(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pb("LruGarbageCollector","Garbage collection skipped; disabled"),DE.resolve(dS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),dS):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Pb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Rb()<=cs.DEBUG&&Pb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),DE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),OS=function(){function e(t,n){du(this,e),this.db=t,this.garbageCollector=function(e,t){return new PS(e,t)}(this,n)}return vu(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return DS(e,n)}},{key:"removeReference",value:function(e,t,n){return DS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return DS(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return wS(e).Qt((function(r){return gS(e,r,t).next((function(e){return e&&(n=!0),DE.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),IS(e).delete([0,fE(o.path)])}))}));i.push(s)}})).next((function(){return DE.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return DS(e,t)}},{key:"Ie",value:function(e,t){var n,r=IS(e),i=Yb.I;return r.jt({index:SE.documentTargetsIndex},(function(e,r){var a=Ae(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Yb.I&&t(new _w(pE(n)),i),i=s,n=u):i=Yb.I})).next((function(){i!==Yb.I&&t(new _w(pE(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function DS(e,t){return IS(e).put(function(e,t){return new SE(0,fE(e.path),t)}(t,e.currentSequenceNumber))}var LS=function(){function e(t,n){du(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return vu(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=mu(n);try{for(i.s();!(r=i.n()).done;){var a=Ae(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){aw(this.inner,(function(t,n){var r,i=mu(n);try{for(i.s();!(r=i.n()).done;){var a=Ae(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ow(this.inner)}}]),e}(),MS=function(){function e(){du(this,e),this.changes=new LS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return vu(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:rw.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Vw.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?DE.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),jS=function(){function e(t,n){du(this,e),this.k=t,this.Jt=n}return vu(e,[{key:"addEntry",value:function(e,t,n){return VS(e).put(zS(t),n)}},{key:"removeEntry",value:function(e,t){var n=VS(e),r=zS(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return VS(e).get(zS(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return VS(e).get(zS(t)).next((function(e){return{document:n.Pe(t,e),size:mS(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=d_();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=d_(),i=new u_(_w.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,mS(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return DE.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return VS(e).jt({range:r},(function(e,t,r){for(var o=_w.fromSegments(e);a&&_w.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=d_(),a=t.path.length+1,o={};if(n.isEqual(rw.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=XE(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=xE.collectionReadTimeIndex}return VS(e).jt(o,(function(e,n,o){if(e.length===a){var u=YE(r.k,n);t.path.isPrefixOf(u.key.path)?wx(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new FS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return US(e).get(_E.key).next((function(e){return jb(!!e),e}))}},{key:"Re",value:function(e,t){return US(e).put(_E.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=YE(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(rw.min()))return n}return Vw.newInvalidDocument(e)}}]),e}(),FS=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new LS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return vu(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new l_((function(e,t){return Zb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=JE(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=mS(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=JE(t.De.k,Vw.newNoDocument(a,rw.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),DE.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(MS);function US(e){return HE(e,_E.store)}function VS(e){return HE(e,xE.store)}function zS(e){return e.path.toArray()}var BS=function(){function e(t){du(this,e),this.k=t}return vu(e,[{key:"Nt",value:function(e,t,n,r){var i=this;jb(n<r&&n>=0&&r<=11);var a=new LE("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(mE.store)}(e),function(e){e.createObjectStore(yE.store,{keyPath:yE.keyPath}),e.createObjectStore(gE.store,{keyPath:gE.keyPath,autoIncrement:!0}).createIndex(gE.userMutationsIndex,gE.userMutationsKeyPath,{unique:!0}),e.createObjectStore(kE.store)}(e),qS(e),function(e){e.createObjectStore(xE.store)}(e));var o=DE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(SE.store),e.deleteObjectStore(EE.store),e.deleteObjectStore(IE.store)}(e),qS(e)),o=o.next((function(){return function(e){var t=e.store(IE.store),n=new IE(0,0,rw.min().toTimestamp(),0);return t.put(IE.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(gE.store).Bt().next((function(n){e.deleteObjectStore(gE.store),e.createObjectStore(gE.store,{keyPath:gE.keyPath,autoIncrement:!0}).createIndex(gE.userMutationsIndex,gE.userMutationsKeyPath,{unique:!0});var r=t.store(gE.store),i=n.map((function(e){return r.put(e)}));return DE.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(CE.store,{keyPath:CE.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(_E.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(xE.store);t.createIndex(xE.readTimeIndex,xE.readTimeIndexPath,{unique:!1}),t.createIndex(xE.collectionReadTimeIndex,xE.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(AE.store,{keyPath:AE.keyPath})}(e),function(e){e.createObjectStore(NE.store,{keyPath:NE.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(xE.store).jt((function(e,n){t+=mS(n)})).next((function(){var n=new _E(t);return e.store(_E.store).put(_E.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(yE.store),r=e.store(gE.store);return n.Bt().next((function(n){return DE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(gE.userMutationsIndex,i).next((function(r){return DE.forEach(r,(function(r){jb(r.userId===n.userId);var i=nS(t.k,r);return vS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(SE.store),n=e.store(xE.store);return e.store(IE.store).get(IE.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new sw(n),o=function(e){return[0,fE(e)]}(a);r.push(t.get(o).next((function(n){return n?DE.resolve():function(n){return t.put(new SE(0,fE(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return DE.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(TE.store,{keyPath:TE.keyPath});var n=t.store(TE.store),r=new lS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:fE(i)})}};return t.store(xE.store).jt({Kt:!0},(function(e,t){var n=new sw(e);return i(n.popLast())})).next((function(){return t.store(kE.store).jt({Kt:!0},(function(e,t){var n=Ae(e,3),r=(n[0],n[1]),a=(n[2],pE(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(EE.store);return n.jt((function(e,r){var i=rS(r),a=iS(t.k,i);return n.put(a)}))}}]),e}();function qS(e){e.createObjectStore(SE.store,{keyPath:SE.keyPath}).createIndex(SE.documentTargetsIndex,SE.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(EE.store,{keyPath:EE.keyPath}).createIndex(EE.queryTargetsIndexName,EE.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(IE.store)}var WS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HS=function(){function e(t,n,r,i,a,o,u,s,c,l){if(du(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=u,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Vb(Ub.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OS(this,i),this.Ge=n+"main",this.k=new $E(s),this.ze=new ME(this.Ge,11,new BS(this.k)),this.He=new _S(this.referenceDelegate,this.k),this.Jt=new fS,this.Je=function(e,t){return new jS(e,t)}(this.k,this.Jt),this.Ye=new oS,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Ob("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return vu(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Vb(Ub.FAILED_PRECONDITION,WS);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Yb(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=ts(rs().mark((function n(r){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=ts(rs().mark((function t(n){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return GS(t).put(new CE(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(UE(t))return Pb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Pb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return KS(e).get(mE.key).next((function(e){return DE.resolve(t.un(e))}))}},{key:"hn",value:function(e){return GS(e).delete(this.clientId)}},{key:"ln",value:function(){var e=ts(rs().mark((function e(){var t,n,r,i,a=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=HE(e,CE.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return DE.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=mu(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?DE.resolve(!0):KS(e).get(mE.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Vb(Ub.FAILED_PRECONDITION,WS);return!1}}return!(!t.networkEnabled||!t.inForeground)||GS(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Pb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ts(rs().mark((function e(){var t=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[mE.store,CE.store],(function(e){var n=new WE(e,Yb.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return GS(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return yS.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Pb("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,RE,(function(a){return i=new WE(a,r.Be?r.Be.next():Yb.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Ob("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Vb(Ub.FAILED_PRECONDITION,PE);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return KS(e).get(mE.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Vb(Ub.FAILED_PRECONDITION,WS)}))}},{key:"cn",value:function(e){var t=new mE(this.clientId,this.allowTabSynchronization,Date.now());return KS(e).put(mE.key,t)}},{key:"an",value:function(e){var t=this,n=KS(e);return n.get(mE.key).next((function(e){return t.un(e)?(Pb("IndexedDbPersistence","Releasing primary lease."),n.delete(mE.key)):DE.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ob("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!Lu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Pb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ob("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Cm){Ob("Failed to set zombie client id.",Cm)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Cm){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return ME.bt()}}]),e}();function KS(e){return HE(e,mE.store)}function GS(e){return HE(e,CE.store)}function QS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $S=vu((function e(t,n){du(this,e),this.progress=t,this.In=n})),YS=function(){function e(t,n,r){du(this,e),this.Je=t,this.An=n,this.Jt=r}return vu(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=mu(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=mu(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):px(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new _w(t)).next((function(e){var t=v_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=v_();return this.Jt.getCollectionParents(e,i).next((function(o){return DE.forEach(o,(function(o){var u=function(e,t){return new ux(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=mu(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=mu(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=Vw.newInvalidDocument(c),r=r.insert(c,l)),Hx(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){wx(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=k_(),a=mu(t);try{for(a.s();!(r=a.n()).done;){var o,u=mu(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof Yx&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),JS=function(){function e(t,n,r,i){du(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return vu(e,null,[{key:"$n",value:function(t,n){var r,i=k_(),a=k_(),o=mu(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),XS=function(){function e(){du(this,e)}return vu(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(rw.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(lx(t)||fx(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Rb()<=cs.DEBUG&&Pb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bx(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new l_(xx(e));return t.forEach((function(t,r){wx(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Rb()<=cs.DEBUG&&Pb("QueryEngine","Using full collection scan to execute query:",bx(t)),this.On.getDocumentsMatchingQuery(e,t,rw.min())}}]),e}(),ZS=function(){function e(t,n,r,i){du(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new u_(Zb),this.Kn=new LS((function(e){return qw(e)}),Ww),this.jn=rw.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new YS(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return vu(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function eI(e,t,n,r){return new ZS(e,t,n,r)}function tI(e,t){return nI.apply(this,arguments)}function nI(){return nI=ts(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fb(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new YS(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=k_(),s=mu(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=mu(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=mu(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=mu(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),nI.apply(this,arguments)}function rI(e,t){var n=Fb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=DE.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);jb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function iI(e){var t=Fb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function aI(e,t){var n=Fb(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return jb(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=d_();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(oI(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(rw.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return DE.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function oI(e,t,n,r,i){var a=k_();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=d_();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(rw.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Pb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function uI(e,t){var n=Fb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function sI(e,t){var n=Fb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,DE.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new QE(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function cI(e,t,n){return lI.apply(this,arguments)}function lI(){return lI=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fb(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),UE(e.t1)){e.next=12;break}throw e.t1;case 12:Pb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),lI.apply(this,arguments)}function fI(e,t,n){var r=Fb(e),i=rw.min(),a=k_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fb(e),i=r.Kn.get(n);return void 0!==i?DE.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,mx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:rw.min(),n?a:k_())})).next((function(e){return{documents:e,zn:a}}))}))}function hI(e,t){var n=Fb(e),r=Fb(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function dI(e){var t=Fb(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Fb(e),i=d_(),a=XE(n),o=VS(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:xE.readTimeIndex,range:u},(function(e,t){var n=YE(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:ZE(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function pI(e){return vI.apply(this,arguments)}function vI(){return vI=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fb(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=VS(e),n=rw.min();return t.jt({index:xE.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=ZE(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e,t,n,r){return yI.apply(this,arguments)}function yI(){return yI=ts(rs().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fb(t),o=k_(),u=d_(),s=y_(),c=mu(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,sI(a,function(e){return mx(cx(sw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return oI(e,d,u,rw.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t){return kI.apply(this,arguments)}function kI(){return kI=ts(rs().mark((function e(t,n){var r,i,a,o=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:k_(),e.next=3,sI(t,mx(aS(n.bundledQuery)));case 3:return i=e.sent,a=Fb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=j_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(hw.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}var bI=function(){function e(t){du(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return vu(e,[{key:"getBundleMetadata",value:function(e,t){return DE.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:j_(n.createTime)}),DE.resolve()}},{key:"getNamedQuery",value:function(e,t){return DE.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:aS(e.bundledQuery),readTime:j_(e.readTime)}}(t)),DE.resolve()}}]),e}(),wI=function(){function e(){du(this,e),this.ts=new l_(xI.es),this.ns=new l_(xI.ss)}return vu(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new xI(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new xI(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new _w(new sw([])),r=new xI(n,e),i=new xI(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new _w(new sw([])),n=new xI(t,e),r=new xI(t,e+1),i=k_();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new xI(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),xI=function(){function e(t,n){du(this,e),this.key=t,this.fs=n}return vu(e,null,[{key:"es",value:function(e,t){return _w.comparator(e.key,t.key)||Zb(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Zb(e.fs,t.fs)||_w.comparator(e.key,t.key)}}]),e}(),_I=function(){function e(t,n){du(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new l_(xI.es)}return vu(e,[{key:"checkEmpty",value:function(e){return DE.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new KE(i,t,n,r);this.An.push(a);var o,u=mu(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new xI(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return DE.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return DE.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return DE.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return DE.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return DE.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new xI(t,0),i=new xI(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),DE.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new l_(Zb);return t.forEach((function(e){var t=new xI(e,0),i=new xI(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),DE.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_w.isDocumentKey(i)||(i=i.child(""));var a=new xI(new _w(i),0),o=new l_(Zb);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),DE.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;jb(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return DE.forEach(t.mutations,(function(i){var a=new xI(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new xI(t,0),r=this.ws.firstAfterOrEqual(n);return DE.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,DE.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),EI=function(){function e(t,n){du(this,e),this.Jt=t,this.Ts=n,this.docs=new u_(_w.comparator),this.size=0}return vu(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return DE.resolve(n?n.document.clone():Vw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=d_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Vw.newInvalidDocument(e))})),DE.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=d_(),i=new _w(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||wx(t,c)&&(r=r.insert(c.key,c.clone()))}return DE.resolve(r)}},{key:"Es",value:function(e,t){return DE.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new SI(this)}},{key:"getSize",value:function(e){return DE.resolve(this.size)}}]),e}(),SI=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this)).De=e,r}return vu(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),DE.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(MS),II=function(){function e(t){du(this,e),this.persistence=t,this.Is=new LS((function(e){return qw(e)}),Ww),this.lastRemoteSnapshotVersion=rw.min(),this.highestTargetId=0,this.As=0,this.Rs=new wI,this.targetCount=0,this.Ps=xS.ie()}return vu(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),DE.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return DE.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return DE.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),DE.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),DE.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new xS(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,DE.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),DE.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,DE.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),DE.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return DE.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return DE.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),DE.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),DE.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),DE.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return DE.resolve(n)}},{key:"containsKey",value:function(e,t){return DE.resolve(this.Rs.containsKey(t))}}]),e}(),TI=function(){function e(t,n){var r=this;du(this,e),this.bs={},this.Be=new Yb(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new II(this),this.Jt=new cS,this.Je=function(e,t){return new EI(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new $E(n),this.Ye=new bI(this.k)}return vu(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new _I(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Pb("MemoryPersistence","Starting transaction:",e);var i=new CI(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return DE.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),CI=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return vu(n)}(OE),AI=function(){function e(t){du(this,e),this.persistence=t,this.Cs=new wI,this.Ns=null}return vu(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Mb()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),DE.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),DE.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),DE.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return DE.forEach(this.xs,(function(r){var i=_w.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return DE.or([function(){return DE.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function NI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function RI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function PI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var OI=function(){function e(t,n,r,i){du(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return vu(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Vb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ob("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),DI=function(){function e(t,n,r){du(this,e),this.targetId=t,this.state=n,this.error=r}return vu(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Vb(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ob("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),LI=function(){function e(t,n){du(this,e),this.clientId=t,this.activeTargetIds=n}return vu(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=w_(),o=0;i&&o<r.activeTargetIds.length;++o)i=xw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ob("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),MI=function(){function e(t,n){du(this,e),this.clientId=t,this.onlineState=n}return vu(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ob("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),jI=function(){function e(){du(this,e),this.activeTargetIds=w_()}return vu(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),FI=function(){function e(t,n,r,i,a){du(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new u_(Zb),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=NI(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new jI),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return vu(e,[{key:"start",value:function(){var e=ts(rs().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=mu(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(NI(this.persistenceKey,i)))&&(o=LI.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=mu(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(PI(this.persistenceKey,e));if(n){var r=DI.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(PI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Pb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Pb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Pb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Pb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Ob("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(ts(rs().mark((function e(){var r,i,a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=Yb.I;if(null!=e)try{var n=JSON.parse(e);jb("number"==typeof n),t=n}catch(e){Ob("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Yb.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new OI(this.currentUser,e,t,n),i=RI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=RI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=PI(this.persistenceKey,e),i=new DI(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return LI.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return OI.Fs(new Cb(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return DI.Fs(r,t)}},{key:"Zs",value:function(e){return MI.Fs(e)}},{key:"fi",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Pb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=w_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),UI=function(){function e(){du(this,e),this.pi=new jI,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return vu(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new jI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),VI=function(){function e(){du(this,e)}return vu(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zI=function(){function e(){var t=this;du(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return vu(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Pb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=mu(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Pb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=mu(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),BI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qI=function(){function e(t){du(this,e),this.Vi=t.Vi,this.Si=t.Si}return vu(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),WI=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return vu(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ib;o.listenOnce(wb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case bb.NO_ERROR:var t=o.getResponseJson();Pb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case bb.TIMEOUT:Pb("Connection",'RPC "'+e+'" timed out'),a(new Vb(Ub.DEADLINE_EXCEEDED,"Request time out"));break;case bb.HTTP_ERROR:var n=o.getStatus();if(Pb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ub).indexOf(t)>=0?t:Ub.UNKNOWN}(r.status);a(new Vb(u,r.message))}else a(new Vb(Ub.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Vb(Ub.UNAVAILABLE,"Connection failed."));break;default:Mb()}}finally{Pb("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=gb(),a=kb(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Eb({})),this.qi(o.initMessageHeaders,t,n),Du()||ju()||Ou().indexOf("Electron/")>=0||Fu()||Ou().indexOf("MSAppHost/")>=0||Mu()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Pb("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new qI({Vi:function(e){l?Pb("Connection","Not sending because WebChannel is closed:",e):(c||(Pb("Connection","Opening WebChannel transport."),s.open(),c=!0),Pb("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Sb.EventType.OPEN,(function(){l||Pb("Connection","WebChannel transport opened.")})),h(s,Sb.EventType.CLOSE,(function(){l||(l=!0,Pb("Connection","WebChannel transport closed"),f.Fi())})),h(s,Sb.EventType.ERROR,(function(e){l||(l=!0,Db("Connection","WebChannel transport errored:",e),f.Fi(new Vb(Ub.UNAVAILABLE,"The operation could not be completed")))})),h(s,Sb.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];jb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Pb("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=e_[e];if(void 0!==t)return o_(t)}(a),u=i.message;void 0===o&&(o=Ub.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Vb(o,u)),s.close()}else Pb("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,xb.STAT_EVENT,(function(e){e.stat===_b.PROXY?Pb("Connection","Detected buffering proxy"):e.stat===_b.NOPROXY&&Pb("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){du(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return vu(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Pb("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Pb("RestConnection","Received: ",e),e}),(function(t){throw Db("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ab,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=BI[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function HI(){return"undefined"!=typeof window?window:null}function KI(){return"undefined"!=typeof document?document:null}function GI(e){return new O_(e,!0)}var QI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;du(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return vu(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Pb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),$I=function(){function e(t,n,r,i,a,o,u,s){du(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new QI(t,n)}return vu(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Ub.RESOURCE_EXHAUSTED?(Ob(n.toString()),Ob("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Ub.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Ae(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Vb(Ub.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(ts(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Pb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Pb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),YI=function(e){yu(n,e);var t=xu(n);function n(e,r,i,a,o,u){var s;return du(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return vu(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(jb(void 0===t||"string"==typeof t),hw.fromBase64String(t||"")):(jb(void 0===t||t instanceof Uint8Array),hw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ub.UNKNOWN:o_(e.code);return new Vb(t,e.message||"")}(o);n=new I_(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=z_(e,s.document.name),l=j_(s.document.updateTime),f=new Fw({mapValue:{fields:s.document.fields}}),h=Vw.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new E_(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=z_(e,v.document),y=v.readTime?j_(v.readTime):rw.min(),g=Vw.newNoDocument(m,y),k=v.removedTargetIds||[];n=new E_([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=z_(e,b.document),x=b.removedTargetIds||[];n=new E_([],x,w,null)}else{if(!("filter"in t))return Mb();t.filter;var _=t.filter;_.targetId;var E=_.count||0,S=new i_(E),I=_.targetId;n=new S_(I,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return rw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?rw.min():t.readTime?j_(t.readTime):rw.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=W_(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Hw(r)?{documents:J_(e,r)}:{query:X_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=L_(e,t.resumeToken):t.snapshotVersion.compareTo(rw.min())>0&&(n.readTime=D_(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=W_(this.k),t.removeTarget=e,this.gr(t)}}]),n}($I),JI=function(e){yu(n,e);var t=xu(n);function n(e,r,i,a,o,u){var s;return du(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return vu(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,tc(gu(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(jb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(jb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?j_(e.updateTime):j_(t);return n.isEqual(rw.min())&&(n=j_(t)),new Vx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=j_(e.commitTime);return this.listener.Cr(n,t)}return jb(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=W_(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return $_(t.k,e)}))};this.gr(n)}}]),n}($I),XI=function(e){yu(n,e);var t=xu(n);function n(e,r,i,a){var o;return du(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return vu(n,[{key:"Fr",value:function(){if(this.$r)throw new Vb(Ub.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ae(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ub.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vb(Ub.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ae(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ub.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vb(Ub.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return vu((function e(){du(this,e)}))}()),ZI=function(){function e(t,n){du(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return vu(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Ob(t),this.Lr=!1):Pb("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),eT=vu((function e(t,n,r,i,a){var o=this;du(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=fT(o),!e.t0){e.next=5;break}return Pb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fb(t)).Gr.add(4),e.next=4,rT(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,tT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new ZI(r,i)}));function tT(e){return nT.apply(this,arguments)}function nT(){return nT=ts(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fT(t)){e.next=18;break}n=mu(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),nT.apply(this,arguments)}function rT(e){return iT.apply(this,arguments)}function iT(){return iT=ts(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=mu(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),iT.apply(this,arguments)}function aT(e,t){var n=Fb(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),lT(n)?cT(n):FT(n).lr()&&uT(n,t))}function oT(e,t){var n=Fb(e),r=FT(n);n.Wr.delete(t),r.lr()&&sT(n,t),0===n.Wr.size&&(r.lr()?r._r():fT(n)&&n.Jr.set("Unknown"))}function uT(e,t){e.Yr.X(t.targetId),FT(e).br(t)}function sT(e,t){e.Yr.X(t),FT(e).vr(t)}function cT(e){e.Yr=new C_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),FT(e).start(),e.Jr.Br()}function lT(e){return fT(e)&&!FT(e).hr()&&e.Wr.size>0}function fT(e){return 0===Fb(e).Gr.size}function hT(e){e.Yr=void 0}function dT(e){return pT.apply(this,arguments)}function pT(){return pT=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){uT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),pT.apply(this,arguments)}function vT(e,t){return mT.apply(this,arguments)}function mT(){return mT=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hT(t),lT(t)?(t.Jr.Kr(n),cT(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function yT(e,t,n){return gT.apply(this,arguments)}function gT(){return gT=ts(rs().mark((function e(t,n,r){var i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof I_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ts(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=mu(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Pb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,kT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof E_?t.Yr.ot(n):n instanceof S_?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(rw.min())){e.next=29;break}return e.prev=14,e.next=17,iI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(hw.EMPTY_BYTE_STRING,n.snapshotVersion)),sT(e,t);var r=new QE(n.target,t,1,n.sequenceNumber);uT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Pb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,kT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),gT.apply(this,arguments)}function kT(e,t,n){return bT.apply(this,arguments)}function bT(){return bT=ts(rs().mark((function e(t,n,r){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(UE(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,rT(t);case 5:t.Jr.set("Offline"),r||(r=function(){return iI(t.localStore)}),t.asyncQueue.enqueueRetryable(ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,tT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function wT(e,t){return t().catch((function(n){return kT(e,n,t)}))}function xT(e){return _T.apply(this,arguments)}function _T(){return _T=ts(rs().mark((function e(t){var n,r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fb(t),r=UT(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!ET(n)){e.next=19;break}return e.prev=3,e.next=6,uI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,ST(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,kT(n,e.t0);case 17:e.next=2;break;case 19:IT(n)&&TT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),_T.apply(this,arguments)}function ET(e){return fT(e)&&e.Qr.length<10}function ST(e,t){e.Qr.push(t);var n=UT(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function IT(e){return fT(e)&&!UT(e).hr()&&e.Qr.length>0}function TT(e){UT(e).start()}function CT(e){return AT.apply(this,arguments)}function AT(){return AT=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:UT(t).kr();case 1:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function NT(e){return RT.apply(this,arguments)}function RT(){return RT=ts(rs().mark((function e(t){var n,r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=UT(t),r=mu(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function PT(e,t,n){return OT.apply(this,arguments)}function OT(){return OT=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=GE.from(i,n,r),e.next=3,wT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,xT(t);case 5:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function DT(e,t){return LT.apply(this,arguments)}function LT(){return LT=ts(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&UT(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=ts(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a_(i=n.code)||i===Ub.ABORTED){e.next=7;break}return r=t.Qr.shift(),UT(t).wr(),e.next=5,wT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,xT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:IT(t)&&TT(t);case 5:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e,t){return jT.apply(this,arguments)}function jT(){return jT=ts(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fb(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,tT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,rT(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function FT(e){return e.Xr||(e.Xr=function(e,t,n){var r=Fb(e);return r.Fr(),new YI(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:dT.bind(null,e),Ni:vT.bind(null,e),Pr:yT.bind(null,e)}),e.zr.push(function(){var t=ts(rs().mark((function t(n){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),lT(e)?cT(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:hT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function UT(e){return e.Zr||(e.Zr=function(e,t,n){var r=Fb(e);return r.Fr(),new JI(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:CT.bind(null,e),Ni:DT.bind(null,e),Nr:NT.bind(null,e),Cr:PT.bind(null,e)}),e.zr.push(function(){var t=ts(rs().mark((function t(n){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,xT(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Pb("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var VT=function(){function e(t,n,r,i,a){du(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new zb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return vu(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vb(Ub.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function zT(e,t){if(Ob("AsyncQueue","".concat(t,": ").concat(e)),UE(e))return new Vb(Ub.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var BT=function(){function e(t){du(this,e),this.comparator=t?function(e,n){return t(e,n)||_w.comparator(e.key,n.key)}:function(e,t){return _w.comparator(e.key,t.key)},this.keyedMap=v_(),this.sortedSet=new u_(this.comparator)}return vu(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),qT=function(){function e(){du(this,e),this.eo=new u_(_w.comparator)}return vu(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Mb():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),WT=function(){function e(t,n,r,i,a,o,u,s){du(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return vu(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,BT.emptySet(n),a,r,i,!0,!1)}}]),e}(),HT=vu((function e(){du(this,e),this.so=void 0,this.listeners=[]})),KT=vu((function e(){du(this,e),this.queries=new LS((function(e){return kx(e)}),gx),this.onlineState="Unknown",this.io=new Set}));function GT(e,t){return QT.apply(this,arguments)}function QT(){return QT=ts(rs().mark((function e(t,n){var r,i,a,o,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new HT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=zT(e.t0,"Initialization of query '".concat(bx(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&ZT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),QT.apply(this,arguments)}function $T(e,t){return YT.apply(this,arguments)}function YT(){return YT=ts(rs().mark((function e(t,n){var r,i,a,o,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function JT(e,t){var n,r=Fb(e),i=!1,a=mu(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=mu(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&ZT(r)}function XT(e,t,n){var r=Fb(e),i=r.queries.get(t);if(i){var a,o=mu(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ZT(e){e.io.forEach((function(e){e.next()}))}var eC=function(){function e(t,n,r){du(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return vu(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=mu(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new WT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=WT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),tC=function(){function e(t,n){du(this,e),this.payload=t,this.byteLength=n}return vu(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),nC=function(){function e(t){du(this,e),this.k=t}return vu(e,[{key:"Hn",value:function(e){return z_(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?G_(this.k,e.document,!1):Vw.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return j_(e)}}]),e}(),rC=function(){function e(t,n,r){du(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=iC(t)}return vu(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new nC(this.k),i=mu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=mu(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||k_()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ts(rs().mark((function e(){var t,n,r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mI(this.localStore,new nC(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=mu(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,gI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new $S(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function iC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var aC=vu((function e(t){du(this,e),this.key=t})),oC=vu((function e(t){du(this,e),this.key=t})),uC=function(){function e(t,n){du(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=k_(),this.mutatedKeys=k_(),this.Ao=xx(t),this.Ro=new BT(this.Ao)}return vu(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new qT,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=lx(this.query)&&i.size===this.query.limit?i.last():null,c=fx(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wx(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),lx(this.query)||fx(this.query))for(;o.size>this.query.limit;){var l=lx(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mb()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new WT(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new qT,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=k_(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new oC(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new aC(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=k_();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return WT.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),sC=vu((function e(t,n,r){du(this,e),this.query=t,this.targetId=n,this.view=r})),cC=vu((function e(t){du(this,e),this.key=t,this.$o=!1})),lC=function(){function e(t,n,r,i,a,o){du(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new LS((function(e){return kx(e)}),gx),this.Mo=new Map,this.Lo=new Set,this.Bo=new u_(_w.comparator),this.Uo=new Map,this.qo=new wI,this.Ko={},this.jo=new Map,this.Qo=xS.re(),this.onlineState="Unknown",this.Wo=void 0}return vu(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function fC(e,t){return hC.apply(this,arguments)}function hC(){return hC=ts(rs().mark((function e(t,n){var r,i,a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=iA(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,sI(r.localStore,mx(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,dC(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&aT(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t,n,r){return pC.apply(this,arguments)}function pC(){return pC=ts(rs().mark((function e(t,n,r,i){var a,o,u,s,c,l;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=ts(rs().mark((function e(t,n,r,i){var a,o,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,fI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(DC(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,fI(t.localStore,n,!0);case 3:return a=e.sent,o=new uC(n,a.zn),u=o.bo(a.documents),s=__.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),DC(t,r,c.Co),l=new sC(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e,t){return mC.apply(this,arguments)}function mC(){return mC=ts(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fb(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!gx(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,cI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),oT(r.remoteStore,i.targetId),PC(r,i.targetId)})).catch(TS);case 9:e.next=14;break;case 11:return PC(r,i.targetId),e.next=14,cI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e,t,n){return gC.apply(this,arguments)}function gC(){return gC=ts(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=aA(t),e.prev=1,e.next=4,function(e,t){var n,r=Fb(e),i=nw.now(),a=t.reduce((function(e,t){return e.add(t.key)}),k_());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=mu(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Kx(c,n.get(c.key));null!=l&&u.push(new Yx(c.key,l,Uw(l.value.mapValue),zx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new u_(Zb)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,jC(i,a.changes);case 9:return e.next=11,xT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=zT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),gC.apply(this,arguments)}function kC(e,t){return bC.apply(this,arguments)}function bC(){return bC=ts(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fb(t),e.prev=1,e.next=4,aI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(jb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?jb(n.$o):e.removedDocuments.size>0&&(jb(n.$o),n.$o=!1))})),e.next=8,jC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,TS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),bC.apply(this,arguments)}function wC(e,t,n){var r=Fb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=mu(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ZT(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xC(e,t,n){return _C.apply(this,arguments)}function _C(){return _C=ts(rs().mark((function e(t,n,r){var i,a,o,u,s,c;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new u_(_w.comparator)).insert(o,Vw.newNoDocument(o,rw.min())),s=k_().add(o),c=new x_(rw.min(),new Map,new l_(Zb),u,s),e.next=9,kC(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),MC(i),e.next=16;break;case 14:return e.next=16,cI(i.localStore,n,!1).then((function(){return PC(i,n,r)})).catch(TS);case 16:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function EC(e,t){return SC.apply(this,arguments)}function SC(){return SC=ts(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fb(t),i=n.batch.batchId,e.prev=1,e.next=4,rI(r.localStore,n);case 4:return a=e.sent,RC(r,i,null),NC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,jC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,TS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),SC.apply(this,arguments)}function IC(e,t,n){return TC.apply(this,arguments)}function TC(){return TC=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fb(t),e.prev=1,e.next=4,function(e,t){var n=Fb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return jb(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,RC(i,n,r),NC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,jC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,TS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),TC.apply(this,arguments)}function CC(e,t){return AC.apply(this,arguments)}function AC(){return AC=ts(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fT((r=Fb(t)).remoteStore)||Pb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=zT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),AC.apply(this,arguments)}function NC(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function RC(e,t,n){var r=Fb(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function PC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=mu(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||OC(e,t)}))}function OC(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(oT(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),MC(e))}function DC(e,t,n){var r,i=mu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof aC?(e.qo.addReference(a.key,t),LC(e,a)):a instanceof oC?(Pb("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||OC(e,a.key)):Mb()}}catch(o){i.e(o)}finally{i.f()}}function LC(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Pb("SyncEngine","New document in limbo: "+n),e.Lo.add(r),MC(e))}function MC(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new _w(sw.fromString(t)),r=e.Qo.next();e.Uo.set(r,new cC(n)),e.Bo=e.Bo.insert(n,r),aT(e.remoteStore,new QE(mx(cx(n.path)),r,2,Yb.I))}}function jC(e,t,n){return FC.apply(this,arguments)}function FC(){return FC=ts(rs().mark((function e(t,n,r){var i,a,o,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fb(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=JS.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=ts(rs().mark((function e(t,n){var r,i,a,o,u,s,c,l;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return DE.forEach(n,(function(t){return DE.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return DE.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),UE(e.t0)){e.next=10;break}throw e.t0;case 10:Pb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=mu(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function UC(e,t){return VC.apply(this,arguments)}function VC(){return VC=ts(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fb(t)).currentUser.isEqual(n)){e.next=11;break}return Pb("SyncEngine","User change. New user:",n.toKey()),e.next=5,tI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Vb(Ub.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,jC(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function zC(e,t){var n=Fb(e),r=n.Uo.get(t);if(r&&r.$o)return k_().add(r.key);var i=k_(),a=n.Mo.get(t);if(!a)return i;var o,u=mu(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Oo.get(s);i=i.unionWith(c.view.Po)}}catch(l){u.e(l)}finally{u.f()}return i}function BC(e,t){return qC.apply(this,arguments)}function qC(){return qC=ts(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fb(t),e.next=3,fI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&DC(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),qC.apply(this,arguments)}function WC(e){return HC.apply(this,arguments)}function HC(){return HC=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fb(t),e.abrupt("return",dI(n.localStore).then((function(e){return jC(n,e)})));case 2:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function KC(e,t,n,r){return GC.apply(this,arguments)}function GC(){return GC=ts(rs().mark((function e(t,n,r,i){var a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fb(t),e.next=3,function(e,t){var n=Fb(e),r=Fb(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):DE.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,xT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(RC(a,n,i||null),NC(a,n),function(e,t){Fb(Fb(e).An).ee(t)}(a.localStore,n)):Mb();case 11:return e.next=13,jC(a,o);case 13:e.next=16;break;case 15:Pb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),GC.apply(this,arguments)}function QC(e,t){return $C.apply(this,arguments)}function $C(){return $C=ts(rs().mark((function e(t,n){var r,i,a,o,u,s,c,l;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iA(r=Fb(t)),aA(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,YC(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,MT(r.remoteStore,!0);case 9:o=mu(a);try{for(o.s();!(u=o.n()).done;)s=u.value,aT(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return PC(r,t),cI(r.localStore,t,!0)})),oT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,YC(r,c);case 21:return function(e){var t=Fb(e);t.Uo.forEach((function(e,n){oT(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new u_(_w.comparator)}(r),r.Wo=!1,e.next=25,MT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),$C.apply(this,arguments)}function YC(e,t,n){return JC.apply(this,arguments)}function JC(){return JC=ts(rs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fb(t),a=[],o=[],u=mu(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,sI(i.localStore,mx(f[0]));case 11:l=e.sent,h=mu(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,BC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,hI(i.localStore,c);case 36:return y=e.sent,e.next=39,sI(i.localStore,y);case 39:return l=e.sent,e.next=42,dC(i,XC(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),JC.apply(this,arguments)}function XC(e){return sx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ZC(e){var t=Fb(e);return Fb(Fb(t.localStore).persistence).Tn()}function eA(e,t,n,r){return tA.apply(this,arguments)}function tA(){return tA=ts(rs().mark((function e(t,n,r,i){var a,o,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fb(t)).Wo){e.next=5;break}Pb("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,dI(a.localStore);case 11:return o=e.sent,u=x_.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,jC(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,cI(a.localStore,n,!0);case 18:return PC(a,n,i),e.abrupt("break",21);case 20:Mb();case 21:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(e,t,n){return rA.apply(this,arguments)}function rA(){return rA=ts(rs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=iA(t)).Wo){e.next=45;break}a=mu(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Mo.has(u)){e.next=10;break}return Pb("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,hI(i.localStore,u);case 12:return s=e.sent,e.next=15,sI(i.localStore,s);case 15:return c=e.sent,e.next=18,dC(i,XC(s),c.targetId,!1);case 18:aT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=mu(r),e.prev=30,h=rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,cI(i.localStore,t,!1).then((function(){oT(i.remoteStore,t),PC(i,t)})).catch(TS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),rA.apply(this,arguments)}function iA(e){var t=Fb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xC.bind(null,t),t.Fo.Pr=JT.bind(null,t.eventManager),t.Fo.zo=XT.bind(null,t.eventManager),t}function aA(e){var t=Fb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IC.bind(null,t),t}function oA(e,t,n){var r=Fb(e);(function(){var e=ts(rs().mark((function e(t,n,r){var i,a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fb(e),r=j_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(iC(i)),a=new rC(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,jC(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=Fb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Db("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var uA=function(){function e(){du(this,e),this.synchronizeTabs=!1}return vu(e,[{key:"initialize",value:function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=GI(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return eI(this.persistence,new XS,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new TI(AI.ks,this.k)}},{key:"Jo",value:function(e){return new UI}},{key:"terminate",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),sA=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return vu(n,[{key:"initialize",value:function(){var e=ts(rs().mark((function e(t){var r=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(gu(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,pI(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,aA(this.ta.syncEngine);case 8:return e.next=10,xT(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return eI(this.persistence,new XS,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new RS(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=QS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?pS.withCacheSize(this.cacheSizeBytes):pS.DEFAULT;return new HS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,HI(),KI(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new UI}}]),n}(uA),cA=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return vu(n,[{key:"initialize",value:function(){var e=ts(rs().mark((function e(t){var r,i=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(gu(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof FI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:KC.bind(null,r),gi:eA.bind(null,r),yi:nA.bind(null,r),Tn:ZC.bind(null,r),_i:WC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QC(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=HI();if(!FI.bt(t))throw new Vb(Ub.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=QS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new FI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(sA),lA=function(){function e(){du(this,e)}return vu(e,[{key:"initialize",value:function(){var e=ts(rs().mark((function e(t,n){var r=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return wC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),e.next=12,MT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new KT}},{key:"createDatastore",value:function(e){var t,n=GI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new WI(t));return function(e,t,n,r){return new XI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return wC(o.syncEngine,e,0)},a=zI.bt()?new zI:new VI,new eT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new lC(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fb(t),Pb("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,rT(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function fA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ts(rs().mark((function r(){var i;return rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var hA=function(){function e(t){du(this,e),this.observer=t,this.muted=!1}return vu(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),dA=function(){function e(t,n){var r=this;du(this,e),this.sa=t,this.k=n,this.metadata=new zb,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return vu(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=ts(rs().mark((function e(){var t,n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new tC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=ts(rs().mark((function e(){var t,n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=ts(rs().mark((function e(){var t,n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pA=function(){function e(t){du(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return vu(e,[{key:"lookup",value:function(){var e=ts(rs().mark((function e(t){var n,r=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Vb(Ub.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ts(rs().mark((function e(t,n){var r,i,a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fb(t),i=W_(r.k)+"/documents",a={documents:n.map((function(e){return V_(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Q_(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());jb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new n_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ts(rs().mark((function e(){var t,n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_w.fromPath(t);n.mutations.push(new r_(r,n.precondition(r)))})),e.next=7,function(){var e=ts(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fb(t),i=W_(r.k)+"/documents",a={writes:n.map((function(e){return $_(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mb();t=rw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vb(Ub.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zx.updateTime(t):zx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rw.min()))throw new Vb(Ub.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zx.updateTime(t)}return zx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),vA=function(){function e(t,n,r,i){du(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new QI(this.asyncQueue,"transaction_retry")}return vu(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(ts(rs().mark((function t(){var n,r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new pA(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!bw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!a_(t)}return!1}}]),e}(),mA=function(){function e(t,n,r,i){var a=this;du(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Cb.UNAUTHENTICATED,this.clientId=Xb.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return vu(e,[{key:"getConfiguration",value:function(){var e=ts(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Vb(Ub.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new zb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ts(rs().mark((function n(){var r;return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=zT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function yA(e,t){return gA.apply(this,arguments)}function gA(){return gA=ts(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Pb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,tI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),gA.apply(this,arguments)}function kA(e,t){return bA.apply(this,arguments)}function bA(){return bA=ts(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,wA(t);case 3:return r=e.sent,Pb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=ts(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fb(t)).asyncQueue.verifyOperationInProgress(),Pb("RemoteStore","RemoteStore received new credentials"),i=fT(r),r.Gr.add(3),e.next=6,rT(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,tT(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function wA(e){return xA.apply(this,arguments)}function xA(){return xA=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Pb("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,yA(t,new uA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function _A(e){return EA.apply(this,arguments)}function EA(){return EA=ts(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Pb("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,kA(t,new lA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),EA.apply(this,arguments)}function SA(e){return wA(e).then((function(e){return e.persistence}))}function IA(e){return wA(e).then((function(e){return e.localStore}))}function TA(e){return _A(e).then((function(e){return e.remoteStore}))}function CA(e){return _A(e).then((function(e){return e.syncEngine}))}function AA(e){return NA.apply(this,arguments)}function NA(){return NA=ts(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_A(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=fC.bind(null,n.syncEngine),r.onUnlisten=vC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function RA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new zb;return e.asyncQueue.enqueueAndForget(ts(rs().mark((function i(){return rs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hA({next:function(a){t.enqueueAndForget((function(){return $T(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Vb(Ub.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Vb(Ub.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new eC(cx(n.path),a,{includeMetadataChanges:!0,wo:!0});return GT(e,o)},i.next=3,AA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function PA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new zb;return e.asyncQueue.enqueueAndForget(ts(rs().mark((function i(){return rs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hA({next:function(n){t.enqueueAndForget((function(){return $T(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Vb(Ub.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new eC(n,a,{includeMetadataChanges:!0,wo:!0});return GT(e,o)},i.next=3,AA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var OA=vu((function e(t,n,r,i,a,o,u,s){du(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),DA=function(){function e(t,n){du(this,e),this.projectId=t,this.database=n||"(default)"}return vu(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),LA=new Map;function MA(e,t,n){if(!n)throw new Vb(Ub.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jA(e,t,n,r){if(!0===t&&!0===r)throw new Vb(Ub.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function FA(e){if(!_w.isDocumentKey(e))throw new Vb(Ub.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function UA(e){if(_w.isDocumentKey(e))throw new Vb(Ub.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function VA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Mb()}function zA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vb(Ub.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=VA(e);throw new Vb(Ub.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function BA(e,t){if(t<=0)throw new Vb(Ub.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var qA=function(){function e(t){var n;if(du(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Vb(Ub.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vb(Ub.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return vu(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),WA=function(){function e(t,n,r){du(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qA({}),this._settingsFrozen=!1,t instanceof DA?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vb(Ub.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DA(e.options.projectId)}(t))}return vu(e,[{key:"app",get:function(){if(!this._app)throw new Vb(Ub.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Vb(Ub.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qb;switch(e.type){case"gapi":var t=e.client;return jb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Gb(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Vb(Ub.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=LA.get(e);t&&(Pb("ComponentProvider","Removing Datastore"),LA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function HA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=zA(e,WA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Db("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Cb.MOCK_USER;else{o=Pu(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Vb(Ub.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Cb(s)}e._authCredentials=new Wb(new Bb(o,u))}}var KA=function(){function e(t,n,r){du(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return vu(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new QA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),GA=function(){function e(t,n,r){du(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return vu(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),QA=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this,e,r,cx(i)))._path=i,a.type="collection",a}return vu(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new KA(this.firestore,null,new _w(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(GA);function $A(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zu(e),MA("collection","path",t),e instanceof WA){var a=sw.fromString.apply(sw,[t].concat(r));return UA(a),new QA(e,null,a)}if(!(e instanceof KA||e instanceof QA))throw new Vb(Ub.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sw.fromString.apply(sw,[t].concat(r)));return UA(o),new QA(e.firestore,null,o)}function YA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zu(e),1===arguments.length&&(t=Xb.A()),MA("doc","path",t),e instanceof WA){var a=sw.fromString.apply(sw,[t].concat(r));return FA(a),new KA(e,null,new _w(a))}if(!(e instanceof KA||e instanceof QA))throw new Vb(Ub.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sw.fromString.apply(sw,[t].concat(r)));return FA(o),new KA(e.firestore,e instanceof QA?e.converter:null,new _w(o))}function JA(e,t){return e=Zu(e),t=Zu(t),(e instanceof KA||e instanceof QA)&&(t instanceof KA||t instanceof QA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function XA(e,t){return e=Zu(e),t=Zu(t),e instanceof GA&&t instanceof GA&&e.firestore===t.firestore&&gx(e._query,t._query)&&e.converter===t.converter}var ZA=function(){function e(){var t=this;du(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new QI(this,"async_queue_retry"),this.Ra=function(){var e=KI();e&&Pb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=KI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return vu(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=KI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new zb;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=ts(rs().mark((function e(){var t=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),UE(e.t0)){e.next=12;break}throw e.t0;case 12:Pb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ob("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=VT.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&Mb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=ts(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=mu(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=mu(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function eN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=mu(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var tN=function(){function e(){du(this,e),this._progressObserver={},this._taskCompletionResolver=new zb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return vu(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),nN=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new ZA,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return vu(n,[{key:"_terminate",value:function(){return this._firestoreClient||iN(this),this._firestoreClient.terminate()}}]),n}(WA);function rN(e){return e._firestoreClient||iN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function iN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new OA(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function aN(e,t,n){var r=new zb;return e.asyncQueue.enqueue(ts(rs().mark((function i(){return rs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,yA(e,n);case 3:return i.next=5,kA(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ub.FAILED_PRECONDITION||e.code===Ub.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function oN(e){return function(e){return e.asyncQueue.enqueue(ts(rs().mark((function t(){var n,r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,SA(e);case 2:return n=t.sent,t.next=5,TA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fb(e);return t.Gr.delete(0),tT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(rN(e=zA(e,nN)))}function uN(e){return function(e){return e.asyncQueue.enqueue(ts(rs().mark((function t(){var n,r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,SA(e);case 2:return n=t.sent,t.next=5,TA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fb(t)).Gr.add(0),e.next=4,rT(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(rN(e=zA(e,nN)))}function sN(e,t){var n=rN(e=zA(e,nN)),r=new tN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new dA(e,t)}(function(e,t){if(e instanceof Uint8Array)return fA(e,t);if(e instanceof ArrayBuffer)return fA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,GI(t));e.asyncQueue.enqueueAndForget(ts(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=oA,t.next=3,CA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function cN(e,t){return function(e,t){return e.asyncQueue.enqueue(ts(rs().mark((function n(){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,IA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(rN(e=zA(e,nN)),t).then((function(t){return t?new GA(e,null,t.query):null}))}function lN(e){if(e._initialized||e._terminated)throw new Vb(Ub.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var fN=function(){function e(){du(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lw(n)}return vu(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var hN=function(){function e(t){du(this,e),this._byteString=t}return vu(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(hw.fromBase64String(t))}catch(t){throw new Vb(Ub.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(hw.fromUint8Array(t))}}]),e}(),dN=vu((function e(t){du(this,e),this._methodName=t})),pN=function(){function e(t,n){if(du(this,e),!isFinite(t)||t<-90||t>90)throw new Vb(Ub.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Vb(Ub.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return vu(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Zb(this._lat,e._lat)||Zb(this._long,e._long)}}]),e}(),vN=/^__.*__$/,mN=function(){function e(t,n,r){du(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return vu(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Yx(e,this.data,this.fieldMask,t,this.fieldTransforms):new $x(e,this.data,t,this.fieldTransforms)}}]),e}(),yN=function(){function e(t,n,r){du(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return vu(e,[{key:"toMutation",value:function(e,t){return new Yx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function gN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mb()}}var kN=function(){function e(t,n,r,i,a,o){du(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return vu(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return UN(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(gN(this.xa)&&vN.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),bN=function(){function e(t,n,r){du(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||GI(t)}return vu(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new kN({xa:e,methodName:t,Ka:n,path:lw.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function wN(e){var t=e._freezeSettings(),n=GI(e._databaseId);return new bN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);LN("Data must be an object, but it was:",o,r);var u,s,c=ON(r,o);if(a.merge)u=new fw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=mu(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=MN(t,d,n);if(!o.contains(p))throw new Vb(Ub.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));VN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new fw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new mN(new Fw(c),u,s)}var _N=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(dN);function EN(e,t,n){return new kN({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var SN=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n,[{key:"_toFieldTransform",value:function(e){return new Ux(e.path,new Rx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(dN),IN=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e)).Qa=r,i}return vu(n,[{key:"_toFieldTransform",value:function(e){var t=EN(this,e,!0),n=this.Qa.map((function(e){return PN(e,t)})),r=new Px(n);return new Ux(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(dN),TN=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e)).Qa=r,i}return vu(n,[{key:"_toFieldTransform",value:function(e){var t=EN(this,e,!0),n=this.Qa.map((function(e){return PN(e,t)})),r=new Dx(n);return new Ux(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(dN),CN=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e)).Wa=r,i}return vu(n,[{key:"_toFieldTransform",value:function(e){var t=new Mx(e.k,Ix(e.k,this.Wa));return new Ux(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(dN);function AN(e,t,n,r){var i=e.ja(1,t,n);LN("Data must be an object, but it was:",i,r);var a=[],o=Fw.empty();aw(r,(function(e,r){var u=FN(t,e,n);r=Zu(r);var s=i.La(u);if(r instanceof _N)a.push(u);else{var c=PN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new fw(a);return new yN(o,u,i.fieldTransforms)}function NN(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[MN(t,r,n)],s=[i];if(a.length%2!=0)throw new Vb(Ub.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(MN(t,a[c])),s.push(a[c+1]);for(var l=[],f=Fw.empty(),h=u.length-1;h>=0;--h)if(!VN(l,u[h])){var d=u[h],p=s[h];p=Zu(p);var v=o.La(d);if(p instanceof _N)l.push(d);else{var m=PN(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new fw(l);return new yN(f,y,o.fieldTransforms)}function RN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return PN(n,e.ja(r?4:3,t))}function PN(e,t){if(DN(e=Zu(e)))return LN("Unsupported field value:",t,e),ON(e,t);if(e instanceof dN)return function(e,t){if(!gN(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=mu(e);try{for(a.s();!(n=a.n()).done;){var o=PN(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Zu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ix(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=nw.fromDate(e);return{timestampValue:D_(t.k,n)}}if(e instanceof nw){var r=new nw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:D_(t.k,r)}}if(e instanceof pN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hN)return{bytesValue:L_(t.k,e._byteString)};if(e instanceof KA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:F_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(VA(e)))}(e,t)}function ON(e,t){var n={};return ow(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aw(e,(function(e,r){var i=PN(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function DN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nw||e instanceof pN||e instanceof hN||e instanceof KA||e instanceof dN)}function LN(e,t,n){if(!DN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=VA(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function MN(e,t,n){if((t=Zu(t))instanceof fN)return t._internalPath;if("string"==typeof t)return FN(e,t);throw UN("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var jN=new RegExp("[~\\*/\\[\\]]");function FN(e,t,n){if(t.search(jN)>=0)throw UN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _u(fN,wt(t.split(".")))._internalPath}catch(r){throw UN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function UN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Vb(Ub.INVALID_ARGUMENT,u+e+s)}function VN(e,t){return e.some((function(e){return e.isEqual(t)}))}var zN=function(){function e(t,n,r,i,a){du(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return vu(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new KA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(qN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),BN=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n,[{key:"data",value:function(){return tc(gu(n.prototype),"data",this).call(this)}}]),n}(zN);function qN(e,t){return"string"==typeof t?FN(e,t):t instanceof fN?t._internalPath:t._delegate._internalPath}var WN=function(){function e(t,n){du(this,e),this.hasPendingWrites=t,this.fromCache=n}return vu(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),HN=function(e){yu(n,e);var t=xu(n);function n(e,r,i,a,o,u){var s;return du(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return vu(n,[{key:"exists",value:function(){return tc(gu(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new KN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(qN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(zN),KN=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tc(gu(n.prototype),"data",this).call(this,e)}}]),n}(HN),GN=function(){function e(t,n,r,i){du(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new WN(i.hasPendingWrites,i.fromCache),this.query=r}return vu(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new KN(n._firestore,n._userDataWriter,r.key,r,new WN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vb(Ub.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new KN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new WN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new KN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new WN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:QN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function QN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mb()}}function $N(e,t){return e instanceof HN&&t instanceof HN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof GN&&t instanceof GN&&e._firestore===t._firestore&&XA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function YN(e){if(fx(e)&&0===e.explicitOrderBy.length)throw new Vb(Ub.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var JN=vu((function e(){du(this,e)}));function XN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var ZN=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return vu(n,[{key:"_apply",value:function(e){var t=wN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){lR(o,a);var s,c=[],l=mu(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(cR(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=cR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||lR(o,a),u=RN(n,"where",o,"in"===a||"not-in"===a);var h=Kw.create(i,a,u);return function(e,t){if(t.V()){var n=dx(e);if(null!==n&&!n.isEqual(t.field))throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=hx(e);null!==r&&fR(e,t.field,r)}var i=function(e,t){var n,r=mu(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Vb(Ub.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vb(Ub.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new GA(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(JN);var eR=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return vu(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rx(t,n);return function(e,t){if(null===hx(e)){var n=dx(e);null!==n&&fR(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new GA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ux(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(JN);var tR=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return vu(n,[{key:"_apply",value:function(e){return new GA(e.firestore,e.converter,yx(e._query,this.Ya,this.Xa))}}]),n}(JN);var nR=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return vu(n,[{key:"_apply",value:function(e){var t=sR(e,this.type,this.Za,this.tc);return new GA(e.firestore,e.converter,function(e,t){return new ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(JN);function rR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nR("startAt",t,!0)}function iR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nR("startAfter",t,!1)}var aR=function(e){yu(n,e);var t=xu(n);function n(e,r,i){var a;return du(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return vu(n,[{key:"_apply",value:function(e){var t=sR(e,this.type,this.Za,this.tc);return new GA(e.firestore,e.converter,function(e,t){return new ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(JN);function oR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aR("endBefore",t,!0)}function uR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aR("endAt",t,!1)}function sR(e,t,n,r){if(n[0]=Zu(n[0]),n[0]instanceof zN)return function(e,t,n,r,i){if(!r)throw new Vb(Ub.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=mu(vx(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Rw(t,r.key));else{var c=r.data.field(s.field);if(yw(c))throw new Vb(Ub.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new tx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=wN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Vb(Ub.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!px(e)&&-1!==c.indexOf("/"))throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(sw.fromString(c));if(!_w.isDocumentKey(l))throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _w(l);u.push(Rw(t,f))}else{var h=RN(n,r,c);u.push(h)}}return new tx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function cR(e,t,n){if("string"==typeof(n=Zu(n))){if(""===n)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!px(t)&&-1!==n.indexOf("/"))throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(sw.fromString(n));if(!_w.isDocumentKey(r))throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rw(e,new _w(r))}if(n instanceof KA)return Rw(e,n._key);throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(VA(n),"."))}function lR(e,t){if(!Array.isArray(e)||0===e.length)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function fR(e,t,n){if(!n.isEqual(t))throw new Vb(Ub.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var hR=function(){function e(){du(this,e)}return vu(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ew(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return aw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new pN(vw(e.latitude),vw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=gw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kw(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=pw(e);return new nw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=sw.fromString(e);jb(lE(n));var r=new DA(n.get(1),n.get(3)),i=new _w(n.popFirst(5));return r.isEqual(t)||Ob("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function dR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var pR=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this)).firestore=e,r}return vu(n,[{key:"convertBytes",value:function(e){return new hN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new KA(this.firestore,null,t)}}]),n}(hR),vR=function(){function e(t,n){du(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wN(t)}return vu(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=mR(e,this._firestore),i=dR(r.converter,t,n),a=xN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,zx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=mR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Zu(t))||t instanceof fN?NN(this._dataReader,"WriteBatch.update",i._key,t,n,o):AN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,zx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=mR(e,this._firestore);return this._mutations=this._mutations.concat(new n_(t._key,zx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Vb(Ub.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function mR(e,t){if((e=Zu(e)).firestore!==t)throw new Vb(Ub.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var yR=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this)).firestore=e,r}return vu(n,[{key:"convertBytes",value:function(e){return new hN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new KA(this.firestore,null,t)}}]),n}(hR);function gR(e){e=zA(e,KA);var t=zA(e.firestore,nN),n=rN(t),r=new yR(t);return function(e,t){var n=new zb;return e.asyncQueue.enqueueAndForget(ts(rs().mark((function r(){return rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ts(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Vb(Ub.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=zT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,IA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new HN(t,r,e._key,n,new WN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kR(e){e=zA(e,GA);var t=zA(e.firestore,nN),n=rN(t),r=new yR(t);return function(e,t){var n=new zb;return e.asyncQueue.enqueueAndForget(ts(rs().mark((function r(){return rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ts(rs().mark((function e(t,n,r){var i,a,o,u,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fI(t,n,!0);case 3:i=e.sent,a=new uC(n,i.zn),o=a.bo(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=zT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,IA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new GN(t,r,e,n)}))}function bR(e,t,n){e=zA(e,KA);var r=zA(e.firestore,nN),i=dR(e.converter,t,n);return ER(r,[xN(wN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zx.none())])}function wR(e,t,n){e=zA(e,KA);for(var r=zA(e.firestore,nN),i=wN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return ER(r,[("string"==typeof(t=Zu(t))||t instanceof fN?NN(i,"updateDoc",e._key,t,n,o):AN(i,"updateDoc",e._key,t)).toMutation(e._key,zx.exists(!0))])}function xR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Zu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||eN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(eN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof KA)l=zA(e.firestore,nN),f=cx(e._key.path),c={next:function(t){n[s]&&n[s](SR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=zA(e,GA);l=zA(p.firestore,nN),f=p._query;var v=new yR(l);c={next:function(e){n[s]&&n[s](new GN(l,v,p,e))},error:n[s+1],complete:n[s+2]},YN(e._query)}return function(e,t,n,r){var i=new hA(r),a=new eC(t,i,n);return e.asyncQueue.enqueueAndForget(ts(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GT,t.next=3,AA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(ts(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$T,t.next=3,AA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rN(l),f,h,c)}function _R(e,t){return function(e,t){var n=new hA(t);return e.asyncQueue.enqueueAndForget(ts(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fb(e).io.add(t),t.next()},t.next=3,AA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(ts(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fb(e).io.delete(t)},t.next=3,AA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rN(e=zA(e,nN)),eN(t)?t:{next:t})}function ER(e,t){return function(e,t){var n=new zb;return e.asyncQueue.enqueueAndForget(ts(rs().mark((function r(){return rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=yC,r.next=3,CA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(rN(e),t)}function SR(e,t,n){var r=n.docs.get(t._key),i=new yR(e);return new HN(e,i,t._key,r,new WN(n.hasPendingWrites,n.fromCache),t.converter)}var IR=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e,r))._firestore=e,i}return vu(n,[{key:"get",value:function(e){var t=this,r=mR(e,this._firestore),i=new yR(this._firestore);return tc(gu(n.prototype),"get",this).call(this,e).then((function(e){return new HN(t._firestore,i,r._key,e._document,new WN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){du(this,e),this._firestore=t,this._transaction=n,this._dataReader=wN(t)}return vu(e,[{key:"get",value:function(e){var t=this,n=mR(e,this._firestore),r=new pR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Mb();var i=e[0];if(i.isFoundDocument())return new zN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zN(t._firestore,r,n._key,null,n.converter);throw Mb()}))}},{key:"set",value:function(e,t,n){var r=mR(e,this._firestore),i=dR(r.converter,t,n),a=xN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=mR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Zu(t))||t instanceof fN?NN(this._dataReader,"Transaction.update",i._key,t,n,o):AN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=mR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function TR(e,t){return function(e,t){var n=new zb;return e.asyncQueue.enqueueAndForget(ts(rs().mark((function r(){var i;return rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return _A(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new vA(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(rN(e=zA(e,nN)),(function(n){return t(new IR(e,n))}))}function CR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IN("arrayUnion",t)}function AR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ab=e}(Fs),As(new is("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new nN(i,new Hb(e.getProvider("auth-internal")),new $b(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ws(Tb,"3.4.1",e),Ws(Tb,"3.4.1","esm2017")}();function NR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Vb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function RR(){if("undefined"===typeof Uint8Array)throw new Vb("unimplemented","Uint8Arrays are not available in this environment.")}function PR(){if("undefined"==typeof atob)throw new Vb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var OR=function(){function e(t){du(this,e),this._delegate=t}return vu(e,[{key:"toBase64",value:function(){return PR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return RR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return PR(),new e(hN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return RR(),new e(hN.fromUint8Array(t))}}]),e}();function DR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=mu(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var LR=function(){function e(){du(this,e)}return vu(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){lN(e=zA(e,nN));var n=rN(e),r=e._freezeSettings(),i=new lA;return aN(n,i,new sA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){lN(e=zA(e,nN));var t=rN(e),n=e._freezeSettings(),r=new lA;return aN(t,r,new cA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Vb(Ub.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new zb;return e._queue.enqueueAndForgetEvenWhileRestricted(ts(rs().mark((function n(){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ts(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ME.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ME.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(QS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),MR=function(){function e(t,n,r){var i=this;du(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof DA||(this._appCompat=t)}return vu(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Db("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};HA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return oN(this._delegate)}},{key:"disableNetwork",value:function(){return uN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&jA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new zb;return e.asyncQueue.enqueueAndForget(ts(rs().mark((function n(){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=CC,n.next=3,CA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(rN(e=zA(e,nN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return _R(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Vb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new YR(this,$A(this._delegate,e))}catch(t){throw BR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new zR(this,YA(this._delegate,e))}catch(t){throw BR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new GR(this,function(e,t){if(e=zA(e,WA),MA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vb(Ub.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new GA(e,null,function(e){return new ux(sw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw BR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return TR(this._delegate,(function(n){return e(new FR(t,n))}))}},{key:"batch",value:function(){var e=this;return rN(this._delegate),new UR(new vR(this._delegate,(function(t){return ER(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return sN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return cN(this._delegate,e).then((function(e){return e?new GR(t,e):null}))}}]),e}(),jR=function(e){yu(n,e);var t=xu(n);function n(e){var r;return du(this,n),(r=t.call(this)).firestore=e,r}return vu(n,[{key:"convertBytes",value:function(e){return new OR(new hN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return zR.forKey(t,this.firestore,null)}}]),n}(hR);var FR=function(){function e(t,n){du(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new jR(t)}return vu(e,[{key:"get",value:function(e){var t=this,n=JR(e);return this._delegate.get(n).then((function(e){return new HR(t._firestore,new HN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=JR(e);return n?(NR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=JR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=JR(e);return this._delegate.delete(t),this}}]),e}(),UR=function(){function e(t){du(this,e),this._delegate=t}return vu(e,[{key:"set",value:function(e,t,n){var r=JR(e);return n?(NR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=JR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=JR(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),VR=function(){function e(t,n,r){du(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return vu(e,[{key:"fromFirestore",value:function(e,t){var n=new KN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new KR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new jR(t),n),i.set(n,a)),a}}]),e}();VR.INSTANCES=new WeakMap;var zR=function(){function e(t,n){du(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jR(t)}return vu(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new YR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new YR(this.firestore,$A(this._delegate,e))}catch(t){throw BR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Zu(e))instanceof KA&&JA(this._delegate,e)}},{key:"set",value:function(e,t){t=NR("DocumentReference.set",t);try{return t?bR(this._delegate,e,t):bR(this._delegate,e)}catch(n){throw BR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?wR(this._delegate,e):wR.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw BR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return ER(zA(e.firestore,nN),[new n_(e._key,zx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qR(n),a=WR(n,(function(t){return new HR(e.firestore,new HN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return xR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?gR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zA(e,KA);var t=zA(e.firestore,nN);return RA(rN(t),e._key,{source:"server"}).then((function(n){return SR(t,e,n)}))}(this._delegate):function(e){e=zA(e,KA);var t=zA(e.firestore,nN);return RA(rN(t),e._key).then((function(n){return SR(t,e,n)}))}(this._delegate),t.then((function(e){return new HR(n.firestore,new HN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(VR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Vb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new KA(n._delegate,r,new _w(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new KA(n._delegate,r,t))}}]),e}();function BR(e,t,n){return e.message=e.message.replace(t,n),e}function qR(e){var t,n=mu(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!DR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function WR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=DR(e[0])?e[0]:DR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var HR=function(){function e(t,n){du(this,e),this._firestore=t,this._delegate=n}return vu(e,[{key:"ref",get:function(){return new zR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return $N(this._delegate,e._delegate)}}]),e}(),KR=function(e){yu(n,e);var t=xu(n);function n(){return du(this,n),t.apply(this,arguments)}return vu(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Mb()}(void 0!==t),t}}]),n}(HR),GR=function(){function e(t,n){du(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jR(t)}return vu(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,XN(this._delegate,function(e,t,n){var r=t,i=qN("where",e);return new ZN(i,r,n)}(t,n,r)))}catch(i){throw BR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,XN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=qN("orderBy",e);return new eR(n,t)}(t,n)))}catch(r){throw BR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,XN(this._delegate,function(e){return BA("limit",e),new tR("limit",e,"F")}(t)))}catch(n){throw BR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,XN(this._delegate,function(e){return BA("limitToLast",e),new tR("limitToLast",e,"L")}(t)))}catch(n){throw BR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,XN(this._delegate,rR.apply(void 0,arguments)))}catch(t){throw BR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,XN(this._delegate,iR.apply(void 0,arguments)))}catch(t){throw BR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,XN(this._delegate,oR.apply(void 0,arguments)))}catch(t){throw BR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,XN(this._delegate,uR.apply(void 0,arguments)))}catch(t){throw BR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return XA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?kR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zA(e,GA);var t=zA(e.firestore,nN),n=rN(t),r=new yR(t);return PA(n,e._query,{source:"server"}).then((function(n){return new GN(t,r,e,n)}))}(this._delegate):function(e){e=zA(e,GA);var t=zA(e.firestore,nN),n=rN(t),r=new yR(t);return YN(e._query),PA(n,e._query).then((function(n){return new GN(t,r,e,n)}))}(this._delegate),t.then((function(e){return new $R(n.firestore,new GN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qR(n),a=WR(n,(function(t){return new $R(e.firestore,new GN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return xR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(VR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),QR=function(){function e(t,n){du(this,e),this._firestore=t,this._delegate=n}return vu(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new KR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),$R=function(){function e(t,n){du(this,e),this._firestore=t,this._delegate=n}return vu(e,[{key:"query",get:function(){return new GR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new KR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new QR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new KR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return $N(this._delegate,e._delegate)}}]),e}(),YR=function(e){yu(n,e);var t=xu(n);function n(e,r){var i;return du(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return vu(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new zR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new zR(this.firestore,void 0===e?YA(this._delegate):YA(this._delegate,e))}catch(t){throw BR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=zA(e.firestore,nN),r=YA(e),i=dR(e.converter,t);return ER(n,[xN(wN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new zR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return JA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(VR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(GR);function JR(e){return zA(e,KA)}var XR=function(){function e(){du(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_u(fN,n)}return vu(e,[{key:"isEqual",value:function(e){return(e=Zu(e))instanceof fN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(lw.keyField().canonicalString())}}]),e}(),ZR=function(){function e(t){du(this,e),this._delegate=t}return vu(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new SN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new _N("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=CR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=AR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new CN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),eP={Firestore:MR,GeoPoint:pN,Timestamp:nw,Blob:OR,Transaction:FR,WriteBatch:UR,DocumentReference:zR,DocumentSnapshot:HR,Query:GR,QueryDocumentSnapshot:KR,QuerySnapshot:$R,CollectionReference:YR,FieldPath:XR,FieldValue:ZR,setLogLevel:function(e){!function(e){Nb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new is("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},eP)))}(e,(function(e,t){return new MR(e,t,new LR)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(Zs);var tP={firebase:{apiKey:"AIzaSyCjecbx-2zHi9rw3FThkhTDxhOJy0C7_pA",authDomain:"walley-337111.firebaseapp.com",projectId:"walley-337111",storageBucket:"walley-337111.appspot.com",messagingSenderId:"418737716158",appId:"1:418737716158:web:018187d6e4caaa526357ef",measurementId:"G-B23J9NXC59"},server:{url:"http://localhost:1337"}},nP=(Zs.initializeApp(tP.firebase),{google:new Zs.auth.GoogleAuthProvider,apple:new Cf("apple.com")}),rP=Zs.auth(),iP=n(4569),aP=n.n(iP),oP="Auth",uP=function(){var e=ts(rs().mark((function e(t,n,r,i){var a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aP()({method:"POST",url:"".concat(tP.server.url,"/users/login"),data:{uid:t,name:n},headers:{Authorization:"Bearer ".concat(r)}});case 3:200===(a=e.sent).status||201===a.status||304===a.status?(Le.info("Successfully authenticated.",oP),i(null,a.data.user)):(Le.warn("Unable to authenticate.",oP),i("Unable to authenticate.",null)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Le.error(e.t0,oP),i("Unable to authenticate.",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),sP=function(){var e=ts(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aP()({method:"GET",url:"".concat(tP.server.url,"/users/validate"),headers:{Authorization:"Bearer ".concat(t)}});case 3:200===(r=e.sent).status||304===r.status?(Le.info("Successfully validated.",oP),n(null,r.data.user)):(Le.warn(r,oP),n("Unable to validate.",null)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Le.error(e.t0,oP),n("Unable to validate.",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),cP=n(863),lP=[{path:"/home",exact:!0,component:function(e){return(0,Ne.jsxs)(Re,{children:[(0,Ne.jsx)("p",{children:"Welcome to this page that is protected by Friebase auth!"}),(0,Ne.jsxs)("p",{children:["Change your password ",(0,Ne.jsx)(ke,{to:"/change",children:"here"}),"."]}),(0,Ne.jsxs)("p",{children:["Click ",(0,Ne.jsx)(ke,{to:"/logout",children:"here"})," to logout."]})]})},name:"Home Page",protected:!0},{path:"/register",exact:!0,component:function(e){var n=Ae((0,t.useState)(!1),2),r=n[0],i=n[1],a=Ae((0,t.useState)(""),2),o=a[0],u=a[1],s=Ae((0,t.useState)(""),2),c=s[0],l=s[1],f=Ae((0,t.useState)(""),2),h=f[0],d=f[1],p=Ae((0,t.useState)(""),2),v=p[0],m=p[1],y=he();return(0,Ne.jsxs)(Re,{children:[(0,Ne.jsx)("div",{children:"Register"}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email Address",onChange:function(e){return u(e.target.value)},value:o})}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return l(e.target.value)},value:c})}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return d(e.target.value)},value:h})}),(0,Ne.jsx)("button",{disabled:r,color:"success",onClick:function(){c===h?(""!==v&&m(""),i(!0),rP.createUserWithEmailAndPassword(o,c).then((function(e){Le.info(e),y.push("/login")})).catch((function(e){Le.error(e),e.code.includes("auth/weak-password")?m("Please enter a stronger password."):e.code.includes("auth/email-already-in-use")?m("Email already in use."):m("Unable to register.  Please try again later."),i(!1)}))):m("Please make sure your passwords match.")},children:"Sign Up"}),(0,Ne.jsx)("small",{children:(0,Ne.jsxs)("p",{className:"m-1 text-center",children:["Already have an account? ",(0,Ne.jsx)(ke,{to:"/login",children:"Login."})]})}),(0,Ne.jsx)(Be,{error:v})]})},name:"Register Page",protected:!1},{path:"/login",exact:!0,component:function(e){var n=Ae((0,t.useState)(!1),2),r=n[0],i=n[1],a=Ae((0,t.useState)(""),2),o=a[0],u=a[1],s=(0,t.useContext)(Ve),c=he(),l=window.location.pathname.includes("login"),f=function(e){""!==o&&u(""),i(!0),function(e){return new Promise((function(t,n){rP.signInWithPopup(e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then(function(){var e=ts(rs().mark((function e(t){var n,r,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Le.info(t),!(n=t.user)){e.next=24;break}if(r=n.uid,!(a=n.displayName)){e.next=20;break}return e.prev=6,e.next=9,n.getIdToken();case 9:o=e.sent,uP(r,a,o,(function(e,t){e?(u(e),i(!1)):t&&(s.userDispatch({type:"login",payload:{user:t,fire_token:o}}),c.push("/home"))})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(6),u("Invalid token."),Le.error(e.t0),i(!1);case 18:e.next=22;break;case 20:u("The identify provider is missing a display name."),i(!1);case 22:e.next=26;break;case 24:u("The social media provider does not have enough information. Please try a different provider."),i(!1);case 26:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Le.error(e),i(!1),u(e.message)}))};return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{children:l?"Login":"Sign Up"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)(Be,{error:o}),(0,Ne.jsxs)("button",{disabled:r,onClick:function(){return f(nP.google)},style:{backgroundColor:"#ea4335",borderColor:"#ea4335"},children:[(0,Ne.jsx)("i",{className:"fab fa-google mr-2"})," Sign ",l?"in":"up"," ","with Google"]}),r]})]})})},name:"Login Page",protected:!1},{path:"/change",exact:!0,component:function(e){var n,r,i=Ae((0,t.useState)(!1),2),a=i[0],o=i[1],u=Ae((0,t.useState)(""),2),s=u[0],c=u[1],l=Ae((0,t.useState)(""),2),f=l[0],h=l[1],d=Ae((0,t.useState)(""),2),p=d[0],v=d[1],m=Ae((0,t.useState)(""),2),y=m[0],g=m[1],k=he();return"password"!==(null===(n=rP.currentUser)||void 0===n||null===(r=n.providerData[0])||void 0===r?void 0:r.providerId)?(0,Ne.jsx)(ee,{to:"/home"}):(0,Ne.jsxs)(Re,{children:[(0,Ne.jsx)("div",{children:"Change Password"}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{autoComplete:"new-password",type:"password",name:"oldPassword",id:"oldPassword",placeholder:"Current Password",onChange:function(e){return h(e.target.value)},value:f})}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return c(e.target.value)},value:s})}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return v(e.target.value)},value:p})}),(0,Ne.jsx)("button",{disabled:a,color:"success",onClick:function(){return function(){var e;s===p?(""!==y&&g(""),o(!0),null===(e=rP.currentUser)||void 0===e||e.updatePassword(s).then((function(){Le.info("Password change successful."),k.push("/home")})).catch((function(e){Le.error(e),o(!1),g(e.message)}))):g("Make sure your passwords are matching")}()},children:"Change Password"}),(0,Ne.jsx)(Be,{error:y})]})},name:"Change Password Page",protected:!0},{path:"/logout",exact:!0,component:function(e){var t=he();return(0,Ne.jsxs)(Re,{children:[(0,Ne.jsx)("div",{children:"Logout"}),(0,Ne.jsx)("p",{className:"text-center",children:"Are you sure you want to logout?"}),(0,Ne.jsxs)("div",{className:"text-center",children:[(0,Ne.jsx)("button",{color:"danger",className:"mr-2",onClick:function(){return t.goBack()},children:"Cancel"}),(0,Ne.jsx)("button",{color:"info",className:"mr-2",onClick:function(){rP.signOut().then((function(){return t.push("/login")})).catch((function(e){return Le.error(e)}))},children:"Logout"})]})]})},name:"Logout Page",protected:!0},{path:"/forget",exact:!0,component:function(e){var n=Ae((0,t.useState)(!1),2),r=n[0],i=n[1],a=Ae((0,t.useState)(!1),2),o=a[0],u=a[1],s=Ae((0,t.useState)(""),2),c=s[0],l=s[1],f=Ae((0,t.useState)(""),2),h=f[0],d=f[1];return(0,Ne.jsxs)(Re,{children:[(0,Ne.jsx)("div",{children:"Send Password Reset"}),o?(0,Ne.jsx)("p",{children:"A link has been sent to your email with instructions."}):(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("p",{children:"Please enter your email."}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email Address",onChange:function(e){return l(e.target.value)},value:c})}),(0,Ne.jsx)("button",{disabled:r,color:"success",onClick:function(){return""!==h&&d(""),i(!0),void rP.sendPasswordResetEmail(c).then((function(){Le.info("Email sent."),u(!0),i(!1)})).catch((function(e){Le.error(e),d(e.message),i(!1)}))},children:"Send Reset Link"}),(0,Ne.jsx)(Be,{error:h})]})]})},name:"Forgot Password Page",protected:!1},{path:"/reset",exact:!0,component:function(e){var n=Ae((0,t.useState)(!0),2),r=n[0],i=n[1],a=Ae((0,t.useState)(!1),2),o=a[0],u=a[1],s=Ae((0,t.useState)(!1),2),c=s[0],l=s[1],f=Ae((0,t.useState)(""),2),h=f[0],d=f[1],p=Ae((0,t.useState)(""),2),v=p[0],m=p[1],y=Ae((0,t.useState)(""),2),g=y[0],k=y[1],b=Ae((0,t.useState)(""),2),w=b[0],x=b[1],_=he();(0,t.useEffect)((function(){Le.info("Extracting code");var t=cP.parse(e.location.search);if(console.log(e.location.search),console.log(t),t){var n=t.oobCode;n?(Le.info("Code found"),E(n)):(Le.error("Unable to find code"),u(!1),i(!1))}else Le.error("Unable to find code"),u(!1),i(!1)}),[]);var E=function(e){rP.verifyPasswordResetCode(e).then((function(t){Le.info(t),k(e),u(!0),i(!1)})).catch((function(e){Le.error(e),u(!1),i(!1)}))};return(0,Ne.jsxs)(Re,{children:[(0,Ne.jsx)("div",{children:"Reset Password"}),r?(0,Ne.jsx)(Ho,{color:"inherit"}):(0,Ne.jsx)(Ne.Fragment,{children:o?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("p",{children:"Please enter a strong password."}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return d(e.target.value)},value:h})}),(0,Ne.jsx)("form",{children:(0,Ne.jsx)("input",{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return m(e.target.value)},value:v})}),(0,Ne.jsx)("button",{disabled:c,color:"success",onClick:function(){h===v?(""!==w&&x(""),l(!0),rP.confirmPasswordReset(g,h).then((function(){_.push("/login")})).catch((function(e){Le.error(e),x(e.message),l(!1)}))):x("Make sure your passwords are matching")},children:"Reset Password"}),(0,Ne.jsx)(Be,{error:w})]}):(0,Ne.jsx)("p",{children:"Invalid link."})})]})},name:"Reset Password Page",protected:!1},{path:"/walley",exact:!0,component:function(){return(0,Ne.jsxs)(Re,{children:[(0,Ne.jsx)(cu,{}),(0,Ne.jsx)(lu,{}),(0,Ne.jsx)(hu,{}),(0,Ne.jsx)(To,{})]})},name:"Landing Page",protected:!1},{path:"/signup",exact:!0,component:function(){return(0,Ne.jsx)(Re,{children:(0,Ne.jsx)("div",{className:"test-para",children:"This is Sign up page"})})},name:"Sign Up Page",protected:!1},{path:"/account",exact:!0,component:function(){return(0,Ne.jsx)(Re,{children:(0,Ne.jsx)("div",{className:"test-para",children:"This is Account Page"})})},name:"Account Page",protected:!1},{path:"/about",exact:!0,component:function(){return(0,Ne.jsx)(Re,{children:(0,Ne.jsx)("div",{className:"test-para",children:"This is About Us Page"})})},name:"About Page",protected:!1}],fP=lP,hP=function(e){var n=Ae((0,t.useReducer)(je,Me),2),r=n[0],i=n[1],a=Ae((0,t.useState)("Checking localstorage ..."),2),o=a[0],u=a[1],s=Ae((0,t.useState)(!0),2),c=s[0],l=s[1];(0,t.useEffect)((function(){setTimeout((function(){f()}),1e3)}),[]);var f=function(){u("Checking credentials ...");var e=localStorage.getItem("fire_token");if(null!==e)return sP(e,(function(t,n){t?(Le.error(t),i({type:"logout",payload:Me}),l(!1)):n&&(u("User Authentificated"),i({type:"login",payload:{user:n,fire_token:e}}),l(!1))}));i({type:"logout",payload:Me}),u("No credentials found"),setTimeout((function(){l(!1)}),500)},h={userState:r,userDispatch:i};return c?{authStage:o}&&(0,Ne.jsx)(Ho,{color:"inherit"}):(0,Ne.jsx)(Ue,{value:h,children:(0,Ne.jsx)(le,{children:fP.map((function(e,t){return(0,Ne.jsx)(ie,{path:e.path,exact:e.exact,render:function(t){return e.protected?(0,Ne.jsx)(ze,{children:(0,Ne.jsx)(e.component,Ee({},t))}):(0,Ne.jsx)(e.component,Ee({},t))}},t)}))})})},dP=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,Ne.jsx)(t.StrictMode,{children:(0,Ne.jsx)(de,{children:(0,Ne.jsx)(hP,{})})}),document.getElementById("root")),dP()}()}();
//# sourceMappingURL=main.273c24b1.js.map