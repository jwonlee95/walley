/*! For license information please see main.ea52c695.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},59:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var a={};if("string"!==typeof e||0===e.length)return a;var o=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,h,d,p=e[c].replace(o,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),t(a,h)?Array.isArray(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a}},297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[i]))})).filter(Boolean).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(59),t.encode=t.stringify=n(297)},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,T=60107,_=60108,I=60114,S=60109,C=60110,N=60112,O=60113,A=60120,P=60115,R=60116,D=60121,M=60128,L=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),T=U("react.fragment"),_=U("react.strict_mode"),I=U("react.profiler"),S=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),O=U("react.suspense"),A=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case I:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function Oe(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Ae(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Re,Fe=!1,je=!1;function Ue(){null===Ce&&null===Ne||(Me(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Ye(e,t,n,r,i,a,o,s,u){We=!1,He=null,qe.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},_t={},It={};function St(e){if(_t[e])return _t[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return _t[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),Ot=St("animationstart"),At=St("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Lt):0!==(s&=a)&&(r=Ft(s),i=Lt)}else 0!==(a=n&~o)?(r=Ft(a),i=Lt):0!==s&&(r=Ft(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Fe||Me();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Mr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),En=un(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=un(Nn),An=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=un(Dn),Ln=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Fn||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ae(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Jn(e){Nr(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Qn(t,$n,e,Ie(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Tr.length;_r++)Rt.set(Tr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Or(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Sr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Le(e,t,n)}finally{je=!1,Ue()}}((function(){var r=a,i=Ie(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case Ot:u=bn;break;case At:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(kr=g,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(o,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(g=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Wn(n))&&(k.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,Ti=null,_i=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Oi=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Fi={},ji=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,zi=!1,Bi=Oi(),qi=1e4>Bi?Oi:function(){return Oi()-Bi};function Wi(){switch(Ai()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Mi:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Mi;case 95:return Li;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),_i(e,t)}function Gi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Pi,Qi),n}finally{zi=!1}}}var $i=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ta(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ta(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===T?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ta(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===T?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ta(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===T&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===T){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===T?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$u(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Ta(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=_a(!0),Sa=_a(!1),Ca={},Na=ci(Ca),Oa=ci(Ca),Aa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Aa,t),fi(Oa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Oa),li(Aa)}function Ma(e){Pa(Aa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Oa,e),fi(Na,n))}function La(e){Oa.current===e&&(li(Na),li(Oa))}var Fa=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Mo,e=n(r,i)}while(ro)}if($a.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Rs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ao.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ao.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function To(e,t){return wo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,_o.bind(null,t,e),n)}function So(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oo(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ao(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Za,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=Oo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:Io,useLayoutEffect:To,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:Io,useLayoutEffect:To,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ia(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return jo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,Yo,$o,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Pa(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Or(Ir[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Or("cancel",e),Or("close",e),a=r;break;case"iframe":case"object":case"embed":Or("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Or(Ir[a],e);a=r;break;case"source":Or("error",e),a=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=r;break;case"details":Or("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Or("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Or("invalid",e);break;default:a=r}Te(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Or("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Aa.current),Pa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Rs||0===(134217727&zs)&&0===(134217727&Bs)||yu(Rs,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Te(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Or("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:_s(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ts(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=qi(),ys(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Os=w.ReactCurrentDispatcher,As=w.ReactCurrentOwner,Ps=0,Rs=null,Ds=null,Ms=0,Ls=0,Fs=ci(0),js=0,Us=null,Vs=0,zs=0,Bs=0,qs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=qi()+500}var Qs,Ys=null,$s=!1,Js=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Rs&&(Bs|=t,4===js&&yu(e,Ms));var r=Wi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Rs?Ms:0),t=Lt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ii(Pi,Yi)):Ui.push(n),n=Fi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=jt(e,e===Rs?Ms:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Iu();for(Rs===e&&Ms===r||(Gs(),Tu(e,r));;)try{Nu();break}catch(u){_u(e,u)}if(na(),Os.current=a,Ps=i,null!==Ds?r=0:(Rs=null,Ms=0,r=js),0!==(Vs&Bs))Tu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Su(e,n))),1===r)throw t=Us,Tu(e,0),yu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Hs+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Mu(),e===Rs&&0!==(e.expiredLanes&Ms)){var t=Ms,n=Su(e,t);0!==(Vs&Bs)&&(n=Su(e,t=jt(e,t)))}else n=Su(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Su(e,t))),1===n)throw n=Us,Tu(e,0),yu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(Fs,Ls),Ls|=t,Vs|=t}function Eu(){Ls=Fs.current,li(Fs)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Eu()}n=n.return}Rs=e,Ds=Ku(e.current,null),Ms=Ls=Vs=t,js=0,Us=null,qs=Bs=zs=0}function _u(e,t){for(;;){var n=Ds;try{if(na(),$a.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,As.current=null,null===n||null===n.return){js=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,fa(s,y)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=zu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(E){t=E,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Iu(){var e=Os.current;return Os.current=Po,null===e?Po:e}function Su(e,t){var n=Ps;Ps|=16;var r=Iu();for(Rs===e&&Ms===t||Tu(e,t);;)try{Cu();break}catch(i){_u(e,i)}if(na(),Ps=n,Os.current=r,null!==Ds)throw Error(o(261));return Rs=null,Ms=0,js}function Cu(){for(;null!==Ds;)Ou(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Ou(Ds)}function Ou(e){var t=Qs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Au(e):Ds=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Pu(e){var t=Wi();return Ki(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Mu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,As.current=null,zr=Yt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===a&&(h=f),g===c&&++v===l&&(d=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ye(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Is(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Is(Ys.alternate,Ys);break;case 4:Is(Ys.alternate,Ys);break;case 8:_s(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Br,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!zr,Br=zr=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var E=Ys.flags;if(36&E&&gs(k,Ys.alternate,Ys),128&E){b=void 0;var T=Ys.ref;if(null!==T){var _=Ys.stateNode;Ys.tag,b=_,"function"===typeof T?T(b):T.current=b}}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,ji(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((E=Ys).sibling=null,E.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(I){}if(mu(e,qi()),$s)throw $s=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Mu(),null}))),Ys=Ys.nextEffect}}function Mu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,ju)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Mu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Mu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ms&n)===n&&(4===js||3===js&&(62914560&Ms)===Ms&&500>qi()-Hs?Tu(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new qu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Qu(n.children,i,a,t);case L:s=8,i|=16;break;case _:s=8,i|=1;break;case I:return(e=Wu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case O:return(e=Wu(13,n,t,i)).type=O,e.elementType=O,e.lanes=a,e;case A:return(e=Wu(19,n,t,i)).elementType=A,e.lanes=a,e;case F:return Yu(n,i,a,t);case j:return(e=Wu(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=F,e.lanes=n,e}function $u(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Ma(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return Ma(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Me=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Mu())},Le=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Ae,Pe,Mu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),Ti=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(e[u]!==o[u])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],o[c[u]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var p=e[o],v=n[2],m=n[3],g=n[4],y=n[5],k=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,E="?"===k||"*"===k,T=n[2]||l,_=g||y;r.push({name:m||a++,prefix:v||"",delimiter:T,optional:E,repeat:x,partial:w,asterisk:!!b,pattern:_?c(_):b?".*":"[^"+u(T)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=y.prototype=new g;k.constructor=y,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+I(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+I(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function A(){var e=O.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=y.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(T.prototype),u(T.prototype,o,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new T(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>_(o,n))void 0!==u&&0>_(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>_(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],S=[],C=1,N=null,O=3,A=!1,P=!1,R=!1;function D(e){for(var t=E(S);null!==t;){if(null===t.callback)T(S);else{if(!(t.startTime<=e))break;T(S),t.sortIndex=t.expirationTime,x(I,t)}t=E(S)}}function M(e){if(R=!1,D(e),!P)if(null!==E(I))P=!0,n(L);else{var t=E(S);null!==t&&r(M,t.startTime-e)}}function L(e,n){P=!1,R&&(R=!1,i()),A=!0;var a=O;try{for(D(n),N=E(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,O=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===E(I)&&T(I),D(n)}else T(I);N=E(I)}if(null!==N)var u=!0;else{var c=E(S);null!==c&&r(M,c.startTime-n),u=!1}return u}finally{N=null,O=a,A=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(S,e),null===E(I)&&e===E(S)&&(R?i():R=!0,r(M,o-s))):(e.sortIndex=u,x(I,e),P||A||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".6e463f98.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="walley:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/walley/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[o[c]]=0},r=self.webpackChunkwalley=self.webpackChunkwalley||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return jc},SDK_VERSION:function(){return Ml},_DEFAULT_ENTRY_NAME:function(){return bl},_addComponent:function(){return Tl},_addOrOverwriteComponent:function(){return _l},_apps:function(){return xl},_clearComponents:function(){return Nl},_components:function(){return El},_getProvider:function(){return Sl},_registerComponent:function(){return Il},_removeServiceInstance:function(){return Cl},deleteApp:function(){return Ul},getApp:function(){return Fl},getApps:function(){return jl},initializeApp:function(){return Ll},onLog:function(){return Bl},registerVersion:function(){return zl},setLogLevel:function(){return ql}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&s(e),o=t&&s(t),c=a||o;if(e&&s(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?u(i,h):".."===d?(u(i,h),f++):f&&(u(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&s(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var f=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=l(t),i=l(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function g(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function y(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var E="popstate",T="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&(e={}),w||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?x:u,l=i.keyLength,f=void 0===l?6:l,h=e.basename?g(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=m(a,h)),k(a,r,n)}function I(){return Math.random().toString(36).substr(2,f)}var S=b();function C(e){o(V,e),V.length=t.length,S.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(v(e.state))}function O(){P(v(_()))}var A=!1;function P(e){if(A)A=!1,C();else{S.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,L(i))}(e)}))}}var R=v(_()),D=[R.key];function M(e){return h+y(e)}function L(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(E,N),r&&window.addEventListener(T,O)):0===F&&(window.removeEventListener(E,N),r&&window.removeEventListener(T,O))}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:M,push:function(e,r){var i="PUSH",a=k(e,r,I(),V.location);S.confirmTransitionTo(a,i,c,(function(e){if(e){var r=M(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,I(),V.location);S.confirmTransitionTo(a,i,c,(function(e){if(e){var r=M(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=S.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var S="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function N(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(N(window.location.href)+"#"+e)}function P(e){void 0===e&&{},w||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?g(p(e.basename)):"",c=C[s],l=c.encodePath,f=c.decodePath;function h(){var e=f(O());return u&&m(e,u),k(e)}var v=b();function E(e){o(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var T=!1,_=null;function I(){var e,t,n=O(),r=l(n);if(n!==r)A(r);else{var a=h(),o=V.location;if(!T&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(_===y(a))return;null,function(e){if(T)!1,E();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?E({action:t,location:e}):function(e){var t=V.location,n=M.lastIndexOf(y(t));-1===n&&0;var r=M.lastIndexOf(y(e));-1===r&&0;var i=n-r;i&&(!0,L(i))}(e)}))}}(a)}}var P=O(),R=l(P);P!==R&&A(R);var D=h(),M=[y(D)];function L(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(S,I):0===F&&window.removeEventListener(S,I)}var U=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&N(window.location.href),n+"#"+l(u+y(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=y(r),i=l(u+t);if(O()!==i){t,function(e){window.location.hash=e}(i);var a=M.lastIndexOf(y(V.location)),o=M.slice(0,a+1);o.push(t),o,E({action:n,location:r})}else E()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=y(r),i=l(u+t);O()!==i&&(t,A(i));var a=M.indexOf(y(V.location));-1!==a&&(M[a]=t),E({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return U||(j(1),!0),function(){return U&&(!1,j(-1)),t()}},listen:function(e){var t=v.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function R(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=b();function f(e){o(g,e),g.length=g.entries.length,l.notifyListeners(g.location,g.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=R(s,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=y;function m(e){var t=R(g.index+e,0,g.entries.length-1),r=g.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var g={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),g.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=g.index+1,n=g.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),g.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(g.entries[g.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=g.index+e;return t>=0&&t<g.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return g}var M=n(7),L=n.n(M),F=1073741823,j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function U(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return j[e]=(j[e]||0)+1}()+"__",s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=U(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):F,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=L().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?F:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?F:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[o]=L().object,i),{Provider:s,Consumer:u}},z=V,B=n(239),q=n.n(B);n(228);function W(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var H=function(e){var t=z();return t.displayName=e,t},K=H("Router-History"),G=function(e){var t=z();return t.displayName=e,t},Q=G("Router"),Y=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(Q.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(K.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var $=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var J={},X=0;function Z(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(J[e])return J[e];var t=q().compile(e);return X<1e4&&(J[e]=t,X++),t}(e)(t,{pretty:!0})}function ee(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(Q.Consumer,null,(function(e){e||d(!1);var i=e.history,s=e.staticContext,u=a?i.push:i.replace,c=k(n?"string"===typeof r?Z(r,n.params):o({},r,{pathname:Z(r.pathname,n.params)}):r);return s?(u(c),null):t.createElement($,{onMount:function(){u(c)},onUpdate:function(e,t){var n,r,i=k(t.to);n=i,r=o({},c,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&f(n.state,r.state)||u(c)},to:r})}))}var te={},ne=0;function re(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=te[n]||(te[n]={});if(r[e])return r[e];var i=[],a={regexp:q()(e,i,t),keys:i};return ne<1e4&&(r[e]=a,ne++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ie=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(Q.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?re(r.pathname,e.props):n.match}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),t.createElement(Q.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?t.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},n}(t.Component);function ae(e){return"/"===e.charAt(0)?e:"/"+e}function oe(e,t){if(!e)return t;var n=ae(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function se(e){return"string"===typeof e?e:y(e)}function ue(e){return function(){d(!1)}}function ce(){}t.Component;var le=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(Q.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var s=e.props.path||e.props.from;i=s?re(a.pathname,o({},e.props,{path:s})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var fe=t.useContext;function he(){return fe(K)}var de=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=I(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(Y,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var pe=function(e,t){return"function"===typeof e?e(t):e},ve=function(e,t){return"string"===typeof e?k(e,null,null,t):e},me=function(e){return e},ge=t.forwardRef;"undefined"===typeof ge&&(ge=me);var ye=ge((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,s=W(e,["innerRef","navigate","onClick"]),u=s.target,c=o({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=me!==ge&&n||r,t.createElement("a",c)}));var ke=ge((function(e,n){var r=e.component,i=void 0===r?ye:r,a=e.replace,s=e.to,u=e.innerRef,c=W(e,["component","replace","to","innerRef"]);return t.createElement(Q.Consumer,null,(function(e){e||d(!1);var r=e.history,l=ve(pe(s,e.location),e.location),f=l?r.createHref(l):"",h=o({},c,{href:f,navigate:function(){var t=pe(s,e.location);(a?r.replace:r.push)(t)}});return me!==ge?h.ref=n||u:h.innerRef=u,t.createElement(i,h)}))})),be=function(e){return e},we=t.forwardRef;"undefined"===typeof we&&(we=be);we((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,s=void 0===a?"active":a,u=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,p=e.sensitive,v=e.strict,m=e.style,g=e.to,y=e.innerRef,k=W(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Q.Consumer,null,(function(e){e||d(!1);var r=h||e.location,a=ve(pe(g,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?re(r.pathname,{path:w,exact:l,sensitive:p,strict:v}):null,E=!!(f?f(x,r):x),T=E?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,s):c,_=E?o({},m,{},u):m,I=o({"aria-current":E&&i||null,className:T,style:_,to:a},k);return be!==we?I.ref=n||y:I.innerRef=y,t.createElement(ke,I)}))}));function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){if(Array.isArray(e))return e}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){if(e){if("string"===typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){return _e(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||Se(e,t)||Ce()}function Oe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ae(e){return function(e){if(Array.isArray(e))return Ie(e)}(e)||Oe(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t,n){return t&&Re(e.prototype,t),n&&Re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function je(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Ve(e,t){if(t&&("object"===Ue(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Me(e)}function ze(e){var t=je();return function(){var n,r=Fe(e);if(t){var i=Fe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ve(this,n)}}var Be=n(694),qe=t.createContext(),We=t.createContext();function He(e){var n=e.children,r=t.useState(null),i=r[0],a=r[1],o=t.useRef(!1);t.useEffect((function(){return function(){o.current=!0}}),[]);var s=t.useCallback((function(e){o.current||a(e)}),[]);return t.createElement(qe.Provider,{value:i},t.createElement(We.Provider,{value:s},n))}var Ke=function(e){return Array.isArray(e)?e[0]:e},Ge=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},Qe=function(e,t){if("function"===typeof e)return Ge(e,t);null!=e&&(e.current=t)},Ye=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},$e="undefined"!==typeof window&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect;function Je(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xe(e){return e instanceof Je(e).Element||e instanceof Element}function Ze(e){return e instanceof Je(e).HTMLElement||e instanceof HTMLElement}function et(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Je(e).ShadowRoot||e instanceof ShadowRoot)}var tt=Math.max,nt=Math.min,rt=Math.round;function it(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Ze(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=rt(n.width)/o||1),a>0&&(i=rt(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function at(e){var t=Je(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ot(e){return e?(e.nodeName||"").toLowerCase():null}function st(e){return((Xe(e)?e.ownerDocument:e.document)||window.document).documentElement}function ut(e){return it(st(e)).left+at(e).scrollLeft}function ct(e){return Je(e).getComputedStyle(e)}function lt(e){var t=ct(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ft(e,t,n){void 0===n&&(n=!1);var r=Ze(t),i=Ze(t)&&function(e){var t=e.getBoundingClientRect(),n=rt(t.width)/e.offsetWidth||1,r=rt(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=st(t),o=it(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==ot(t)||lt(a))&&(s=function(e){return e!==Je(e)&&Ze(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:at(e);var t}(t)),Ze(t)?((u=it(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=ut(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function ht(e){var t=it(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function dt(e){return"html"===ot(e)?e:e.assignedSlot||e.parentNode||(et(e)?e.host:null)||st(e)}function pt(e){return["html","body","#document"].indexOf(ot(e))>=0?e.ownerDocument.body:Ze(e)&&lt(e)?e:pt(dt(e))}function vt(e,t){var n;void 0===t&&(t=[]);var r=pt(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Je(r),o=i?[a].concat(a.visualViewport||[],lt(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(vt(dt(o)))}function mt(e){return["table","td","th"].indexOf(ot(e))>=0}function gt(e){return Ze(e)&&"fixed"!==ct(e).position?e.offsetParent:null}function yt(e){for(var t=Je(e),n=gt(e);n&&mt(n)&&"static"===ct(n).position;)n=gt(n);return n&&("html"===ot(n)||"body"===ot(n)&&"static"===ct(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Ze(e)&&"fixed"===ct(e).position)return null;for(var n=dt(e);Ze(n)&&["html","body"].indexOf(ot(n))<0;){var r=ct(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var kt="top",bt="bottom",wt="right",xt="left",Et="auto",Tt=[kt,bt,wt,xt],_t="start",It="end",St="viewport",Ct="popper",Nt=Tt.reduce((function(e,t){return e.concat([t+"-"+_t,t+"-"+It])}),[]),Ot=[].concat(Tt,[Et]).reduce((function(e,t){return e.concat([t,t+"-"+_t,t+"-"+It])}),[]),At=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Pt(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Rt(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Dt={placement:"bottom",modifiers:[],strategy:"absolute"};function Mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Lt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Dt:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dt,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:Xe(e)?vt(e):e.contextElement?vt(e.contextElement):[],popper:vt(t)};var l=function(e){var t=Pt(e);return At.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Mt(t,n)){i.rects={reference:ft(t,yt(n),"fixed"===i.options.strategy),popper:ht(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:Rt((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!Mt(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Ft={passive:!0};var jt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=Je(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Ft)})),s&&u.addEventListener("resize",n.update,Ft),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Ft)})),s&&u.removeEventListener("resize",n.update,Ft)}},data:{}};function Ut(e){return e.split("-")[0]}function Vt(e){return e.split("-")[1]}function zt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Bt(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Ut(i):null,o=i?Vt(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case kt:t={x:s,y:n.y-r.height};break;case bt:t={x:s,y:n.y+n.height};break;case wt:t={x:n.x+n.width,y:u};break;case xt:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?zt(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case _t:t[c]=t[c]-(n[l]/2-r[l]/2);break;case It:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wt(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:rt(t*r)/r||0,y:rt(n*r)/r||0}}(o):"function"===typeof l?l(o):o,d=h.x,p=void 0===d?0:d,v=h.y,m=void 0===v?0:v,g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),k=xt,b=kt,w=window;if(c){var x=yt(n),E="clientHeight",T="clientWidth";if(x===Je(n)&&"static"!==ct(x=st(n)).position&&"absolute"===s&&(E="scrollHeight",T="scrollWidth"),x=x,i===kt||(i===xt||i===wt)&&a===It)b=bt,m-=(f&&w.visualViewport?w.visualViewport.height:x[E])-r.height,m*=u?1:-1;if(i===xt||(i===kt||i===bt)&&a===It)k=wt,p-=(f&&w.visualViewport?w.visualViewport.width:x[T])-r.width,p*=u?1:-1}var _,I=Object.assign({position:s},c&&qt);return u?Object.assign({},I,((_={})[b]=y?"0":"",_[k]=g?"0":"",_.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",_)):Object.assign({},I,((t={})[b]=y?m+"px":"",t[k]=g?p+"px":"",t.transform="",t))}var Ht={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Ot.reduce((function(e,n){return e[n]=function(e,t,n){var r=Ut(e),i=[xt,kt].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[xt,wt].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},Kt={left:"right",right:"left",bottom:"top",top:"bottom"};function Gt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Kt[e]}))}var Qt={start:"end",end:"start"};function Yt(e){return e.replace(/start|end/g,(function(e){return Qt[e]}))}function $t(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&et(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xt(e,t){return t===St?Jt(function(e){var t=Je(e),n=st(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+ut(e),y:s}}(e)):Xe(t)?function(e){var t=it(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Jt(function(e){var t,n=st(e),r=at(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=tt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=tt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ut(e),u=-r.scrollTop;return"rtl"===ct(i||n).direction&&(s+=tt(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(st(e)))}function Zt(e,t,n){var r="clippingParents"===t?function(e){var t=vt(dt(e)),n=["absolute","fixed"].indexOf(ct(e).position)>=0,r=n&&Ze(e)?yt(e):e;return Xe(r)?t.filter((function(e){return Xe(e)&&$t(e,r)&&"body"!==ot(e)&&(!n||"static"!==ct(e).position)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Xt(e,n);return t.top=tt(r.top,t.top),t.right=nt(r.right,t.right),t.bottom=nt(r.bottom,t.bottom),t.left=tt(r.left,t.left),t}),Xt(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function en(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function tn(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function nn(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,s=n.rootBoundary,u=void 0===s?St:s,c=n.elementContext,l=void 0===c?Ct:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=en("number"!==typeof p?p:tn(p,Tt)),m=l===Ct?"reference":Ct,g=e.rects.popper,y=e.elements[h?m:l],k=Zt(Xe(y)?y:y.contextElement||st(e.elements.popper),o,u),b=it(e.elements.reference),w=Bt({reference:b,element:g,strategy:"absolute",placement:i}),x=Jt(Object.assign({},g,w)),E=l===Ct?x:b,T={top:k.top-E.top+v.top,bottom:E.bottom-k.bottom+v.bottom,left:k.left-E.left+v.left,right:E.right-k.right+v.right},_=e.modifiersData.offset;if(l===Ct&&_){var I=_[i];Object.keys(T).forEach((function(e){var t=[wt,bt].indexOf(e)>=0?1:-1,n=[kt,bt].indexOf(e)>=0?"y":"x";T[e]+=I[n]*t}))}return T}var rn={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=Ut(m),y=u||(g===m||!p?[Gt(m)]:function(e){if(Ut(e)===Et)return[];var t=Gt(e);return[Yt(e),t,Yt(t)]}(m)),k=[m].concat(y).reduce((function(e,n){return e.concat(Ut(n)===Et?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Ot:u,l=Vt(r),f=l?s?Nt:Nt.filter((function(e){return Vt(e)===l})):Tt,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=nn(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Ut(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,E=!0,T=k[0],_=0;_<k.length;_++){var I=k[_],S=Ut(I),C=Vt(I)===_t,N=[kt,bt].indexOf(S)>=0,O=N?"width":"height",A=nn(t,{placement:I,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),P=N?C?wt:xt:C?bt:kt;b[O]>w[O]&&(P=Gt(P));var R=Gt(P),D=[];if(a&&D.push(A[S]<=0),s&&D.push(A[P]<=0,A[R]<=0),D.every((function(e){return e}))){T=I,E=!1;break}x.set(I,D)}if(E)for(var M=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},L=p?3:1;L>0;L--){if("break"===M(L))break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function an(e,t,n){return tt(e,nt(t,n))}var on={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=nn(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),g=Ut(t.placement),y=Vt(t.placement),k=!y,b=zt(g),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,T=t.rects.popper,_="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,I="number"===typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,O="y"===b?kt:xt,A="y"===b?bt:wt,P="y"===b?"height":"width",R=x[b],D=R+m[O],M=R-m[A],L=d?-T[P]/2:0,F=y===_t?E[P]:T[P],j=y===_t?-T[P]:-E[P],U=t.elements.arrow,V=d&&U?ht(U):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=z[O],q=z[A],W=an(0,E[P],V[P]),H=k?E[P]/2-L-W-B-I.mainAxis:F-W-B-I.mainAxis,K=k?-E[P]/2+L+W+q+I.mainAxis:j+W+q+I.mainAxis,G=t.elements.arrow&&yt(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Y=null!=(N=null==S?void 0:S[b])?N:0,$=R+K-Y,J=an(d?nt(D,R+H-Y-Q):D,R,d?tt(M,$):M);x[b]=J,C[b]=J-R}if(s){var X,Z="x"===b?kt:xt,ee="x"===b?bt:wt,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[kt,xt].indexOf(g),oe=null!=(X=null==S?void 0:S[w])?X:0,se=ae?re:te-E[ne]-T[ne]-oe+I.altAxis,ue=ae?te+E[ne]+T[ne]-oe-I.altAxis:ie,ce=d&&ae?function(e,t,n){var r=an(e,t,n);return r>n?n:r}(se,te,ue):an(d?se:re,te,d?ue:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};var sn={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Ut(n.placement),u=zt(s),c=[xt,wt].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return en("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:tn(e,Tt))}(i.padding,n),f=ht(a),h="y"===u?kt:xt,d="y"===u?bt:wt,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=yt(a),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,k=l[h],b=g-f[c]-l[d],w=g/2-f[c]/2+y,x=an(k,w,b),E=u;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&$t(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function un(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function cn(e){return[kt,wt,bt,xt].some((function(t){return e[t]>=0}))}var ln=Lt({defaultModifiers:[jt,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Bt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:Ut(t.placement),variation:Vt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Wt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Wt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Ze(i)&&ot(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ze(r)&&ot(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},Ht,rn,on,sn,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=nn(t,{elementContext:"reference"}),s=nn(t,{altBoundary:!0}),u=un(o,r),c=un(s,i,a),l=cn(u),f=cn(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),fn=n(77),hn=n.n(fn),dn=[],pn=function(){},vn=function(){return Promise.resolve(null)},mn=[];function gn(e){var n=e.placement,r=void 0===n?"bottom":n,i=e.strategy,a=void 0===i?"absolute":i,o=e.modifiers,s=void 0===o?mn:o,u=e.referenceElement,c=e.onFirstUpdate,l=e.innerRef,f=e.children,h=t.useContext(qe),d=t.useState(null),p=d[0],v=d[1],m=t.useState(null),g=m[0],y=m[1];t.useEffect((function(){Qe(l,p)}),[l,p]);var k=t.useMemo((function(){return{placement:r,strategy:a,onFirstUpdate:c,modifiers:[].concat(s,[{name:"arrow",enabled:null!=g,options:{element:g}}])}}),[r,a,c,s,g]),b=function(e,n,r){void 0===r&&(r={});var i=t.useRef(null),a={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||dn},o=t.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=o[0],u=o[1],c=t.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);u({styles:Ye(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Ye(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),l=t.useMemo((function(){var e={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[c,{name:"applyStyles",enabled:!1}])};return hn()(i.current,e)?i.current||e:(i.current=e,e)}),[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,c]),f=t.useRef();return $e((function(){f.current&&f.current.setOptions(l)}),[l]),$e((function(){if(null!=e&&null!=n){var t=(r.createPopper||ln)(e,n,l);return f.current=t,function(){t.destroy(),f.current=null}}}),[e,n,r.createPopper]),{state:f.current?f.current.state:null,styles:s.styles,attributes:s.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}}(u||h,p,k),w=b.state,x=b.styles,E=b.forceUpdate,T=b.update,_=t.useMemo((function(){return{ref:v,style:x.popper,placement:w?w.placement:r,hasPopperEscaped:w&&w.modifiersData.hide?w.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:w&&w.modifiersData.hide?w.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:x.arrow,ref:y},forceUpdate:E||pn,update:T||vn}}),[v,y,r,w,x,T,E]);return Ke(f)(_)}var yn=n(391),kn=n.n(yn);function bn(e){var n=e.children,r=e.innerRef,i=t.useContext(We),a=t.useCallback((function(e){Qe(r,e),Ge(i,e)}),[r,i]);return t.useEffect((function(){return function(){return Qe(r,null)}})),t.useEffect((function(){kn()(Boolean(i),"`Reference` should not be used outside of a `Manager` component.")}),[i]),Ke(n)({ref:a})}var wn=!1,xn=t.createContext(null),En="unmounted",Tn="exited",_n="entering",In="entered",Sn="exiting",Cn=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Tn,r.appearStatus=_n):i=In:i=t.unmountOnExit||t.mountOnEnter?En:Tn,r.state={status:i},r.nextCallback=null,r}a(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===En?{status:Tn}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==_n&&n!==In&&(t=_n):n!==_n&&n!==In||(t=Sn)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===_n?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Tn&&this.setState({status:En})},i.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!n||wn?this.safeSetState({status:In},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:_n},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:In},(function(){t.props.onEntered(o,s)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!wn?(this.props.onExit(i),this.safeSetState({status:Sn},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Tn},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Tn},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===En)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,W(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(xn.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Nn(){}Cn.contextType=xn,Cn.propTypes={},Cn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nn,onEntering:Nn,onEntered:Nn,onExit:Nn,onExiting:Nn,onExited:Nn},Cn.UNMOUNTED=En,Cn.EXITED=Tn,Cn.ENTERING=_n,Cn.ENTERED=In,Cn.EXITING=Sn;var On,An,Pn=Cn;function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(){return Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(this,arguments)}function Fn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jn(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function Un(e){document.body.style.paddingRight=e>0?"".concat(e,"px"):null}function Vn(){return document.body.clientWidth<window.innerWidth}function zn(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}function Bn(){var e=jn(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;Vn()&&Un(n+e)}function qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:An;return t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}function Wn(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function Hn(e,t){for(var n,r=Array.isArray(t)?t:[t],i=r.length,a={};i>0;)a[n=r[i-=1]]=e[n];return a}var Kn={};function Gn(e){Kn[e]||("undefined"!==typeof console&&console.error(e),Kn[e]=!0)}function Qn(e,t){return function(n,r,i){null!==n[r]&&"undefined"!==typeof n[r]&&Gn('"'.concat(r,'" property of "').concat(i,'" has been deprecated.\n').concat(t));for(var a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return e.apply(void 0,[n,r,i].concat(o))}}var Yn="object"===typeof window&&window.Element||function(){};function $n(e,t,n){if(!(e[t]instanceof Yn))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}var Jn=M.oneOfType([M.string,M.func,$n,M.shape({current:M.any})]),Xn=M.oneOfType([M.func,M.string,M.shape({$$typeof:M.symbol,render:M.func}),M.arrayOf(M.oneOfType([M.func,M.string,M.shape({$$typeof:M.symbol,render:M.func})]))]),Zn={Fade:150,Collapse:350,Modal:300,Carousel:600,Offcanvas:300},er=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],tr={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},nr={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},rr=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ir=!("undefined"===typeof window||!window.document||!window.document.createElement);function ar(e){return!(!e||"object"!==typeof e)&&"current"in e}function or(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function sr(e){var t=typeof e;if("number"===t)return e;if("symbol"===t||"object"===t&&"[object Symbol]"===or(e))return NaN;if(ur(e)){var n="function"===typeof e.valueOf?e.valueOf():e;e=ur(n)?"".concat(n):n}if("string"!==t)return 0===e?e:+e;e=e.replace(/^\s+|\s+$/g,"");var r=/^0b[01]+$/i.test(e);return r||/^0o[0-7]+$/i.test(e)?parseInt(e.slice(2),r?2:8):/^[-+]0x[0-9a-f]+$/i.test(e)?NaN:+e}function ur(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}function cr(e){if(!ur(e))return!1;var t=or(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}function lr(e){if(ar(e))return e.current;if(cr(e))return e();if("string"===typeof e&&ir){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#".concat(e))),!t.length)throw new Error("The target '".concat(e,"' could not be identified in the dom, tip: check spelling"));return t}return e}function fr(e){return null!==e&&(Array.isArray(e)||ir&&"number"===typeof e.length)}function hr(e,t){var n=lr(e);return t?fr(n)?n:null===n?[]:[n]:fr(n)?n[0]:n}var dr=["touchstart","click"];function pr(e,t,n,r){var i=e;fr(i)||(i=[i]);var a=n;if("string"===typeof a&&(a=a.split(/\s+/)),!fr(i)||"function"!==typeof t||!Array.isArray(a))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return Array.prototype.forEach.call(a,(function(e){Array.prototype.forEach.call(i,(function(n){n.addEventListener(e,t,r)}))})),function(){Array.prototype.forEach.call(a,(function(e){Array.prototype.forEach.call(i,(function(n){n.removeEventListener(e,t,r)}))}))}}var vr=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],mr=["className","cssModule","fluid","tag"],gr={tag:Xn,fluid:M.oneOfType([M.bool,M.string]),className:M.string,cssModule:M.object},yr=function(e){var n=e.className,r=e.cssModule,i=e.fluid,a=e.tag,o=Fn(e,mr),s="container";!0===i?s="container-fluid":i&&(s="container-".concat(i));var u=qn(Be(n,s),r);return t.createElement(a,Ln({},o,{className:u}))};yr.propTypes=gr,yr.defaultProps={tag:"div"};var kr=yr,br=["className","cssModule","noGutters","tag","form","widths"],wr=M.oneOfType([M.number,M.string]),xr={tag:Xn,noGutters:Qn(M.bool,"Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/"),className:M.string,cssModule:M.object,form:M.bool,xs:wr,sm:wr,md:wr,lg:wr,xl:wr,xxl:wr},Er={tag:"div",widths:["xs","sm","md","lg","xl","xxl"]},Tr=function(e){var n=e.className,r=e.cssModule,i=e.noGutters,a=e.tag,o=e.form,s=e.widths,u=Fn(e,br),c=[];s.forEach((function(t,n){var r=e[t];if(delete u[t],r){var i=!n;c.push(i?"row-cols-".concat(r):"row-cols-".concat(t,"-").concat(r))}}));var l=qn(Be(n,i?"gx-0":null,o?"form-row":"row",c),r);return t.createElement(a,Ln({},u,{className:l}))};Tr.propTypes=xr,Tr.defaultProps=Er;var _r=Tr,Ir=["className","cssModule","widths","tag"],Sr=["xs","sm","md","lg","xl","xxl"],Cr=M.oneOfType([M.number,M.string]),Nr=M.oneOfType([M.bool,M.number,M.string,M.shape({size:M.oneOfType([M.bool,M.number,M.string]),order:Cr,offset:Cr})]),Or={tag:Xn,xs:Nr,sm:Nr,md:Nr,lg:Nr,xl:Nr,xxl:Nr,className:M.string,cssModule:M.object,widths:M.array},Ar={tag:"div",widths:Sr},Pr=function(e,t,n){return!0===n||""===n?e?"col":"col-".concat(t):"auto"===n?e?"col-auto":"col-".concat(t,"-auto"):e?"col-".concat(n):"col-".concat(t,"-").concat(n)},Rr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sr,r=[];return n.forEach((function(n,i){var a=e[n];if(delete e[n],a||""===a){var o=!i;if(ur(a)){var s,u=o?"-":"-".concat(n,"-"),c=Pr(o,n,a.size);r.push(qn(Be((xe(s={},c,a.size||""===a.size),xe(s,"order".concat(u).concat(a.order),a.order||0===a.order),xe(s,"offset".concat(u).concat(a.offset),a.offset||0===a.offset),s)),t))}else{var l=Pr(o,n,a);r.push(l)}}})),{colClasses:r,attributes:e}},Dr=function(e){var n=e.className,r=e.cssModule,i=e.widths,a=e.tag,o=Fn(e,Ir),s=Rr(o,r,i),u=s.attributes,c=s.colClasses;c.length||c.push("col");var l=qn(Be(n,c),r);return t.createElement(a,Ln({},u,{className:l}))};Dr.propTypes=Or,Dr.defaultProps=Ar;var Mr=Dr,Lr=["expand","className","cssModule","light","dark","fixed","sticky","color","container","tag","children"],Fr={light:M.bool,dark:M.bool,full:M.bool,fixed:M.string,sticky:M.string,color:M.string,role:M.string,tag:Xn,container:M.oneOfType([M.bool,M.string]),className:M.string,cssModule:M.object,expand:M.oneOfType([M.bool,M.string]),children:M.node},jr=function(e){var n,r=e.expand,i=e.className,a=e.cssModule,o=e.light,s=e.dark,u=e.fixed,c=e.sticky,l=e.color,f=e.container,h=e.tag,d=e.children,p=Fn(e,Lr),v=qn(Be(i,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-".concat(e))}(r),(xe(n={"navbar-light":o,"navbar-dark":s},"bg-".concat(l),l),xe(n,"fixed-".concat(u),u),xe(n,"sticky-".concat(c),c),n)),a),m=f&&!0===f?"container":"container-".concat(f);return t.createElement(h,Ln({},p,{className:v}),f?t.createElement("div",{className:m},d):d)};jr.propTypes=Fr,jr.defaultProps={tag:"nav",expand:!1,container:"fluid"};var Ur=["className","cssModule","tag"],Vr={tag:Xn,className:M.string,cssModule:M.object},zr=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,Ur),o=qn(Be(n,"navbar-brand"),r);return t.createElement(i,Ln({},a,{className:o}))};zr.propTypes=Vr,zr.defaultProps={tag:"a"};var Br=["className","cssModule","active","tag"],qr={tag:Xn,className:M.string,cssModule:M.object},Wr=function(e){var n=e.className,r=e.cssModule,i=(e.active,e.tag),a=Fn(e,Br),o=qn(Be(n,"navbar-text"),r);return t.createElement(i,Ln({},a,{className:o}))};Wr.propTypes=qr,Wr.defaultProps={tag:"span"};var Hr=["className","cssModule","children","tag"],Kr={tag:Xn,type:M.string,className:M.string,cssModule:M.object,children:M.node},Gr=function(e){var n=e.className,r=e.cssModule,i=e.children,a=e.tag,o=Fn(e,Hr),s=qn(Be(n,"navbar-toggler"),r);return t.createElement(a,Ln({"aria-label":"Toggle navigation"},o,{className:s}),i||t.createElement("span",{className:qn("navbar-toggler-icon",r)}))};Gr.propTypes=Kr,Gr.defaultProps={tag:"button",type:"button"};var Qr=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"],Yr={tabs:M.bool,pills:M.bool,vertical:M.oneOfType([M.bool,M.string]),horizontal:M.string,justified:M.bool,fill:M.bool,navbar:M.bool,card:M.bool,tag:Xn,className:M.string,cssModule:M.object},$r=function(e){var n=e.className,r=e.cssModule,i=e.tabs,a=e.pills,o=e.vertical,s=e.horizontal,u=e.justified,c=e.fill,l=e.navbar,f=e.card,h=e.tag,d=Fn(e,Qr),p=qn(Be(n,l?"navbar-nav":"nav",!!s&&"justify-content-".concat(s),function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-".concat(e,"-column"))}(o),{"nav-tabs":i,"card-header-tabs":f&&i,"nav-pills":a,"card-header-pills":f&&a,"nav-justified":u,"nav-fill":c}),r);return t.createElement(h,Ln({},d,{className:p}))};$r.propTypes=Yr,$r.defaultProps={tag:"ul",vertical:!1};var Jr=["className","cssModule","active","tag"],Xr={tag:Xn,active:M.bool,className:M.string,cssModule:M.object},Zr=function(e){var n=e.className,r=e.cssModule,i=e.active,a=e.tag,o=Fn(e,Jr),s=qn(Be(n,"nav-item",!!i&&"active"),r);return t.createElement(a,Ln({},o,{className:s}))};Zr.propTypes=Xr,Zr.defaultProps={tag:"li"};var ei=["className","cssModule","active","tag","innerRef"],ti={tag:Xn,innerRef:M.oneOfType([M.object,M.func,M.string]),disabled:M.bool,active:M.bool,className:M.string,cssModule:M.object,onClick:M.func,href:M.any},ni=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).onClick=t.onClick.bind(Me(t)),t}return De(r,[{key:"onClick",value:function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.cssModule,i=e.active,a=e.tag,o=e.innerRef,s=Fn(e,ei),u=qn(Be(n,"nav-link",{disabled:s.disabled,active:i}),r);return t.createElement(a,Ln({},s,{ref:o,onClick:this.onClick,className:u}))}}]),r}(t.Component);ni.propTypes=ti,ni.defaultProps={tag:"a"};var ri=["className","listClassName","cssModule","children","tag","listTag","aria-label"],ii={tag:Xn,listTag:Xn,className:M.string,listClassName:M.string,cssModule:M.object,children:M.node,"aria-label":M.string},ai=function(e){var n=e.className,r=e.listClassName,i=e.cssModule,a=e.children,o=e.tag,s=e.listTag,u=e["aria-label"],c=Fn(e,ri),l=qn(Be(n),i),f=qn(Be("breadcrumb",r),i);return t.createElement(o,Ln({},c,{className:l,"aria-label":u}),t.createElement(s,{className:f},a))};ai.propTypes=ii,ai.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"};var oi=["className","cssModule","active","tag"],si={tag:Xn,active:M.bool,className:M.string,cssModule:M.object},ui=function(e){var n=e.className,r=e.cssModule,i=e.active,a=e.tag,o=Fn(e,oi),s=qn(Be(n,!!i&&"active","breadcrumb-item"),r);return t.createElement(a,Ln({},o,{className:s,"aria-current":i?"page":void 0}))};ui.propTypes=si,ui.defaultProps={tag:"li"};var ci=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"],li={active:M.bool,"aria-label":M.string,block:M.bool,color:M.string,disabled:M.bool,outline:M.bool,tag:Xn,innerRef:M.oneOfType([M.object,M.func,M.string]),onClick:M.func,size:M.string,children:M.node,className:M.string,cssModule:M.object,close:M.bool},fi=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).onClick=t.onClick.bind(Me(t)),t}return De(r,[{key:"onClick",value:function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()}},{key:"render",value:function(){var e=this.props,n=e.active,r=e["aria-label"],i=e.block,a=e.className,o=e.close,s=e.cssModule,u=e.color,c=e.outline,l=e.size,f=e.tag,h=e.innerRef,d=Fn(e,ci),p="btn".concat(c?"-outline":"","-").concat(u),v=qn(Be(a,o&&"btn-close",o||"btn",o||p,!!l&&"btn-".concat(l),!!i&&"d-block w-100",{active:n,disabled:this.props.disabled}),s);d.href&&"button"===f&&(f="a");var m=o?"Close":null;return t.createElement(f,Ln({type:"button"===f&&d.onClick?"button":void 0},d,{className:v,ref:h,onClick:this.onClick,"aria-label":r||m}))}}]),r}(t.Component);fi.propTypes=li,fi.defaultProps={color:"secondary",tag:"button"};var hi=fi,di=["className"],pi={onClick:M.func,onBlur:M.func,onFocus:M.func,defaultValue:M.bool},vi=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).state={toggled:e.defaultValue,focus:!1},t.onBlur=t.onBlur.bind(Me(t)),t.onFocus=t.onFocus.bind(Me(t)),t.onClick=t.onClick.bind(Me(t)),t}return De(r,[{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focus:!1})}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focus:!0})}},{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e),this.setState((function(e){return{toggled:!e.toggled}}))}},{key:"render",value:function(){var e=this.props,n=e.className,r=Fn(e,di),i=qn(Be(n,{focus:this.state.focus}),this.props.cssModule);return t.createElement(hi,Ln({active:this.state.toggled,onBlur:this.onBlur,onFocus:this.onFocus,onClick:this.onClick,className:i},r))}}]),r}(t.Component);vi.propTypes=pi,vi.defaultProps={defaultValue:!1};var mi=t.createContext({}),gi=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","tag","menuRole"],yi={a11y:M.bool,disabled:M.bool,direction:M.oneOf(["up","down","start","end","left","right"]),group:M.bool,isOpen:M.bool,nav:M.bool,active:M.bool,size:M.string,tag:Xn,toggle:M.func,children:M.node,className:M.string,cssModule:M.object,inNavbar:M.bool,setActiveFromChild:M.bool,menuRole:M.oneOf(["listbox","menu"])},ki=[nr.space,nr.enter,nr.up,nr.down,nr.end,nr.home],bi=function(e){Le(r,e);var n=ze(r);function r(e){var i;return Pe(this,r),(i=n.call(this,e)).addEvents=i.addEvents.bind(Me(i)),i.handleDocumentClick=i.handleDocumentClick.bind(Me(i)),i.handleKeyDown=i.handleKeyDown.bind(Me(i)),i.removeEvents=i.removeEvents.bind(Me(i)),i.toggle=i.toggle.bind(Me(i)),i.handleMenuRef=i.handleMenuRef.bind(Me(i)),i.containerRef=t.createRef(),i.menuRef=t.createRef(),i}return De(r,[{key:"handleMenuRef",value:function(e){this.menuRef.current=e}},{key:"getContextValue",value:function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,menuRole:this.props.menuRole}}},{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getMenu",value:function(){return this.menuRef.current}},{key:"getMenuCtrl",value:function(){return this._$menuCtrl||(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]")),this._$menuCtrl}},{key:"getItemType",value:function(){return"listbox"===this.context.menuRole?"option":"menuitem"}},{key:"getMenuItems",value:function(){var e=this.getMenu()||this.getContainer();return[].slice.call(e.querySelectorAll('[role="'.concat(this.getItemType(),'"]')))}},{key:"addEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))}},{key:"removeEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))}},{key:"handleDocumentClick",value:function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===nr.tab)){var t=this.getContainer(),n=this.getMenu(),r=t.contains(e.target)&&t!==e.target,i=t.classList.contains("input-group")&&t.classList.contains("dropdown")&&"INPUT"===e.target.tagName,a=n&&n.contains(e.target)&&n!==e.target;(!(r&&!i||a)||"keyup"===e.type&&e.which!==nr.tab)&&this.toggle(e)}}},{key:"handleKeyDown",value:function(e){var t=this,n="menuitem"===e.target.getAttribute("role")||"option"===e.target.getAttribute("role"),r=this.getMenuCtrl()===e.target,i=nr.tab===e.which;if(!(/input|textarea/i.test(e.target.tagName)||i&&!this.props.a11y||i&&!n&&!r)&&((-1!==ki.indexOf(e.which)||e.which>=48&&e.which<=90)&&e.preventDefault(),!this.props.disabled&&(r&&([nr.space,nr.enter,nr.up,nr.down].indexOf(e.which)>-1?(this.props.isOpen||this.toggle(e),setTimeout((function(){return t.getMenuItems()[0].focus()}))):this.props.isOpen&&i?(e.preventDefault(),this.getMenuItems()[0].focus()):this.props.isOpen&&e.which===nr.esc&&this.toggle(e)),this.props.isOpen&&n)))if([nr.tab,nr.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([nr.space,nr.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([nr.down,nr.up].indexOf(e.which)>-1||[nr.n,nr.p].indexOf(e.which)>-1&&e.ctrlKey){var a=this.getMenuItems(),o=a.indexOf(e.target);nr.up===e.which||nr.p===e.which&&e.ctrlKey?o=0!==o?o-1:a.length-1:(nr.down===e.which||nr.n===e.which&&e.ctrlKey)&&(o=o===a.length-1?0:o+1),a[o].focus()}else if(nr.end===e.which){var s=this.getMenuItems();s[s.length-1].focus()}else if(nr.home===e.which){this.getMenuItems()[0].focus()}else if(e.which>=48&&e.which<=90)for(var u=this.getMenuItems(),c=String.fromCharCode(e.which).toLowerCase(),l=0;l<u.length;l+=1){if((u[l].textContent&&u[l].textContent[0].toLowerCase())===c){u[l].focus();break}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){var e,n,r=Wn(this.props,["toggle","disabled","inNavbar","a11y"]),i=r.className,a=r.cssModule,o=r.direction,s=r.isOpen,u=r.group,c=r.size,l=r.nav,f=r.setActiveFromChild,h=r.active,d=r.tag,p=(r.menuRole,Fn(r,gi)),v=d||(l?"li":"div"),m=!1;f&&t.Children.map(this.props.children[1].props.children,(function(e){e&&e.props.active&&(m=!0)}));var g=qn(Be(i,!(!l||!h)&&"active",!(!f||!m)&&"active",(xe(e={"btn-group":u},"btn-group-".concat(c),!!c),xe(e,"dropdown",!u),xe(e,"dropup","up"===o),xe(e,"dropstart","start"===o||"left"===o),xe(e,"dropend","end"===o||"right"===o),xe(e,"show",s),xe(e,"nav-item",l),e)),a);return t.createElement(mi.Provider,{value:this.getContextValue()},t.createElement(He,null,t.createElement(v,Ln({},p,(xe(n={},"string"===typeof v?"ref":"innerRef",this.containerRef),xe(n,"onKeyDown",this.handleKeyDown),xe(n,"className",g),n)))))}}]),r}(t.Component);bi.propTypes=yi,bi.defaultProps={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,inNavbar:!1,setActiveFromChild:!1};var wi=bi,xi={children:M.node},Ei=function(e){return t.createElement(wi,Ln({group:!0},e))};Ei.propTypes=xi;var Ti=Ei,_i=["className","cssModule","size","vertical","tag"],Ii={tag:Xn,"aria-label":M.string,className:M.string,cssModule:M.object,role:M.string,size:M.string,vertical:M.bool},Si=function(e){var n=e.className,r=e.cssModule,i=e.size,a=e.vertical,o=e.tag,s=Fn(e,_i),u=qn(Be(n,!!i&&"btn-group-"+i,a?"btn-group-vertical":"btn-group"),r);return t.createElement(o,Ln({},s,{className:u}))};Si.propTypes=Ii,Si.defaultProps={tag:"div",role:"group"};var Ci=["className","cssModule","tag"],Ni={tag:Xn,"aria-label":M.string,className:M.string,cssModule:M.object,role:M.string},Oi=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,Ci),o=qn(Be(n,"btn-toolbar"),r);return t.createElement(i,Ln({},a,{className:o}))};Oi.propTypes=Ni,Oi.defaultProps={tag:"div",role:"toolbar"};var Ai=["className","cssModule","divider","tag","header","active","text"],Pi={children:M.node,active:M.bool,disabled:M.bool,divider:M.bool,tag:Xn,header:M.bool,onClick:M.func,className:M.string,cssModule:M.object,toggle:M.bool,text:M.bool},Ri=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).onClick=t.onClick.bind(Me(t)),t.getTabIndex=t.getTabIndex.bind(Me(t)),t}return De(r,[{key:"getRole",value:function(){return"listbox"===this.context.menuRole?"option":"menuitem"}},{key:"onClick",value:function(e){var t=this.props,n=t.disabled,r=t.header,i=t.divider,a=t.text;n||r||i||a?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))}},{key:"getTabIndex",value:function(){var e=this.props,t=e.disabled,n=e.header,r=e.divider,i=e.text;return t||n||r||i?"-1":"0"}},{key:"render",value:function(){var e=this.getTabIndex(),n=e>-1?this.getRole():void 0,r=Wn(this.props,["toggle"]),i=r.className,a=r.cssModule,o=r.divider,s=r.tag,u=r.header,c=r.active,l=r.text,f=Fn(r,Ai),h=qn(Be(i,{disabled:f.disabled,"dropdown-item":!o&&!u&&!l,active:c,"dropdown-header":u,"dropdown-divider":o,"dropdown-item-text":l}),a);return"button"===s&&(u?s="h6":o?s="div":f.href?s="a":l&&(s="span")),t.createElement(s,Ln({type:"button"===s&&(f.onClick||this.props.toggle)?"button":void 0},f,{tabIndex:e,role:n,className:h,onClick:this.onClick}))}}]),r}(t.Component);Ri.propTypes=Pi,Ri.defaultProps={tag:"button",toggle:!0},Ri.contextType=mi;var Di=["className","cssModule","dark","end","right","tag","flip","modifiers","persist","strategy","container"],Mi={tag:Xn,children:M.node.isRequired,dark:M.bool,end:M.bool,flip:M.bool,modifiers:M.array,className:M.string,cssModule:M.object,persist:M.bool,strategy:M.string,container:Jn,right:Qn(M.bool,'Please use "end" instead.')},Li={up:"top",left:"left",right:"right",start:"left",end:"right",down:"bottom"},Fi=function(e){Le(i,e);var n=ze(i);function i(){return Pe(this,i),n.apply(this,arguments)}return De(i,[{key:"getRole",value:function(){return"listbox"===this.context.menuRole?"listbox":"menu"}},{key:"render",value:function(){var e=this,n=this.props,i=n.className,a=n.cssModule,o=n.dark,s=n.end,u=n.right,c=n.tag,l=n.flip,f=n.modifiers,h=n.persist,d=n.strategy,p=n.container,v=Fn(n,Di),m=qn(Be(i,"dropdown-menu",{"dropdown-menu-dark":o,"dropdown-menu-end":s||u,show:this.context.isOpen}),a),g=c;if(h||this.context.isOpen&&!this.context.inNavbar){var y=Li[this.context.direction]||"bottom",k=s||u?"end":"start",b="".concat(y,"-").concat(k),w=[].concat(Ae(f),[{name:"flip",enabled:!!l}]),x=t.createElement(gn,{placement:b,modifiers:w,strategy:d},(function(n){var r=n.ref,i=n.style,a=n.placement,o=Dn(Dn({},e.props.style),i);return t.createElement(g,Ln({tabIndex:"-1",role:e.getRole(),ref:function(t){r(t);var n=e.context.onMenuRef;n&&n(t)}},v,{style:o,"aria-hidden":!e.context.isOpen,className:m,"data-popper-placement":a}))}));return p?r.createPortal(x,hr(p)):x}return t.createElement(g,Ln({tabIndex:"-1",role:this.getRole()},v,{"aria-hidden":!this.context.isOpen,className:m,"data-popper-placement":v.placement}))}}]),i}(t.Component);Fi.propTypes=Mi,Fi.defaultProps={tag:"div",flip:!0,modifiers:[]},Fi.contextType=mi;var ji=["className","color","cssModule","caret","split","nav","tag","innerRef"],Ui={caret:M.bool,color:M.string,children:M.node,className:M.string,cssModule:M.object,disabled:M.bool,onClick:M.func,"aria-haspopup":M.bool,split:M.bool,tag:Xn,nav:M.bool},Vi=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).onClick=t.onClick.bind(Me(t)),t}return De(r,[{key:"onClick",value:function(e){this.props.disabled||this.context.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))}},{key:"getRole",value:function(){return this.context.menuRole||this.props["aria-haspopup"]}},{key:"render",value:function(){var e,n=this,r=this.props,i=r.className,a=r.color,o=r.cssModule,s=r.caret,u=r.split,c=r.nav,l=r.tag,f=r.innerRef,h=Fn(r,ji),d=h["aria-label"]||"Toggle Dropdown",p=qn(Be(i,{"dropdown-toggle":s||u,"dropdown-toggle-split":u,"nav-link":c}),o),v="undefined"!==typeof h.children?h.children:t.createElement("span",{className:"visually-hidden"},d);return c&&!l?(e="a",h.href="#"):l?e=l:(e=hi,h.color=a,h.cssModule=o),this.context.inNavbar?t.createElement(e,Ln({},h,{className:p,onClick:this.onClick,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:v})):t.createElement(bn,{innerRef:f},(function(r){var i,a=r.ref;return t.createElement(e,Ln({},h,(xe(i={},"string"===typeof e?"ref":"innerRef",a),xe(i,"className",p),xe(i,"onClick",n.onClick),xe(i,"aria-expanded",n.context.isOpen),xe(i,"aria-haspopup",n.getRole()),xe(i,"children",v),i)))}))}}]),r}(t.Component);Vi.propTypes=Ui,Vi.defaultProps={color:"secondary","aria-haspopup":!0},Vi.contextType=mi;var zi=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"],Bi=Dn(Dn({},Pn.propTypes),{},{children:M.oneOfType([M.arrayOf(M.node),M.node]),tag:Xn,baseClass:M.string,baseClassActive:M.string,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func])}),qi=Dn(Dn({},Pn.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:Zn.Fade,appear:!0,enter:!0,exit:!0,in:!0});function Wi(e){var n=e.tag,r=e.baseClass,i=e.baseClassActive,a=e.className,o=e.cssModule,s=e.children,u=e.innerRef,c=Fn(e,zi),l=Hn(c,er),f=Wn(c,er);return t.createElement(Pn,l,(function(e){var c=qn(Be(a,r,"entered"===e&&i),o);return t.createElement(n,Ln({className:c},f,{ref:u}),s)}))}Wi.propTypes=Bi,Wi.defaultProps=qi;var Hi=t.createContext({}),Ki=["flush","open","toggle","className","cssModule","tag","innerRef"],Gi={tag:Xn,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func]),children:M.node,flush:M.bool,open:M.oneOfType([M.array,M.string]).isRequired,toggle:M.func.isRequired},Qi=function(e){var n=e.flush,r=e.open,i=e.toggle,a=e.className,o=e.cssModule,s=e.tag,u=e.innerRef,c=Fn(e,Ki),l=qn(Be(a,"accordion",{"accordion-flush":n}),o),f=(0,t.useMemo)((function(){return{open:r,toggle:i}}));return t.createElement(Hi.Provider,{value:f},t.createElement(s,Ln({},c,{className:l,ref:u})))};Qi.propTypes=Gi,Qi.defaultProps={tag:"div"};var Yi=Qi,$i={tag:Xn,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func]),children:M.node,defaultOpen:M.oneOfType([M.array,M.string]),stayOpen:M.bool};Yi.propTypes=$i,Yi.defaultProps={tag:"div"};var Ji=["className","cssModule","tag","innerRef","children","targetId"],Xi={tag:Xn,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func]),children:M.node,targetId:M.string.isRequired},Zi=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=e.innerRef,o=e.children,s=e.targetId,u=Fn(e,Ji),c=(0,t.useContext)(Hi),l=c.open,f=c.toggle,h=qn(Be(n,"accordion-header"),r),d=qn(Be("accordion-button",{collapsed:!(Array.isArray(l)?l.includes(s):l===s)}),r);return t.createElement(i,Ln({},u,{className:h,ref:a}),t.createElement("button",{type:"button",className:d,onClick:function(){return f(s)}},o))};Zi.propTypes=Xi,Zi.defaultProps={tag:"h2"};var ea=["className","cssModule","tag","innerRef"],ta={tag:Xn,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func]),children:M.node},na=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=e.innerRef,o=Fn(e,ea),s=qn(Be(n,"accordion-item"),r);return t.createElement(i,Ln({},o,{className:s,ref:a}))};na.propTypes=ta,na.defaultProps={tag:"div"};var ra=["tag","horizontal","isOpen","className","navbar","cssModule","children","innerRef"],ia=Dn(Dn({},Pn.propTypes),{},{horizontal:M.bool,isOpen:M.bool,children:M.oneOfType([M.arrayOf(M.node),M.node]),tag:Xn,className:M.node,navbar:M.bool,cssModule:M.object,innerRef:M.oneOfType([M.func,M.string,M.object])}),aa=Dn(Dn({},Pn.defaultProps),{},{horizontal:!1,isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:Zn.Collapse}),oa=(xe(On={},tr.ENTERING,"collapsing"),xe(On,tr.ENTERED,"collapse show"),xe(On,tr.EXITING,"collapsing"),xe(On,tr.EXITED,"collapse"),On);var sa=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).state={dimension:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){t[e]=t[e].bind(Me(t))})),t}return De(r,[{key:"getDimension",value:function(e){return this.props.horizontal?e.scrollWidth:e.scrollHeight}},{key:"onEntering",value:function(e,t){this.setState({dimension:this.getDimension(e)}),this.props.onEntering(e,t)}},{key:"onEntered",value:function(e,t){this.setState({dimension:null}),this.props.onEntered(e,t)}},{key:"onExit",value:function(e){this.setState({dimension:this.getDimension(e)}),this.props.onExit(e)}},{key:"onExiting",value:function(e){this.getDimension(e),this.setState({dimension:0}),this.props.onExiting(e)}},{key:"onExited",value:function(e){this.setState({dimension:null}),this.props.onExited(e)}},{key:"render",value:function(){var e=this,n=this.props,r=n.tag,i=n.horizontal,a=n.isOpen,o=n.className,s=n.navbar,u=n.cssModule,c=n.children,l=(n.innerRef,Fn(n,ra)),f=this.state.dimension,h=Hn(l,er),d=Wn(l,er);return t.createElement(Pn,Ln({},h,{in:a,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(n){var a=function(e){return oa[e]||"collapse"}(n),l=qn(Be(o,i&&"collapse-horizontal",a,s&&"navbar-collapse"),u),h=null===f?null:xe({},i?"width":"height",f);return t.createElement(r,Ln({},d,{style:Dn(Dn({},d.style),h),className:l,ref:e.props.innerRef}),c)}))}}]),r}(t.Component);sa.propTypes=ia,sa.defaultProps=aa;var ua=sa,ca=["className","cssModule","tag","innerRef","children","accordionId"],la={tag:Xn,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func]),children:M.node,accordionId:M.string.isRequired},fa=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=e.innerRef,o=e.children,s=e.accordionId,u=Fn(e,ca),c=(0,t.useContext)(Hi).open,l=qn(Be(n,"accordion-collapse"),r);return t.createElement(ua,Ln({},u,{className:l,ref:a,isOpen:Array.isArray(c)?c.includes(s):c===s}),t.createElement(i,{className:"accordion-body"},o))};fa.propTypes=la,fa.defaultProps={tag:"div"};var ha=["className","cssModule","color","innerRef","pill","tag"],da={color:M.string,pill:M.bool,tag:Xn,innerRef:M.oneOfType([M.object,M.func,M.string]),children:M.node,className:M.string,cssModule:M.object},pa=function(e){var n=e.className,r=e.cssModule,i=e.color,a=e.innerRef,o=e.pill,s=e.tag,u=Fn(e,ha),c=qn(Be(n,"badge","bg-"+i,!!o&&"rounded-pill"),r);return u.href&&"span"===s&&(s="a"),t.createElement(s,Ln({},u,{className:c,ref:a}))};pa.propTypes=da,pa.defaultProps={color:"secondary",pill:!1,tag:"span"};var va=["className","cssModule","color","body","inverse","outline","tag","innerRef"],ma={tag:Xn,inverse:M.bool,color:M.string,body:M.bool,outline:M.bool,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func])},ga=function(e){var n=e.className,r=e.cssModule,i=e.color,a=e.body,o=e.inverse,s=e.outline,u=e.tag,c=e.innerRef,l=Fn(e,va),f=qn(Be(n,"card",!!o&&"text-white",!!a&&"card-body",!!i&&"".concat(s?"border":"bg","-").concat(i)),r);return t.createElement(u,Ln({},l,{className:f,ref:c}))};ga.propTypes=ma,ga.defaultProps={tag:"div"};var ya=ga,ka=["className","cssModule","tag"],ba={tag:Xn,className:M.string,cssModule:M.object},wa=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,ka),o=qn(Be(n,"card-group"),r);return t.createElement(i,Ln({},a,{className:o}))};wa.propTypes=ba,wa.defaultProps={tag:"div"};var xa=["className","cssModule","tag"],Ea={tag:Xn,className:M.string,cssModule:M.object},Ta=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,xa),o=qn(Be(n,"card-deck"),r);return t.createElement(i,Ln({},a,{className:o}))};Ta.propTypes=Ea,Ta.defaultProps={tag:"div"};var _a=["className","cssModule","tag"],Ia={tag:Xn,className:M.string,cssModule:M.object},Sa=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,_a),o=qn(Be(n,"card-columns"),r);return t.createElement(i,Ln({},a,{className:o}))};Sa.propTypes=Ia,Sa.defaultProps={tag:"div"};var Ca=["className","cssModule","innerRef","tag"],Na={tag:Xn,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func])},Oa=function(e){var n=e.className,r=e.cssModule,i=e.innerRef,a=e.tag,o=Fn(e,Ca),s=qn(Be(n,"card-body"),r);return t.createElement(a,Ln({},o,{className:s,ref:i}))};Oa.propTypes=Na,Oa.defaultProps={tag:"div"};var Aa=Oa,Pa=["className","cssModule","tag","innerRef"],Ra={tag:Xn,innerRef:M.oneOfType([M.object,M.func,M.string]),className:M.string,cssModule:M.object},Da=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=e.innerRef,o=Fn(e,Pa),s=qn(Be(n,"card-link"),r);return t.createElement(i,Ln({},o,{ref:a,className:s}))};Da.propTypes=Ra,Da.defaultProps={tag:"a"};var Ma=["className","cssModule","tag"],La={tag:Xn,className:M.string,cssModule:M.object},Fa=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,Ma),o=qn(Be(n,"card-footer"),r);return t.createElement(i,Ln({},a,{className:o}))};Fa.propTypes=La,Fa.defaultProps={tag:"div"};var ja=["className","cssModule","tag"],Ua={tag:Xn,className:M.string,cssModule:M.object},Va=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,ja),o=qn(Be(n,"card-header"),r);return t.createElement(i,Ln({},a,{className:o}))};Va.propTypes=Ua,Va.defaultProps={tag:"div"};var za=Va,Ba=["className","cssModule","top","bottom","tag"],qa={tag:Xn,top:M.bool,bottom:M.bool,className:M.string,cssModule:M.object},Wa=function(e){var n=e.className,r=e.cssModule,i=e.top,a=e.bottom,o=e.tag,s=Fn(e,Ba),u="card-img";i&&(u="card-img-top"),a&&(u="card-img-bottom");var c=qn(Be(n,u),r);return t.createElement(o,Ln({},s,{className:c}))};Wa.propTypes=qa,Wa.defaultProps={tag:"img"};var Ha=["className","cssModule","tag"],Ka={tag:Xn,className:M.string,cssModule:M.object},Ga=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,Ha),o=qn(Be(n,"card-img-overlay"),r);return t.createElement(i,Ln({},a,{className:o}))};Ga.propTypes=Ka,Ga.defaultProps={tag:"div"};var Qa=["in","children","cssModule","slide","tag","className"],Ya=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).state={startAnimation:!1},t.onEnter=t.onEnter.bind(Me(t)),t.onEntering=t.onEntering.bind(Me(t)),t.onExit=t.onExit.bind(Me(t)),t.onExiting=t.onExiting.bind(Me(t)),t.onExited=t.onExited.bind(Me(t)),t}return De(r,[{key:"onEnter",value:function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)}},{key:"onEntering",value:function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n}},{key:"onExit",value:function(e){this.setState({startAnimation:!1}),this.props.onExit(e)}},{key:"onExiting",value:function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)}},{key:"onExited",value:function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)}},{key:"render",value:function(){var e=this,n=this.props,r=n.in,i=n.children,a=n.cssModule,o=n.slide,s=n.tag,u=n.className,c=Fn(n,Qa);return t.createElement(Pn,Ln({},c,{enter:o,exit:o,in:r,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(n){var r=e.context.direction,o=n===tr.ENTERED||n===tr.EXITING,c=(n===tr.ENTERING||n===tr.EXITING)&&e.state.startAnimation&&("end"===r?"carousel-item-start":"carousel-item-end"),l=qn(Be(u,"carousel-item",o&&"active",c,n===tr.ENTERING&&("end"===r?"carousel-item-next":"carousel-item-prev")),a);return t.createElement(s,{className:l},i)}))}}]),r}(t.Component);Ya.propTypes=Dn(Dn({},Pn.propTypes),{},{tag:Xn,in:M.bool,cssModule:M.object,children:M.node,slide:M.bool,className:M.string}),Ya.defaultProps=Dn(Dn({},Pn.defaultProps),{},{tag:"div",timeout:Zn.Carousel,slide:!0}),Ya.contextTypes={direction:M.string};var $a=Ya,Ja=t.createContext({}),Xa=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).handleKeyPress=t.handleKeyPress.bind(Me(t)),t.renderItems=t.renderItems.bind(Me(t)),t.hoverStart=t.hoverStart.bind(Me(t)),t.hoverEnd=t.hoverEnd.bind(Me(t)),t.handleTouchStart=t.handleTouchStart.bind(Me(t)),t.handleTouchEnd=t.handleTouchEnd.bind(Me(t)),t.touchStartX=0,t.touchStartY=0,t.state={activeIndex:t.props.activeIndex,direction:"end",indicatorClicked:!1},t}return De(r,[{key:"getContextValue",value:function(){return{direction:this.state.direction}}},{key:"componentDidMount",value:function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)}},{key:"componentDidUpdate",value:function(e,t){t.activeIndex!==this.state.activeIndex&&this.setInterval(this.props)}},{key:"componentWillUnmount",value:function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.clearInterval(),e.interval&&(this.cycleInterval=setInterval((function(){e.next()}),parseInt(e.interval,10)))}))},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this.cycleInterval)}))},{key:"hoverStart",value:function(){var e;("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter)&&(e=this.props).mouseEnter.apply(e,arguments)}},{key:"hoverEnd",value:function(){var e;("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave)&&(e=this.props).mouseLeave.apply(e,arguments)}},{key:"handleKeyPress",value:function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())}},{key:"handleTouchStart",value:function(e){this.props.enableTouch&&(this.touchStartX=e.changedTouches[0].screenX,this.touchStartY=e.changedTouches[0].screenY)}},{key:"handleTouchEnd",value:function(e){if(this.props.enableTouch){var t=e.changedTouches[0].screenX,n=e.changedTouches[0].screenY,r=Math.abs(this.touchStartX-t);r<Math.abs(this.touchStartY-n)||r<40||(t<this.touchStartX?this.props.next():this.props.previous())}}},{key:"renderItems",value:function(e,n){var r=this,i=this.props.slide;return t.createElement("div",{className:n},e.map((function(e,n){var a=n===r.state.activeIndex;return t.cloneElement(e,{in:a,slide:i})})))}},{key:"render",value:function(){var e=this,n=this.props,r=n.cssModule,i=n.slide,a=n.className,o=n.dark,s=n.fade,u=qn(Be(a,"carousel",s,i&&"slide",o&&"carousel-dark"),r),c=qn(Be("carousel-inner"),r),l=this.props.children.filter((function(e){return null!==e&&void 0!==e&&"boolean"!==typeof e}));if(l.every((function(e){return e.type===$a})))return t.createElement("div",{className:u,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},t.createElement(Ja.Provider,{value:this.getContextValue()},this.renderItems(l,c)));if(l[0]instanceof Array){var f=l[0],h=l[1],d=l[2];return t.createElement("div",{className:u,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},t.createElement(Ja.Provider,{value:this.getContextValue()},this.renderItems(f,c),h,d))}var p=l[0],v=t.cloneElement(p,{onClickHandler:function(t){"function"===typeof p.props.onClickHandler&&e.setState({indicatorClicked:!0},(function(){return p.props.onClickHandler(t)}))}}),m=l[1],g=l[2],y=l[3];return t.createElement("div",{className:u,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},t.createElement(Ja.Provider,{value:this.getContextValue()},v,this.renderItems(m,c),g,y))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=null,r=t.activeIndex,i=t.direction,a=t.indicatorClicked;return e.activeIndex!==r&&(e.activeIndex===r+1?i="end":e.activeIndex===r-1?i="start":e.activeIndex<r?i=a?"start":"end":e.activeIndex!==r&&(i=a?"end":"start"),n={activeIndex:e.activeIndex,direction:i,indicatorClicked:!1}),n}}]),r}(t.Component);Xa.propTypes={activeIndex:M.number,next:M.func.isRequired,previous:M.func.isRequired,keyboard:M.bool,pause:M.oneOf(["hover",!1]),ride:M.oneOf(["carousel"]),interval:M.oneOfType([M.number,M.string,M.bool]),children:M.array,mouseEnter:M.func,mouseLeave:M.func,slide:M.bool,dark:M.bool,cssModule:M.object,className:M.string,enableTouch:M.bool},Xa.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0,enableTouch:!0,fade:!1},Xa.childContextTypes={direction:M.string};var Za=Xa,eo=function(e){var n=e.direction,r=e.onClickHandler,i=e.cssModule,a=e.directionText,o=e.className,s=qn(Be(o,"carousel-control-".concat(n)),i),u=qn(Be("carousel-control-".concat(n,"-icon")),i),c=qn(Be("visually-hidden"),i);return t.createElement("a",{className:s,style:{cursor:"pointer"},role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),r()}},t.createElement("span",{className:u,"aria-hidden":"true"}),t.createElement("span",{className:c},a||n))};eo.propTypes={direction:M.oneOf(["prev","next"]).isRequired,onClickHandler:M.func.isRequired,cssModule:M.object,directionText:M.string,className:M.string};var to=eo,no=function(e){var n=e.items,r=e.activeIndex,i=e.cssModule,a=e.onClickHandler,o=e.className,s=qn(Be(o,"carousel-indicators"),i),u=n.map((function(e,n){var o=qn(Be({active:r===n}),i);return t.createElement("button",{"aria-label":e.caption,"data-bs-target":!0,key:"".concat(e.key||Object.values(e).join("")),onClick:function(e){e.preventDefault(),a(n)},className:o},e.caption)}));return t.createElement("div",{className:s},u)};no.propTypes={items:M.array.isRequired,activeIndex:M.number.isRequired,cssModule:M.object,onClickHandler:M.func.isRequired,className:M.string};var ro=no,io=function(e){var n=e.captionHeader,r=e.captionText,i=e.cssModule,a=e.className,o=qn(Be(a,"carousel-caption","d-none","d-md-block"),i);return t.createElement("div",{className:o},t.createElement("h3",null,n),t.createElement("p",null,r))};io.propTypes={captionHeader:M.node,captionText:M.node.isRequired,cssModule:M.object,className:M.string};var ao=io,oo=["defaultActiveIndex","autoPlay","indicators","controls","items","goToIndex"],so={items:M.array.isRequired,indicators:M.bool,controls:M.bool,autoPlay:M.bool,defaultActiveIndex:M.number,activeIndex:M.number,next:M.func,previous:M.func,goToIndex:M.func},uo=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).animating=!1,t.state={activeIndex:e.defaultActiveIndex||0},t.next=t.next.bind(Me(t)),t.previous=t.previous.bind(Me(t)),t.goToIndex=t.goToIndex.bind(Me(t)),t.onExiting=t.onExiting.bind(Me(t)),t.onExited=t.onExited.bind(Me(t)),t}return De(r,[{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,n=this.props,r=(n.defaultActiveIndex,n.autoPlay),i=n.indicators,a=n.controls,o=n.items,s=n.goToIndex,u=Fn(n,oo),c=this.state.activeIndex,l=o.map((function(n){var r=n.key||n.src;return t.createElement($a,{onExiting:e.onExiting,onExited:e.onExited,key:r},t.createElement("img",{className:"d-block w-100",src:n.src,alt:n.altText}),t.createElement(ao,{captionText:n.caption,captionHeader:n.header||n.caption}))}));return t.createElement(Za,Ln({activeIndex:c,next:this.next,previous:this.previous,ride:r?"carousel":void 0},u),i&&t.createElement(ro,{items:o,activeIndex:u.activeIndex||c,onClickHandler:s||this.goToIndex}),l,a&&t.createElement(to,{direction:"prev",directionText:"Previous",onClickHandler:u.previous||this.previous}),a&&t.createElement(to,{direction:"next",directionText:"Next",onClickHandler:u.next||this.next}))}}]),r}(t.Component);uo.propTypes=so,uo.defaultProps={controls:!0,indicators:!0,autoPlay:!0};var co=["className","cssModule","tag"],lo={tag:Xn,className:M.string,cssModule:M.object},fo=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,co),o=qn(Be(n,"card-subtitle"),r);return t.createElement(i,Ln({},a,{className:o}))};fo.propTypes=lo,fo.defaultProps={tag:"div"};var ho=["className","cssModule","tag"],po={tag:Xn,className:M.string,cssModule:M.object},vo=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,ho),o=qn(Be(n,"card-text"),r);return t.createElement(i,Ln({},a,{className:o}))};vo.propTypes=po,vo.defaultProps={tag:"p"};var mo=["className","cssModule","tag"],go={tag:Xn,className:M.string,cssModule:M.object},yo=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,mo),o=qn(Be(n,"card-title"),r);return t.createElement(i,Ln({},a,{className:o}))};yo.propTypes=go,yo.defaultProps={tag:"div"};var ko=["cssModule","children","isOpen","flip","target","offset","fallbackPlacements","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","strategy","boundariesElement","onClosed","fade","transition","placement"];var bo={children:M.oneOfType([M.node,M.func]).isRequired,popperClassName:M.string,placement:M.string,placementPrefix:M.string,arrowClassName:M.string,hideArrow:M.bool,tag:Xn,isOpen:M.bool.isRequired,cssModule:M.object,offset:M.arrayOf(M.number),fallbackPlacements:M.array,flip:M.bool,container:Jn,target:Jn.isRequired,modifiers:M.array,strategy:M.string,boundariesElement:M.oneOfType([M.string,$n]),onClosed:M.func,fade:M.bool,transition:M.shape(Wi.propTypes)},wo={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:[0,0],flip:!0,container:"body",modifiers:[],onClosed:function(){},fade:!0,transition:Dn({},Wi.defaultProps)},xo=function(e){Le(i,e);var n=ze(i);function i(e){var t;return Pe(this,i),(t=n.call(this,e)).setTargetNode=t.setTargetNode.bind(Me(t)),t.getTargetNode=t.getTargetNode.bind(Me(t)),t.getRef=t.getRef.bind(Me(t)),t.onClosed=t.onClosed.bind(Me(t)),t.state={isOpen:e.isOpen},t}return De(i,[{key:"componentDidUpdate",value:function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()}},{key:"setTargetNode",value:function(e){this.targetNode="string"===typeof e?hr(e):e}},{key:"getTargetNode",value:function(){return this.targetNode}},{key:"getContainerNode",value:function(){return hr(this.props.container)}},{key:"getRef",value:function(e){this._element=e}},{key:"onClosed",value:function(){this.props.onClosed(),this.setState({isOpen:!1})}},{key:"renderChildren",value:function(){var e=this.props,n=e.cssModule,r=e.children,i=e.isOpen,a=e.flip,o=(e.target,e.offset),s=e.fallbackPlacements,u=e.placementPrefix,c=e.arrowClassName,l=e.hideArrow,f=e.popperClassName,h=e.tag,d=(e.container,e.modifiers),p=e.strategy,v=e.boundariesElement,m=(e.onClosed,e.fade),g=e.transition,y=e.placement,k=Fn(e,ko),b=qn(Be("arrow",c),n),w=qn(Be(f,u?"".concat(u,"-auto"):""),this.props.cssModule),x=d.map((function(e){return e.name})),E=[{name:"offset",options:{offset:o}},{name:"flip",enabled:a,options:{fallbackPlacements:s}},{name:"preventOverflow",options:{boundary:v}}].filter((function(e){return!x.includes(e.name)})),T=[].concat(Ae(E),Ae(d)),_=Dn(Dn(Dn({},Wi.defaultProps),g),{},{baseClass:m?g.baseClass:"",timeout:m?g.timeout:0});return t.createElement(Wi,Ln({},_,k,{in:i,onExited:this.onClosed,tag:h}),t.createElement(gn,{referenceElement:this.targetNode,modifiers:T,placement:y,strategy:p},(function(e){var n=e.ref,i=e.style,a=e.placement,o=e.isReferenceHidden,s=e.arrowProps,u=e.update;return t.createElement("div",{ref:n,style:i,className:w,"data-popper-placement":a,"data-popper-reference-hidden":o?"true":void 0},"function"===typeof r?r({update:u}):r,!l&&t.createElement("span",{ref:s.ref,className:b,style:s.style}))})))}},{key:"render",value:function(){return this.setTargetNode(this.props.target),this.state.isOpen?"inline"===this.props.container?this.renderChildren():r.createPortal(t.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null}}]),i}(t.Component);xo.propTypes=bo,xo.defaultProps=wo;var Eo=xo,To=function(e,t){return t.popperManager.setTargetNode(hr(e.target)),null};To.contextTypes={popperManager:M.object.isRequired},To.propTypes={target:Jn.isRequired};var _o={children:M.oneOfType([M.node,M.func]),placement:M.oneOf(rr),target:Jn.isRequired,container:Jn,isOpen:M.bool,disabled:M.bool,hideArrow:M.bool,boundariesElement:M.oneOfType([M.string,$n]),className:M.string,innerClassName:M.string,arrowClassName:M.string,popperClassName:M.string,cssModule:M.object,toggle:M.func,autohide:M.bool,placementPrefix:M.string,delay:M.oneOfType([M.shape({show:M.number,hide:M.number}),M.number]),modifiers:M.array,strategy:M.string,offset:M.arrayOf(M.number),innerRef:M.oneOfType([M.func,M.string,M.object]),trigger:M.string,fade:M.bool,flip:M.bool},Io={show:0,hide:50},So={isOpen:!1,hideArrow:!1,autohide:!1,delay:Io,toggle:function(){},trigger:"click",fade:!0};function Co(e,t){return t&&(e===t||t.contains(e))}function No(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&t.length&&t.filter((function(t){return Co(e,t)}))[0]}var Oo=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e))._targets=[],t.currentTargetElement=null,t.addTargetEvents=t.addTargetEvents.bind(Me(t)),t.handleDocumentClick=t.handleDocumentClick.bind(Me(t)),t.removeTargetEvents=t.removeTargetEvents.bind(Me(t)),t.toggle=t.toggle.bind(Me(t)),t.showWithDelay=t.showWithDelay.bind(Me(t)),t.hideWithDelay=t.hideWithDelay.bind(Me(t)),t.onMouseOverTooltipContent=t.onMouseOverTooltipContent.bind(Me(t)),t.onMouseLeaveTooltipContent=t.onMouseLeaveTooltipContent.bind(Me(t)),t.show=t.show.bind(Me(t)),t.hide=t.hide.bind(Me(t)),t.onEscKeyDown=t.onEscKeyDown.bind(Me(t)),t.getRef=t.getRef.bind(Me(t)),t.state={isOpen:e.isOpen},t._isMounted=!1,t}return De(r,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.updateTarget()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()}},{key:"onMouseOverTooltipContent",value:function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())}},{key:"onMouseLeaveTooltipContent",value:function(e){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))}},{key:"onEscKeyDown",value:function(e){"Escape"===e.key&&this.hide(e)}},{key:"getRef",value:function(e){var t=this.props.innerRef;t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e)),this._popover=e}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===typeof t?isNaN(t[e])?Io[e]:t[e]:t}},{key:"getCurrentTarget",value:function(e){if(!e)return null;var t=this._targets.indexOf(e);return t>=0?this._targets[t]:this.getCurrentTarget(e.parentElement)}},{key:"show",value:function(e){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=e?e.currentTarget||this.getCurrentTarget(e.target):null,e&&e.composedPath&&"function"===typeof e.composedPath){var t=e.composedPath();this.currentTargetElement=t&&t[0]||this.currentTargetElement}this.toggle(e)}}},{key:"showWithDelay",value:function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))}},{key:"hide",value:function(e){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(e))}},{key:"hideWithDelay",value:function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"handleDocumentClick",value:function(e){var t=this.props.trigger.split(" ");t.indexOf("legacy")>-1&&(this.props.isOpen||No(e.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!Co(e.target,this._popover)?this.hideWithDelay(e):this.props.isOpen||this.showWithDelay(e)):t.indexOf("click")>-1&&No(e.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(e):this.showWithDelay(e))}},{key:"addEventOnTargets",value:function(e,t,n){this._targets.forEach((function(r){r.addEventListener(e,t,n)}))}},{key:"removeEventOnTargets",value:function(e,t,n){this._targets.forEach((function(r){r.removeEventListener(e,t,n)}))}},{key:"addTargetEvents",value:function(){if(this.props.trigger){var e=this.props.trigger.split(" ");-1===e.indexOf("manual")&&((e.indexOf("click")>-1||e.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(e.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),e.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}}},{key:"removeTargetEvents",value:function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)}},{key:"updateTarget",value:function(){var e=hr(this.props.target,!0);e!==this._targets&&(this.removeTargetEvents(),this._targets=e?Array.from(e):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())}},{key:"toggle",value:function(e){return this.props.disabled||!this._isMounted?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){var e=this;this.props.isOpen&&this.updateTarget();var n=this.currentTargetElement||this._targets[0];if(!n)return null;var r=this.props,i=r.className,a=r.cssModule,o=r.innerClassName,s=r.isOpen,u=r.hideArrow,c=r.boundariesElement,l=r.placement,f=r.placementPrefix,h=r.arrowClassName,d=r.popperClassName,p=r.container,v=r.modifiers,m=r.strategy,g=r.offset,y=r.fade,k=r.flip,b=r.children,w=Wn(this.props,Object.keys(_o)),x=qn(d,a),E=qn(o,a);return t.createElement(Eo,{className:i,target:n,isOpen:s,hideArrow:u,boundariesElement:c,placement:l,placementPrefix:f,arrowClassName:h,popperClassName:x,container:p,modifiers:v,strategy:m,offset:g,cssModule:a,fade:y,flip:k},(function(n){var r=n.update;return t.createElement("div",Ln({},w,{ref:e.getRef,className:E,role:"tooltip",onMouseOver:e.onMouseOverTooltipContent,onMouseLeave:e.onMouseLeaveTooltipContent,onKeyDown:e.onEscKeyDown}),"function"===typeof b?b({update:r}):b)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null}}]),r}(t.Component);Oo.propTypes=_o,Oo.defaultProps=So;var Ao=Oo,Po=function(e){var n=Be("popover","show",e.popperClassName),r=Be("popover-inner",e.innerClassName);return t.createElement(Ao,Ln({},e,{arrowClassName:"popover-arrow",popperClassName:n,innerClassName:r}))};Po.propTypes=_o,Po.defaultProps={placement:"right",placementPrefix:"bs-popover",trigger:"click",offset:[0,8]};var Ro=Po,Do=["defaultOpen"];(function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).state={isOpen:e.defaultOpen||!1},t.toggle=t.toggle.bind(Me(t)),t}return De(r,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return t.createElement(Ro,Ln({isOpen:this.state.isOpen,toggle:this.toggle},Wn(this.props,Do)))}}]),r}(t.Component)).propTypes=Dn({defaultOpen:M.bool},Ro.propTypes);var Mo=["className","cssModule","tag"],Lo={tag:Xn,className:M.string,cssModule:M.object},Fo=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,Mo),o=qn(Be(n,"popover-header"),r);return t.createElement(i,Ln({},a,{className:o}))};Fo.propTypes=Lo,Fo.defaultProps={tag:"h3"};var jo=["className","cssModule","tag"],Uo={tag:Xn,className:M.string,cssModule:M.object},Vo=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,jo),o=qn(Be(n,"popover-body"),r);return t.createElement(i,Ln({},a,{className:o}))};Vo.propTypes=Uo,Vo.defaultProps={tag:"div"};var zo=["children","className","barClassName","cssModule","value","min","max","animated","striped","color","bar","multi","tag","style","barStyle","barAriaValueText","barAriaLabelledBy"],Bo={children:M.node,bar:M.bool,multi:M.bool,tag:Xn,value:M.oneOfType([M.string,M.number]),min:M.oneOfType([M.string,M.number]),max:M.oneOfType([M.string,M.number]),animated:M.bool,striped:M.bool,color:M.string,className:M.string,barClassName:M.string,cssModule:M.object,style:M.object,barStyle:M.object,barAriaValueText:M.string,barAriaLabelledBy:M.string},qo=function(e){var n=e.children,r=e.className,i=e.barClassName,a=e.cssModule,o=e.value,s=e.min,u=e.max,c=e.animated,l=e.striped,f=e.color,h=e.bar,d=e.multi,p=e.tag,v=e.style,m=e.barStyle,g=e.barAriaValueText,y=e.barAriaLabelledBy,k=Fn(e,zo),b=sr(o)/sr(u)*100,w=qn(Be(r,"progress"),a),x={className:qn(Be("progress-bar",h&&r||i,c?"progress-bar-animated":null,f?"bg-".concat(f):null,l||c?"progress-bar-striped":null),a),style:Dn(Dn(Dn({},h?v:{}),m),{},{width:"".concat(b,"%")}),role:"progressbar","aria-valuenow":o,"aria-valuemin":s,"aria-valuemax":u,"aria-valuetext":g,"aria-labelledby":y,children:n};return h?t.createElement(p,Ln({},k,x)):t.createElement(p,Ln({},k,{style:v,className:w}),d?n:t.createElement("div",x))};qo.propTypes=Bo,qo.defaultProps={tag:"div",value:0,min:0,max:100,style:{},barStyle:{}};var Wo={children:M.node.isRequired,node:M.any},Ho=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return ir?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),r.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),n}(t.Component);Ho.propTypes=Wo;var Ko=Ho;function Go(){}var Qo=M.shape(Wi.propTypes),Yo={isOpen:M.bool,autoFocus:M.bool,centered:M.bool,fullscreen:M.oneOfType([M.bool,M.oneOf(["sm","md","lg","xl"])]),scrollable:M.bool,size:M.string,toggle:M.func,keyboard:M.bool,role:M.string,labelledBy:M.string,backdrop:M.oneOfType([M.bool,M.oneOf(["static"])]),onEnter:M.func,onExit:M.func,onOpened:M.func,onClosed:M.func,children:M.node,className:M.string,wrapClassName:M.string,modalClassName:M.string,backdropClassName:M.string,contentClassName:M.string,external:M.node,fade:M.bool,cssModule:M.object,zIndex:M.oneOfType([M.number,M.string]),backdropTransition:Qo,modalTransition:Qo,innerRef:M.oneOfType([M.object,M.string,M.func]),unmountOnClose:M.bool,returnFocusAfterClose:M.bool,container:Jn,trapFocus:M.bool},$o=Object.keys(Yo),Jo={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:Go,onClosed:Go,modalTransition:{timeout:Zn.Modal},backdropTransition:{mountOnEnter:!0,timeout:Zn.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},Xo=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e))._element=null,t._originalBodyPadding=null,t.getFocusableChildren=t.getFocusableChildren.bind(Me(t)),t.handleBackdropClick=t.handleBackdropClick.bind(Me(t)),t.handleBackdropMouseDown=t.handleBackdropMouseDown.bind(Me(t)),t.handleEscape=t.handleEscape.bind(Me(t)),t.handleStaticBackdropAnimation=t.handleStaticBackdropAnimation.bind(Me(t)),t.handleTab=t.handleTab.bind(Me(t)),t.onOpened=t.onOpened.bind(Me(t)),t.onClosed=t.onClosed.bind(Me(t)),t.manageFocusAfterClose=t.manageFocusAfterClose.bind(Me(t)),t.clearBackdropAnimationTimeout=t.clearBackdropAnimationTimeout.bind(Me(t)),t.trapFocus=t.trapFocus.bind(Me(t)),t.state={isOpen:!1,showStaticBackdropAnimation:!1},t}return De(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.autoFocus,r=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),r&&r(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"trapFocus",value:function(e){if(this.props.trapFocus&&this._element&&(!this._dialog||this._dialog.parentNode!==e.target)&&!(this.modalIndex<r.openCount-1)){for(var t=this.getFocusableChildren(),n=0;n<t.length;n++)if(t[n]===e.target)return;t.length>0&&(e.preventDefault(),e.stopPropagation(),t[0].focus())}}},{key:"onOpened",value:function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||Go)(e,t)}},{key:"onClosed",value:function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||Go)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(vr.join(", "))}},{key:"getFocusedChild",value:function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e}},{key:"handleBackdropClick",value:function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}}},{key:"handleTab",value:function(e){if(9===e.which&&!(this.modalIndex<r.openCount-1)){var t=this.getFocusableChildren(),n=t.length;if(0!==n){for(var i=this.getFocusedChild(),a=0,o=0;o<n;o+=1)if(t[o]===i){a=o;break}e.shiftKey&&0===a?(e.preventDefault(),t[n-1].focus()):e.shiftKey||a!==n-1||(e.preventDefault(),t[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(e){this._mouseDownElement=e.target}},{key:"handleEscape",value:function(e){this.props.isOpen&&e.keyCode===nr.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))}},{key:"handleStaticBackdropAnimation",value:function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){e.setState({showStaticBackdropAnimation:!1})}),100)}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=hr(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=zn(),Bn(),0===r.openCount&&(document.body.className=Be(document.body.className,qn("modal-open",this.props.cssModule))),this.modalIndex=r.openCount,r.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){if(r.openCount<=1){var e=qn("modal-open",this.props.cssModule),t=new RegExp("(^| )".concat(e,"( |$)"));document.body.className=document.body.className.replace(t," ").trim()}this.manageFocusAfterClose(),r.openCount=Math.max(0,r.openCount-1),Un(this._originalBodyPadding)}},{key:"renderModalDialog",value:function(){var e,n=this,r=Wn(this.props,$o),i="modal-dialog";return t.createElement("div",Ln({},r,{className:qn(Be(i,this.props.className,(e={},xe(e,"modal-".concat(this.props.size),this.props.size),xe(e,"".concat(i,"-centered"),this.props.centered),xe(e,"".concat(i,"-scrollable"),this.props.scrollable),xe(e,"modal-fullscreen",!0===this.props.fullscreen),xe(e,"modal-fullscreen-".concat(this.props.fullscreen,"-down"),"string"===typeof this.props.fullscreen),e)),this.props.cssModule),role:"document",ref:function(e){n._dialog=e}}),t.createElement("div",{className:qn(Be("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var n=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=n?"none":"block";var r=this.props,i=r.wrapClassName,a=r.modalClassName,o=r.backdropClassName,s=r.cssModule,u=r.isOpen,c=r.backdrop,l=r.role,f=r.labelledBy,h=r.external,d=r.innerRef,p={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":f,role:l,tabIndex:"-1"},v=this.props.fade,m=Dn(Dn(Dn({},Wi.defaultProps),this.props.modalTransition),{},{baseClass:v?this.props.modalTransition.baseClass:"",timeout:v?this.props.modalTransition.timeout:0}),g=Dn(Dn(Dn({},Wi.defaultProps),this.props.backdropTransition),{},{baseClass:v?this.props.backdropTransition.baseClass:"",timeout:v?this.props.backdropTransition.timeout:0}),y=c&&(v?t.createElement(Wi,Ln({},g,{in:u&&!!c,cssModule:s,className:qn(Be("modal-backdrop",o),s)})):t.createElement("div",{className:qn(Be("modal-backdrop","show",o),s)}));return t.createElement(Ko,{node:this._element},t.createElement("div",{className:qn(i)},t.createElement(Wi,Ln({},p,m,{in:u,onEntered:this.onOpened,onExited:this.onClosed,cssModule:s,className:qn(Be("modal",a,this.state.showStaticBackdropAnimation&&"modal-static"),s),innerRef:d}),h,this.renderModalDialog()),y))}return null}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}}]),r}(t.Component);Xo.propTypes=Yo,Xo.defaultProps=Jo,Xo.openCount=0;var Zo=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"],es={tag:Xn,wrapTag:Xn,toggle:M.func,className:M.string,cssModule:M.object,children:M.node,closeAriaLabel:M.string,close:M.object},ts=function(e){var n,r=e.className,i=e.cssModule,a=e.children,o=e.toggle,s=e.tag,u=e.wrapTag,c=e.closeAriaLabel,l=e.close,f=Fn(e,Zo),h=qn(Be(r,"modal-header"),i);return!l&&o&&(n=t.createElement("button",{type:"button",onClick:o,className:qn("btn-close",i),"aria-label":c})),t.createElement(u,Ln({},f,{className:h}),t.createElement(s,{className:qn("modal-title",i)},a),l||n)};ts.propTypes=es,ts.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close"};var ns=["className","cssModule","tag"],rs={tag:Xn,className:M.string,cssModule:M.object},is=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,ns),o=qn(Be(n,"modal-body"),r);return t.createElement(i,Ln({},a,{className:o}))};is.propTypes=rs,is.defaultProps={tag:"div"};var as=["className","cssModule","tag"],os={tag:Xn,className:M.string,cssModule:M.object},ss=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,as),o=qn(Be(n,"modal-footer"),r);return t.createElement(i,Ln({},a,{className:o}))};ss.propTypes=os,ss.defaultProps={tag:"div"};var us=function(e){var n=Be("tooltip","show",e.popperClassName),r=Be("tooltip-inner",e.innerClassName);return t.createElement(Ao,Ln({},e,{arrowClassName:"tooltip-arrow",popperClassName:n,innerClassName:r}))};us.propTypes=_o,us.defaultProps={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};var cs=us,ls=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],fs={className:M.string,cssModule:M.object,size:M.string,bordered:M.bool,borderless:M.bool,striped:M.bool,dark:M.bool,hover:M.bool,responsive:M.oneOfType([M.bool,M.string]),tag:Xn,responsiveTag:Xn,innerRef:M.oneOfType([M.func,M.string,M.object])},hs=function(e){var n=e.className,r=e.cssModule,i=e.size,a=e.bordered,o=e.borderless,s=e.striped,u=e.dark,c=e.hover,l=e.responsive,f=e.tag,h=e.responsiveTag,d=e.innerRef,p=Fn(e,ls),v=qn(Be(n,"table",!!i&&"table-"+i,!!a&&"table-bordered",!!o&&"table-borderless",!!s&&"table-striped",!!u&&"table-dark",!!c&&"table-hover"),r),m=t.createElement(f,Ln({},p,{ref:d,className:v}));if(l){var g=qn(!0===l?"table-responsive":"table-responsive-".concat(l),r);return t.createElement(h,{className:g},m)}return m};hs.propTypes=fs,hs.defaultProps={tag:"table",responsiveTag:"div"};var ds=["className","cssModule","tag","flush","horizontal","numbered"],ps={tag:Xn,flush:M.bool,className:M.string,cssModule:M.object,horizontal:M.oneOfType([M.bool,M.string]),numbered:M.bool},vs=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=e.flush,o=e.horizontal,s=e.numbered,u=Fn(e,ds),c=qn(Be(n,"list-group",a?"list-group-flush":function(e){return!1!==e&&(!0===e||"xs"===e?"list-group-horizontal":"list-group-horizontal-".concat(e))}(o),{"list-group-numbered":s}),r);return t.createElement(i,Ln({},u,{className:c}))};vs.propTypes=ps,vs.defaultProps={tag:"ul",horizontal:!1,numbered:!1};var ms=["className","cssModule","inline","tag","innerRef"],gs={children:M.node,inline:M.bool,tag:Xn,innerRef:M.oneOfType([M.object,M.func,M.string]),className:M.string,cssModule:M.object},ys=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).getRef=t.getRef.bind(Me(t)),t.submit=t.submit.bind(Me(t)),t}return De(r,[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.cssModule,i=e.inline,a=e.tag,o=e.innerRef,s=Fn(e,ms),u=qn(Be(n,!!i&&"form-inline"),r);return t.createElement(a,Ln({},s,{ref:o,className:u}))}}]),r}(t.Component);ys.propTypes=gs,ys.defaultProps={tag:"form"};var ks=["className","cssModule","valid","tooltip","tag"],bs={children:M.node,tag:Xn,className:M.string,cssModule:M.object,valid:M.bool,tooltip:M.bool},ws={tag:"div",valid:void 0},xs=function(e){var n=e.className,r=e.cssModule,i=e.valid,a=e.tooltip,o=e.tag,s=Fn(e,ks),u=a?"tooltip":"feedback",c=qn(Be(n,i?"valid-".concat(u):"invalid-".concat(u)),r);return t.createElement(o,Ln({},s,{className:c}))};xs.propTypes=bs,xs.defaultProps=ws;var Es=["className","cssModule","row","disabled","check","inline","floating","tag"],Ts={children:M.node,row:M.bool,check:M.bool,switch:M.bool,inline:M.bool,floating:M.bool,disabled:M.bool,tag:Xn,className:M.string,cssModule:M.object},_s=function(e){var n=e.className,r=e.cssModule,i=e.row,a=e.disabled,o=e.check,s=e.inline,u=e.floating,c=e.tag,l=Fn(e,Es),f=o||e.switch,h=qn(Be(n,!!i&&"row",f?"form-check":"mb-3",!!e.switch&&"form-switch",!(!f||!s)&&"form-check-inline",!(!f||!a)&&"disabled",u&&"form-floating"),r);return"fieldset"===c&&(l.disabled=a),t.createElement(c,Ln({},l,{className:h}))};_s.propTypes=Ts,_s.defaultProps={tag:"div"};var Is=_s,Ss=["className","cssModule","inline","color","tag"],Cs={children:M.node,inline:M.bool,tag:Xn,color:M.string,className:M.string,cssModule:M.object},Ns=function(e){var n=e.className,r=e.cssModule,i=e.inline,a=e.color,o=e.tag,s=Fn(e,Ss),u=qn(Be(n,!i&&"form-text",!!a&&"text-".concat(a)),r);return t.createElement(o,Ln({},s,{className:u}))};Ns.propTypes=Cs,Ns.defaultProps={tag:"small",color:"muted"};var Os=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],As={children:M.node,type:M.string,size:M.oneOfType([M.number,M.string]),bsSize:M.string,valid:M.bool,invalid:M.bool,tag:Xn,innerRef:M.oneOfType([M.object,M.func,M.string]),plaintext:M.bool,addon:M.bool,className:M.string,cssModule:M.object},Ps=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).getRef=t.getRef.bind(Me(t)),t.focus=t.focus.bind(Me(t)),t}return De(r,[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.cssModule,i=e.type,a=e.bsSize,o=e.valid,s=e.invalid,u=e.tag,c=e.addon,l=e.plaintext,f=e.innerRef,h=Fn(e,Os),d=["switch","radio","checkbox"].indexOf(i)>-1,p=new RegExp("\\D","g"),v="select"===i,m="range"===i,g=u||(v||"textarea"===i?i:"input"),y="form-control";l?(y="".concat(y,"-plaintext"),g=u||"input"):m?y="form-range":v?y="form-select":d&&(y=c?null:"form-check-input"),h.size&&p.test(h.size)&&(Gn('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),a=h.size,delete h.size);var k=qn(Be(n,s&&"is-invalid",o&&"is-valid",!!a&&(v?"form-select-".concat(a):"form-control-".concat(a)),y),r);return("input"===g||u&&"function"===typeof u)&&(h.type="switch"===i?"checkbox":i),h.children&&!l&&"select"!==i&&"string"===typeof g&&"select"!==g&&(Gn('Input with a type of "'.concat(i,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete h.children),t.createElement(g,Ln({},h,{ref:f,className:k,"aria-invalid":s}))}}]),r}(t.Component);Ps.propTypes=As,Ps.defaultProps={type:"text"};var Rs=Ps,Ds=["className","cssModule","tag","type","size"],Ms={tag:Xn,type:M.bool,size:M.string,className:M.string,cssModule:M.object},Ls=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=(e.type,e.size),o=Fn(e,Ds),s=qn(Be(n,"input-group",a?"input-group-".concat(a):null),r);return"dropdown"===e.type?t.createElement(wi,Ln({},o,{className:s})):t.createElement(i,Ln({},o,{className:s}))};Ls.propTypes=Ms,Ls.defaultProps={tag:"div"};var Fs=["className","cssModule","tag"],js={tag:Xn,className:M.string,cssModule:M.object},Us=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,Fs),o=qn(Be(n,"input-group-text"),r);return t.createElement(i,Ln({},a,{className:o}))};Us.propTypes=js,Us.defaultProps={tag:"span"};var Vs=["className","cssModule","hidden","widths","tag","check","size","for"],zs=M.oneOfType([M.number,M.string]),Bs=M.oneOfType([M.bool,M.string,M.number,M.shape({size:zs,order:zs,offset:zs})]),qs={children:M.node,hidden:M.bool,check:M.bool,size:M.string,for:M.string,tag:Xn,className:M.string,cssModule:M.object,xs:Bs,sm:Bs,md:Bs,lg:Bs,xl:Bs,xxl:Bs,widths:M.array},Ws={tag:"label",widths:["xs","sm","md","lg","xl","xxl"]},Hs=function(e,t,n){return!0===n||""===n?e?"col":"col-".concat(t):"auto"===n?e?"col-auto":"col-".concat(t,"-auto"):e?"col-".concat(n):"col-".concat(t,"-").concat(n)},Ks=function(e){var n=e.className,r=e.cssModule,i=e.hidden,a=e.widths,o=e.tag,s=e.check,u=e.size,c=e.for,l=Fn(e,Vs),f=[];a.forEach((function(t,n){var i=e[t];if(delete l[t],i||""===i){var a,o=!n;if(ur(i)){var s,u=o?"-":"-".concat(t,"-");a=Hs(o,t,i.size),f.push(qn(Be((xe(s={},a,i.size||""===i.size),xe(s,"order".concat(u).concat(i.order),i.order||0===i.order),xe(s,"offset".concat(u).concat(i.offset),i.offset||0===i.offset),s))),r)}else a=Hs(o,t,i),f.push(a)}}));var h=qn(Be(n,!!i&&"visually-hidden",!!s&&"form-check-label",!!u&&"col-form-label-".concat(u),f,f.length?"col-form-label":"form-label"),r);return t.createElement(o,Ln({htmlFor:c},l,{className:h}))};Ks.propTypes=qs,Ks.defaultProps=Ws;var Gs=["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"],Qs={body:M.bool,bottom:M.bool,children:M.node,className:M.string,cssModule:M.object,heading:M.bool,left:M.bool,list:M.bool,middle:M.bool,object:M.bool,right:M.bool,tag:Xn,top:M.bool},Ys=function(e){var n,r=e.body,i=e.bottom,a=e.className,o=e.cssModule,s=e.heading,u=e.left,c=e.list,l=e.middle,f=e.object,h=e.right,d=e.tag,p=e.top,v=Fn(e,Gs);n=s?"h4":v.href?"a":v.src||f?"img":c?"ul":"div";var m=d||n,g=qn(Be(a,{"media-body":r,"media-heading":s,"media-left":u,"media-right":h,"media-top":p,"media-bottom":i,"media-middle":l,"media-object":f,"media-list":c,media:!r&&!s&&!u&&!h&&!p&&!i&&!l&&!f&&!c}),o);return t.createElement(m,Ln({},v,{className:g}))};Ys.propTypes=Qs;function $s(){}var Js=M.shape(Wi.propTypes),Xs={autoFocus:M.bool,backdrop:M.bool,backdropClassName:M.string,backdropTransition:Js,children:M.node,className:M.string,container:Jn,cssModule:M.object,direction:M.oneOf(["start","end","bottom","top","left","right"]),fade:M.bool,innerRef:M.oneOfType([M.object,M.string,M.func]),isOpen:M.bool,keyboard:M.bool,labelledBy:M.string,offcanvasTransition:Js,onClosed:M.func,onEnter:M.func,onExit:M.func,onOpened:M.func,returnFocusAfterClose:M.bool,role:M.string,scrollable:M.bool,toggle:M.func,trapFocus:M.bool,unmountOnClose:M.bool,zIndex:M.oneOfType([M.number,M.string])},Zs=Object.keys(Xs),eu={isOpen:!1,autoFocus:!0,direction:"start",scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:$s,onClosed:$s,offcanvasTransition:{timeout:Zn.Offcanvas},backdropTransition:{mountOnEnter:!0,timeout:Zn.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},tu=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e))._element=null,t._originalBodyPadding=null,t.getFocusableChildren=t.getFocusableChildren.bind(Me(t)),t.handleBackdropClick=t.handleBackdropClick.bind(Me(t)),t.handleBackdropMouseDown=t.handleBackdropMouseDown.bind(Me(t)),t.handleEscape=t.handleEscape.bind(Me(t)),t.handleTab=t.handleTab.bind(Me(t)),t.onOpened=t.onOpened.bind(Me(t)),t.onClosed=t.onClosed.bind(Me(t)),t.manageFocusAfterClose=t.manageFocusAfterClose.bind(Me(t)),t.clearBackdropAnimationTimeout=t.clearBackdropAnimationTimeout.bind(Me(t)),t.trapFocus=t.trapFocus.bind(Me(t)),t.state={isOpen:!1},t}return De(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.autoFocus,r=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),r&&r(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"trapFocus",value:function(e){if(this.props.trapFocus&&this._element&&this._dialog!==e.target&&!(this.offcanvasIndex<r.openCount-1)){for(var t=this.getFocusableChildren(),n=0;n<t.length;n++)if(t[n]===e.target)return;t.length>0&&(e.preventDefault(),e.stopPropagation(),t[0].focus())}}},{key:"onOpened",value:function(e,t){this.props.onOpened(),(this.props.offcanvasTransition.onEntered||$s)(e,t)}},{key:"onClosed",value:function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.offcanvasTransition.onExited||$s)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&"function"===typeof this._dialog.focus&&this._dialog.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(vr.join(", "))}},{key:"getFocusedChild",value:function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e}},{key:"handleBackdropClick",value:function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._backdrop;if(!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}}},{key:"handleTab",value:function(e){if(9===e.which&&!(this.offcanvasIndex<r.openCount-1)){var t=this.getFocusableChildren(),n=t.length;if(0!==n){for(var i=this.getFocusedChild(),a=0,o=0;o<n;o+=1)if(t[o]===i){a=o;break}e.shiftKey&&0===a?(e.preventDefault(),t[n-1].focus()):e.shiftKey||a!==n-1||(e.preventDefault(),t[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(e){this._mouseDownElement=e.target}},{key:"handleEscape",value:function(e){this.props.isOpen&&e.keyCode===nr.esc&&this.props.toggle&&this.props.keyboard&&(e.preventDefault(),e.stopPropagation(),this.props.toggle(e))}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=hr(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=zn(),Bn(),0===r.openCount&&this.props.backdrop&&!this.props.scrollable&&(document.body.style.overflow="hidden"),this.offcanvasIndex=r.openCount,r.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){this.manageFocusAfterClose(),r.openCount=Math.max(0,r.openCount-1),document.body.style.overflow=null,Un(this._originalBodyPadding)}},{key:"render",value:function(){var e=this,n=this.props,r=n.direction,i=n.unmountOnClose;if(this._element&&(this.state.isOpen||!i)){var a=!!this._element&&!this.state.isOpen&&!i;this._element.style.display=a?"none":"block";var o=this.props,s=o.className,u=o.backdropClassName,c=o.cssModule,l=o.isOpen,f=o.backdrop,h=o.role,d=o.labelledBy,p=o.style,v={onKeyUp:this.handleEscape,onKeyDown:this.handleTab,"aria-labelledby":d,role:h,tabIndex:"-1"},m=this.props.fade,g=Dn(Dn(Dn({},Wi.defaultProps),this.props.offcanvasTransition),{},{baseClass:m?this.props.offcanvasTransition.baseClass:"",timeout:m?this.props.offcanvasTransition.timeout:0}),y=Dn(Dn(Dn({},Wi.defaultProps),this.props.backdropTransition),{},{baseClass:m?this.props.backdropTransition.baseClass:"",timeout:m?this.props.backdropTransition.timeout:0}),k=f&&(m?t.createElement(Wi,Ln({},y,{in:l&&!!f,innerRef:function(t){e._backdrop=t},cssModule:c,className:qn(Be("offcanvas-backdrop",u),c),onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown})):t.createElement("div",{className:qn(Be("offcanvas-backdrop","show",u),c),onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown})),b=Wn(this.props,Zs);return t.createElement(Ko,{node:this._element},t.createElement(Wi,Ln({},b,v,g,{in:l,onEntered:this.onOpened,onExited:this.onClosed,cssModule:c,className:qn(Be("offcanvas",s,"offcanvas-".concat(r)),c),innerRef:function(t){e._dialog=t},style:Dn(Dn({},p),{},{visibility:l?"visible":"hidden"})}),this.props.children),k)}return null}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}}]),r}(t.Component);tu.propTypes=Xs,tu.defaultProps=eu,tu.openCount=0;var nu=["className","cssModule","tag"],ru={tag:Xn,className:M.string,cssModule:M.object},iu=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,nu),o=qn(Be(n,"offcanvas-body"),r);return t.createElement(i,Ln({},a,{className:o}))};iu.propTypes=ru,iu.defaultProps={tag:"div"};var au=["children","className","close","closeAriaLabel","cssModule","tag","toggle","wrapTag"],ou={children:M.node,className:M.string,close:M.object,closeAriaLabel:M.string,cssModule:M.object,tag:Xn,toggle:M.func,wrapTag:Xn},su=function(e){var n,r=e.children,i=e.className,a=e.close,o=e.closeAriaLabel,s=e.cssModule,u=e.tag,c=e.toggle,l=e.wrapTag,f=Fn(e,au),h=qn(Be(i,"offcanvas-header"),s);return!a&&c&&(n=t.createElement("button",{type:"button",onClick:c,className:qn("btn-close",s),"aria-label":o})),t.createElement(l,Ln({},f,{className:h}),t.createElement(u,{className:qn("offcanvas-title",s)},r),a||n)};su.propTypes=ou,su.defaultProps={closeAriaLabel:"Close",tag:"h5",wrapTag:"div"};var uu=["className","listClassName","cssModule","size","tag","listTag","aria-label"],cu={children:M.node,className:M.string,listClassName:M.string,cssModule:M.object,size:M.string,tag:Xn,listTag:Xn,"aria-label":M.string},lu=function(e){var n=e.className,r=e.listClassName,i=e.cssModule,a=e.size,o=e.tag,s=e.listTag,u=e["aria-label"],c=Fn(e,uu),l=qn(Be(n),i),f=qn(Be(r,"pagination",xe({},"pagination-".concat(a),!!a)),i);return t.createElement(o,{className:l,"aria-label":u},t.createElement(s,Ln({},c,{className:f})))};lu.propTypes=cu,lu.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};var fu=["active","className","cssModule","disabled","tag"],hu={active:M.bool,children:M.node,className:M.string,cssModule:M.object,disabled:M.bool,tag:Xn},du=function(e){var n=e.active,r=e.className,i=e.cssModule,a=e.disabled,o=e.tag,s=Fn(e,fu),u=qn(Be(r,"page-item",{active:n,disabled:a}),i);return t.createElement(o,Ln({},s,{className:u}))};du.propTypes=hu,du.defaultProps={tag:"li"};var pu=["className","cssModule","next","previous","first","last","tag"],vu={"aria-label":M.string,children:M.node,className:M.string,cssModule:M.object,next:M.bool,previous:M.bool,first:M.bool,last:M.bool,tag:Xn},mu=function(e){var n,r=e.className,i=e.cssModule,a=e.next,o=e.previous,s=e.first,u=e.last,c=e.tag,l=Fn(e,pu),f=qn(Be(r,"page-link"),i);o?n="Previous":a?n="Next":s?n="First":u&&(n="Last");var h,d=e["aria-label"]||n;o?h="\u2039":a?h="\u203a":s?h="\xab":u&&(h="\xbb");var p=e.children;return p&&Array.isArray(p)&&0===p.length&&(p=null),l.href||"a"!==c||(c="button"),(o||a||s||u)&&(p=[t.createElement("span",{"aria-hidden":"true",key:"caret"},p||h),t.createElement("span",{className:"visually-hidden",key:"ariaLabel"},d)]),t.createElement(c,Ln({},l,{className:f,"aria-label":d}),p)};mu.propTypes=vu,mu.defaultProps={tag:"a"};var gu=t.createContext({}),yu={tag:Xn,activeTab:M.any,className:M.string,cssModule:M.object},ku=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).state={activeTab:t.props.activeTab},t}return De(r,[{key:"render",value:function(){var e=this.props,n=e.className,r=e.cssModule,i=e.tag,a=Wn(this.props,Object.keys(yu)),o=qn(Be("tab-content",n),r);return t.createElement(gu.Provider,{value:{activeTabId:this.state.activeTab}},t.createElement(i,Ln({},a,{className:o})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null}}]),r}(t.Component);ku.propTypes=yu,ku.defaultProps={tag:"div"};var bu=["className","cssModule","tabId","tag"],wu={tag:Xn,className:M.string,cssModule:M.object,tabId:M.any};function xu(e){var n=e.className,r=e.cssModule,i=e.tabId,a=e.tag,o=Fn(e,bu),s=function(e){return qn(Be("tab-pane",n,{active:i===e}),r)};return t.createElement(gu.Consumer,null,(function(e){var n=e.activeTabId;return t.createElement(a,Ln({},o,{className:s(n)}))}))}xu.propTypes=wu,xu.defaultProps={tag:"div"};var Eu=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"],Tu={children:M.node,className:M.string,closeClassName:M.string,closeAriaLabel:M.string,cssModule:M.object,color:M.string,fade:M.bool,isOpen:M.bool,toggle:M.func,tag:Xn,transition:M.shape(Wi.propTypes),innerRef:M.oneOfType([M.object,M.string,M.func])},_u={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Dn(Dn({},Wi.defaultProps),{},{unmountOnExit:!0})};function Iu(e){var n=e.className,r=e.closeClassName,i=e.closeAriaLabel,a=e.cssModule,o=e.tag,s=e.color,u=e.isOpen,c=e.toggle,l=e.children,f=e.transition,h=e.fade,d=e.innerRef,p=Fn(e,Eu),v=qn(Be(n,"alert","alert-".concat(s),{"alert-dismissible":c}),a),m=qn(Be("btn-close",r),a),g=Dn(Dn(Dn({},Wi.defaultProps),f),{},{baseClass:h?f.baseClass:"",timeout:h?f.timeout:0});return t.createElement(Wi,Ln({},p,g,{tag:o,className:v,in:u,role:"alert",innerRef:d}),c?t.createElement("button",{type:"button",className:m,"aria-label":i,onClick:c}):null,l)}Iu.propTypes=Tu,Iu.defaultProps=_u;var Su=["className","cssModule","tag","isOpen","children","transition","fade","innerRef"],Cu={children:M.node,className:M.string,cssModule:M.object,fade:M.bool,isOpen:M.bool,tag:Xn,transition:M.shape(Wi.propTypes),innerRef:M.oneOfType([M.object,M.string,M.func])},Nu={isOpen:!0,tag:"div",fade:!0,transition:Dn(Dn({},Wi.defaultProps),{},{unmountOnExit:!0})};function Ou(e){var n=e.className,r=e.cssModule,i=e.tag,a=e.isOpen,o=e.children,s=e.transition,u=e.fade,c=e.innerRef,l=Fn(e,Su),f=qn(Be(n,"toast"),r),h=Dn(Dn(Dn({},Wi.defaultProps),s),{},{baseClass:u?s.baseClass:"",timeout:u?s.timeout:0});return t.createElement(Wi,Ln({},l,h,{tag:i,className:f,in:a,role:"alert",innerRef:c}),o)}Ou.propTypes=Cu,Ou.defaultProps=Nu;var Au=["className","cssModule","innerRef","tag"],Pu={tag:Xn,className:M.string,cssModule:M.object,innerRef:M.oneOfType([M.object,M.string,M.func])},Ru=function(e){var n=e.className,r=e.cssModule,i=e.innerRef,a=e.tag,o=Fn(e,Au),s=qn(Be(n,"toast-body"),r);return t.createElement(a,Ln({},o,{className:s,ref:i}))};Ru.propTypes=Pu,Ru.defaultProps={tag:"div"};var Du=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close","tagClassName","icon"],Mu={tag:Xn,icon:M.oneOfType([M.string,M.node]),wrapTag:Xn,toggle:M.func,className:M.string,cssModule:M.object,children:M.node,closeAriaLabel:M.string,charCode:M.oneOfType([M.string,M.number]),close:M.object},Lu=function(e){var n,r,i=e.className,a=e.cssModule,o=e.children,s=e.toggle,u=e.tag,c=e.wrapTag,l=e.closeAriaLabel,f=e.close,h=e.tagClassName,d=e.icon,p=Fn(e,Du),v=qn(Be(i,"toast-header"),a);return!f&&s&&(n=t.createElement("button",{type:"button",onClick:s,className:qn("btn-close",a),"aria-label":l})),"string"===typeof d?r=t.createElement("svg",{className:qn("rounded text-".concat(d)),width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img"},t.createElement("rect",{fill:"currentColor",width:"100%",height:"100%"})):d&&(r=d),t.createElement(c,Ln({},p,{className:v}),r,t.createElement(u,{className:qn(Be(h,{"ms-2":null!=r}),a)},o),f||n)};Lu.propTypes=Mu,Lu.defaultProps={tag:"strong",wrapTag:"div",tagClassName:"me-auto",closeAriaLabel:"Close"};var Fu=["className","cssModule","tag","active","disabled","action","color"],ju={tag:Xn,active:M.bool,disabled:M.bool,color:M.string,action:M.bool,className:M.any,cssModule:M.object},Uu=function(e){e.preventDefault()},Vu=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=e.active,o=e.disabled,s=e.action,u=e.color,c=Fn(e,Fu),l=qn(Be(n,!!a&&"active",!!o&&"disabled",!!s&&"list-group-item-action",!!u&&"list-group-item-".concat(u),"list-group-item"),r);return o&&(c.onClick=Uu),t.createElement(i,Ln({},c,{className:l}))};Vu.propTypes=ju,Vu.defaultProps={tag:"li"};var zu=["className","cssModule","tag"],Bu={tag:Xn,className:M.any,cssModule:M.object},qu=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,zu),o=qn(Be(n,"list-group-item-heading"),r);return t.createElement(i,Ln({},a,{className:o}))};qu.propTypes=Bu,qu.defaultProps={tag:"h5"};var Wu=["className","cssModule","tag"],Hu={tag:Xn,className:M.any,cssModule:M.object},Ku=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=Fn(e,Wu),o=qn(Be(n,"list-group-item-text"),r);return t.createElement(i,Ln({},a,{className:o}))};Ku.propTypes=Hu,Ku.defaultProps={tag:"p"};var Gu=["className","cssModule","tag","type"],Qu={tag:Xn,className:M.string,cssModule:M.object,type:M.string},Yu=(0,t.forwardRef)((function(e,n){var r=e.className,i=e.cssModule,a=e.tag,o=e.type,s=Fn(e,Gu),u=qn(Be(r,!!o&&"list-".concat(o)),i);return t.createElement(a,Ln({},s,{className:u,ref:n}))}));Yu.name="List",Yu.propTypes=Qu,Yu.defaultProps={tag:"ul"};var $u=["className","cssModule","tag"],Ju={tag:Xn,className:M.string,cssModule:M.object},Xu=(0,t.forwardRef)((function(e,n){var r=e.className,i=e.cssModule,a=e.tag,o=Fn(e,$u),s=qn(Be(r,"list-inline-item"),i);return t.createElement(a,Ln({},o,{className:s,ref:n}))}));Xu.name="ListInlineItem",Xu.propTypes=Ju,Xu.defaultProps={tag:"li"};t.Component;var Zu=["defaultOpen"];(function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).state={isOpen:e.defaultOpen||!1},t.toggle=t.toggle.bind(Me(t)),t}return De(r,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return t.createElement(Ti,Ln({isOpen:this.state.isOpen,toggle:this.toggle},Wn(this.props,Zu)))}}]),r}(t.Component)).propTypes=Dn({defaultOpen:M.bool},Ti.propTypes);var ec=["toggleEvents","defaultOpen"],tc={defaultOpen:M.bool,toggler:M.string.isRequired,toggleEvents:M.arrayOf(M.string)},nc={toggleEvents:dr},rc=function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).togglers=null,t.removeEventListeners=null,t.toggle=t.toggle.bind(Me(t)),t.state={isOpen:e.defaultOpen||!1},t}return De(r,[{key:"componentDidMount",value:function(){this.togglers=lr(this.props.toggler),this.togglers.length&&(this.removeEventListeners=pr(this.togglers,this.toggle,this.props.toggleEvents))}},{key:"componentWillUnmount",value:function(){this.togglers.length&&this.removeEventListeners&&this.removeEventListeners()}},{key:"toggle",value:function(e){this.setState((function(e){return{isOpen:!e.isOpen}})),e.preventDefault()}},{key:"render",value:function(){return t.createElement(ua,Ln({isOpen:this.state.isOpen},Wn(this.props,ec)))}}]),r}(t.Component);rc.propTypes=tc,rc.defaultProps=nc;var ic=["defaultOpen"];(function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).state={isOpen:e.defaultOpen||!1},t.toggle=t.toggle.bind(Me(t)),t}return De(r,[{key:"toggle",value:function(e){var t=this,n=!this.state.isOpen;this.setState({isOpen:n},(function(){t.props.onToggle&&t.props.onToggle(e,n)}))}},{key:"render",value:function(){return t.createElement(wi,Ln({isOpen:this.state.isOpen,toggle:this.toggle},Wn(this.props,ic)))}}]),r}(t.Component)).propTypes=Dn({defaultOpen:M.bool,onToggle:M.func},wi.propTypes);var ac=["defaultOpen"];(function(e){Le(r,e);var n=ze(r);function r(e){var t;return Pe(this,r),(t=n.call(this,e)).state={isOpen:e.defaultOpen||!1},t.toggle=t.toggle.bind(Me(t)),t}return De(r,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return t.createElement(cs,Ln({isOpen:this.state.isOpen,toggle:this.toggle},Wn(this.props,ac)))}}]),r}(t.Component)).propTypes=Dn({defaultOpen:M.bool},cs.propTypes);var oc=["className","cssModule","type","size","color","children","tag"],sc={tag:Xn,type:M.string,size:M.string,color:M.string,className:M.string,cssModule:M.object,children:M.string},uc=function(e){var n=e.className,r=e.cssModule,i=e.type,a=e.size,o=e.color,s=e.children,u=e.tag,c=Fn(e,oc),l=qn(Be(n,!!a&&"spinner-".concat(i,"-").concat(a),"spinner-".concat(i),!!o&&"text-".concat(o)),r);return t.createElement(u,Ln({role:"status"},c,{className:l}),s&&t.createElement("span",{className:qn("visually-hidden",r)},s))};uc.propTypes=sc,uc.defaultProps={tag:"div",type:"border",children:"Loading..."};var cc=uc,lc=["className","cssModule","color","innerRef","tag","animation","size","widths"],fc=Dn(Dn({},Mr.propTypes),{},{color:M.string,tag:Xn,animation:M.oneOf(["glow","wave"]),innerRef:M.oneOfType([M.object,M.func,M.string]),size:M.oneOf(["lg","sm","xs"])}),hc=function(e){var n=e.className,r=e.cssModule,i=e.color,a=e.innerRef,o=e.tag,s=e.animation,u=e.size,c=e.widths,l=Fn(e,lc),f=Rr(l,r,c),h=f.attributes,d=f.colClasses,p=qn(Be(n,d,"placeholder"+(s?"-"+s:""),!!u&&"placeholder-"+u,!!i&&"bg-"+i),r);return t.createElement(o,Ln({},h,{className:p,ref:a}))};hc.propTypes=fc,hc.defaultProps={tag:"span"};var dc=["cssModule","className","tag"],pc={size:M.string,color:M.string,outline:M.bool,className:M.string,tag:Xn},vc={color:"primary",tag:hi},mc=function(e){var n=e.cssModule,r=e.className,i=(e.tag,Fn(e,dc)),a=Rr(i,n),o=a.attributes,s=a.colClasses,u=qn(Be("placeholder",r,s),n);return t.createElement(hi,Ln({},o,{className:u,disabled:!0}))};mc.propTypes=pc,mc.defaultProps=vc;!function(){if("object"===typeof window&&"function"!==typeof window.CustomEvent){window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}}(),function(){if("function"!==typeof Object.values){Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}}}();var gc=n(184),yc=function(){return(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)(ke,{to:"/login",children:(0,gc.jsx)("button",{children:"Login"})}),(0,gc.jsx)(ke,{to:"/signup",children:(0,gc.jsx)("button",{children:"Sign Up"})}),(0,gc.jsx)(ke,{to:"/about",children:(0,gc.jsx)("button",{children:"About Us"})})]})},kc=function(e){var t=e.children,n=e.header;return(0,gc.jsx)(kr,{children:(0,gc.jsx)(_r,{children:(0,gc.jsx)(Mr,{xs:{size:10,offset:1},sm:{size:8,offset:2},md:{size:6,offset:3},lg:{size:4,offset:4},children:(0,gc.jsxs)(ya,{className:"mt-5",children:[(0,gc.jsx)(za,{className:"bg-primary text-white",children:n}),(0,gc.jsx)(Aa,{children:t})]})})})})};function bc(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Se(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function wc(e,t,n){return wc=je()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},wc.apply(null,arguments)}function xc(e){var t="function"===typeof Map?new Map:void 0;return xc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return wc(e,arguments,Fe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},xc(e)}var Ec=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Tc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ec(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_c=function(e){return function(e){var t=Ec(e);return Tc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ic=function(e){try{return Tc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Sc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Cc(n)&&(e[n]=Sc(e[n],t[n]));return e}function Cc(e){return"__proto__"!==e}var Nc=function(){function e(){var t=this;Pe(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return De(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Oc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_c(JSON.stringify({alg:"none",type:"JWT"})),_c(JSON.stringify(a)),""].join(".")}function Ac(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pc(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ac())}function Rc(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Dc(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Mc(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Lc(){var e=Ac();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Fc(){return"object"===typeof indexedDB}var jc=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Me(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Me(a),Uc.prototype.create),a}return De(n)}(xc(Error)),Uc=function(){function e(t,n,r){Pe(this,e),this.service=t,this.serviceName=n,this.errors=r}return De(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Vc(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new jc(n,a,t);return o}}]),e}();function Vc(e,t){return e.replace(zc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var zc=/\{\$([^}]+)}/g;function Bc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qc(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Wc(s)&&Wc(u)){if(!qc(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Wc(e){return null!==e&&"object"===typeof e}function Hc(e){for(var t=[],n=function(){var e=Ne(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Kc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Ne(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Gc(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Qc(e,t){var n=new Yc(e,t);return n.subscribe.bind(n)}var Yc=function(){function e(t,n){var r=this;Pe(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return De(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=bc(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$c),void 0===r.error&&(r.error=$c),void 0===r.complete&&(r.complete=$c);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $c(){}function Jc(e){return e&&e._delegate?e._delegate:e}function Xc(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Zc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xc(a,r,i,o,s,"next",e)}function s(e){Xc(a,r,i,o,s,"throw",e)}o(void 0)}))}}var el=n(757),tl=n.n(el),nl=function(){function e(t,n,r){Pe(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return De(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),rl="[DEFAULT]",il=function(){function e(t,n){Pe(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return De(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Nc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch(u){}var t,n=bc(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Ne(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Zc(el.mark((function e(){var t;return el.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ae(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ae(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=bc(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Ne(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=bc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(SO){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===rl?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(SO){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl;return this.component?this.component.multipleInstances?e:rl:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var al,ol,sl=function(){function e(t){Pe(this,e),this.name=t,this.providers=new Map}return De(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new il(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ul=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ol||(ol={}));var cl,ll,fl={debug:ol.DEBUG,verbose:ol.VERBOSE,info:ol.INFO,warn:ol.WARN,error:ol.ERROR,silent:ol.SILENT},hl=ol.INFO,dl=(xe(al={},ol.DEBUG,"log"),xe(al,ol.VERBOSE,"log"),xe(al,ol.INFO,"info"),xe(al,ol.WARN,"warn"),xe(al,ol.ERROR,"error"),al),pl=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=dl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},vl=function(){function e(t){Pe(this,e),this.name=t,this._logLevel=hl,this._logHandler=pl,this._userLogHandler=null,ul.push(this)}return De(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ol))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fl[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ol.DEBUG].concat(t)),this._logHandler.apply(this,[this,ol.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ol.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ol.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ol.INFO].concat(t)),this._logHandler.apply(this,[this,ol.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ol.WARN].concat(t)),this._logHandler.apply(this,[this,ol.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ol.ERROR].concat(t)),this._logHandler.apply(this,[this,ol.ERROR].concat(t))}}]),e}();var ml=function(){function e(t){Pe(this,e),this.container=t}return De(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var gl="@firebase/app",yl="0.7.11",kl=new vl("@firebase/app"),bl="[DEFAULT]",wl=(xe(cl={},gl,"fire-core"),xe(cl,"@firebase/app-compat","fire-core-compat"),xe(cl,"@firebase/analytics","fire-analytics"),xe(cl,"@firebase/analytics-compat","fire-analytics-compat"),xe(cl,"@firebase/app-check","fire-app-check"),xe(cl,"@firebase/app-check-compat","fire-app-check-compat"),xe(cl,"@firebase/auth","fire-auth"),xe(cl,"@firebase/auth-compat","fire-auth-compat"),xe(cl,"@firebase/database","fire-rtdb"),xe(cl,"@firebase/database-compat","fire-rtdb-compat"),xe(cl,"@firebase/functions","fire-fn"),xe(cl,"@firebase/functions-compat","fire-fn-compat"),xe(cl,"@firebase/installations","fire-iid"),xe(cl,"@firebase/installations-compat","fire-iid-compat"),xe(cl,"@firebase/messaging","fire-fcm"),xe(cl,"@firebase/messaging-compat","fire-fcm-compat"),xe(cl,"@firebase/performance","fire-perf"),xe(cl,"@firebase/performance-compat","fire-perf-compat"),xe(cl,"@firebase/remote-config","fire-rc"),xe(cl,"@firebase/remote-config-compat","fire-rc-compat"),xe(cl,"@firebase/storage","fire-gcs"),xe(cl,"@firebase/storage-compat","fire-gcs-compat"),xe(cl,"@firebase/firestore","fire-fst"),xe(cl,"@firebase/firestore-compat","fire-fst-compat"),xe(cl,"fire-js","fire-js"),xe(cl,"firebase","fire-js-all"),cl),xl=new Map,El=new Map;function Tl(e,t){try{e.container.addComponent(t)}catch(n){kl.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _l(e,t){e.container.addOrOverwriteComponent(t)}function Il(e){var t=e.name;if(El.has(t))return kl.debug("There were multiple attempts to register component ".concat(t,".")),!1;El.set(t,e);var n,r=bc(xl.values());try{for(r.s();!(n=r.n()).done;){Tl(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Sl(e,t){return e.container.getProvider(t)}function Cl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bl;Sl(e,t).clearInstance(n)}function Nl(){El.clear()}var Ol,Al,Pl=(xe(ll={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xe(ll,"bad-app-name","Illegal App name: '{$appName}"),xe(ll,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),xe(ll,"app-deleted","Firebase App named '{$appName}' already deleted"),xe(ll,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),xe(ll,"invalid-log-argument","First argument to `onLog` must be null or a function."),ll),Rl=new Uc("app","Firebase",Pl),Dl=function(){function e(t,n,r){var i=this;Pe(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nl("app",(function(){return i}),"PUBLIC"))}return De(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Rl.create("app-deleted",{appName:this._name})}}]),e}(),Ml="9.6.1";function Ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:bl,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Rl.create("bad-app-name",{appName:String(i)});var a=xl.get(i);if(a){if(qc(e,a.options)&&qc(r,a.config))return a;throw Rl.create("duplicate-app",{appName:i})}var o,s=new sl(i),u=bc(El.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Dl(e,r,s);return xl.set(i,l),l}function Fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl,t=xl.get(e);if(!t)throw Rl.create("no-app",{appName:e});return t}function jl(){return Array.from(xl.values())}function Ul(e){return Vl.apply(this,arguments)}function Vl(){return(Vl=Zc(el.mark((function e(t){var n;return el.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!xl.has(n)){e.next=6;break}return xl.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(e,t,n){var r,i=null!==(r=wl[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void kl.warn(s.join(" "))}Il(new nl("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Bl(e,t){if(null!==e&&"function"!==typeof e)throw Rl.create("invalid-log-argument");!function(e,t){var n,r=bc(ul);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=fl[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ol[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ql(e){var t;t=e,ul.forEach((function(e){e.setLogLevel(t)}))}Ol="",Il(new nl("platform-logger",(function(e){return new ml(e)}),"PRIVATE")),zl(gl,yl,Ol),zl(gl,yl,"esm2017"),zl("fire-js","");var Wl=function(){function e(t,n){var r=this;Pe(this,e),this._delegate=t,this.firebase=n,Tl(t,new nl("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return De(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ul(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bl;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bl;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Tl(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){_l(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Hl=(xe(Al={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xe(Al,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Al),Kl=new Uc("app-compat","Firebase",Hl);var Gl=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ll(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Bc(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:zl,setLogLevel:ql,onLog:Bl,apps:null,SDK_VERSION:Ml,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Il(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Kl.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Sc(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Bc(n,e=e||bl))throw Kl.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Wl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Sc(n,e)},createSubscribe:Qc,ErrorFactory:Uc,deepExtend:Sc}),n}(),Ql=new vl("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ql.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Yl=self.firebase.SDK_VERSION;Yl&&Yl.indexOf("LITE")>=0&&Ql.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $l=Gl;!function(e){zl("@firebase/app-compat","0.1.12",e)}();function Jl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fe(e)););return e}function Xl(){return Xl="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Jl(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Xl.apply(this,arguments)}$l.registerVersion("firebase","9.6.1","app-compat");function Zl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ef;Object.create;var tf="facebook.com",nf="github.com",rf="google.com",af="password",of="twitter.com",sf="EMAIL_SIGNIN",uf="PASSWORD_RESET",cf="RECOVER_EMAIL",lf="REVERT_SECOND_FACTOR_ADDITION",ff="VERIFY_AND_CHANGE_EMAIL",hf="VERIFY_EMAIL";function df(){return xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var pf=function(){var e;return xe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),xe(e,"argument-error",""),xe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),xe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),xe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),xe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),xe(e,"cordova-not-ready","Cordova framework is not ready."),xe(e,"cors-unsupported","This browser is not supported."),xe(e,"credential-already-in-use","This credential is already associated with a different user account."),xe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),xe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),xe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),xe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),xe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),xe(e,"email-already-in-use","The email address is already in use by another account."),xe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),xe(e,"expired-action-code","The action code has expired."),xe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),xe(e,"internal-error","An internal AuthError has occurred."),xe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),xe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),xe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),xe(e,"invalid-auth-event","An internal AuthError has occurred."),xe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),xe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),xe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),xe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),xe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),xe(e,"invalid-email","The email address is badly formatted."),xe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),xe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),xe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),xe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),xe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),xe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),xe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),xe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),xe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),xe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),xe(e,"wrong-password","The password is invalid or the user does not have a password."),xe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),xe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),xe(e,"invalid-provider-id","The specified provider ID is invalid."),xe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),xe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),xe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),xe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),xe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),xe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),xe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),xe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),xe(e,"missing-continue-uri","A continue URL must be provided in the request."),xe(e,"missing-iframe-start","An internal AuthError has occurred."),xe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),xe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),xe(e,"missing-multi-factor-info","No second factor identifier is provided."),xe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),xe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),xe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),xe(e,"app-deleted","This instance of FirebaseApp has been deleted."),xe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),xe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),xe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),xe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),xe(e,"no-auth-event","An internal AuthError has occurred."),xe(e,"no-such-provider","User was not linked to an account with the given provider."),xe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),xe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),xe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),xe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),xe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),xe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),xe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),xe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),xe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),xe(e,"rejected-credential","The request contains malformed or mismatching credentials."),xe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),xe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),xe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),xe(e,"timeout","The operation has timed out."),xe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),xe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),xe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),xe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),xe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),xe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),xe(e,"unverified-email","The operation requires a verified email."),xe(e,"user-cancelled","The user did not grant your application the permissions it requested."),xe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),xe(e,"user-disabled","The user account has been disabled by an administrator."),xe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),xe(e,"user-signed-out",""),xe(e,"weak-password","The password must be 6 characters long or more."),xe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),xe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},vf=df,mf=new Uc("auth","Firebase",df()),gf=new vl("@firebase/auth");function yf(e){if(gf.logLevel<=ol.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gf.error.apply(gf,["Auth (".concat(Ml,"): ").concat(e)].concat(n))}}function kf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ef.apply(void 0,[e].concat(n))}function bf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ef.apply(void 0,[e].concat(n))}function wf(e,t,n){var r=Object.assign(Object.assign({},vf()),xe({},t,n));return new Uc("auth","Firebase",r).create(t,{appName:e.name})}function xf(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&kf(e,"argument-error"),wf(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ef(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ae(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ae(o)))}return mf.create.apply(mf,[e].concat(n))}function Tf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ef.apply(void 0,[t].concat(r))}}function _f(e){var t="INTERNAL ASSERTION FAILED: "+e;throw yf(t),new Error(t)}function If(e,t){e||_f(t)}var Sf=new Map;function Cf(e){If(e instanceof Function,"Expected a class definition");var t=Sf.get(e);return t?(If(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Sf.set(e,t),t)}function Nf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Of(){return"http:"===Af()||"https:"===Af()}function Af(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Pf=function(){function e(t,n){Pe(this,e),this.shortDelay=t,this.longDelay=n,If(n>t,"Short delay should be less than long delay!"),this.isMobile=Pc()||Mc()}return De(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Of()||Dc()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Rf(e,t){If(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Df=function(){function e(){Pe(this,e)}return De(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _f("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _f("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _f("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Mf=(xe(ef={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),xe(ef,"MISSING_CUSTOM_TOKEN","internal-error"),xe(ef,"INVALID_IDENTIFIER","invalid-email"),xe(ef,"MISSING_CONTINUE_URI","internal-error"),xe(ef,"INVALID_PASSWORD","wrong-password"),xe(ef,"MISSING_PASSWORD","internal-error"),xe(ef,"EMAIL_EXISTS","email-already-in-use"),xe(ef,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),xe(ef,"INVALID_IDP_RESPONSE","invalid-credential"),xe(ef,"INVALID_PENDING_TOKEN","invalid-credential"),xe(ef,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),xe(ef,"MISSING_REQ_TYPE","internal-error"),xe(ef,"EMAIL_NOT_FOUND","user-not-found"),xe(ef,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),xe(ef,"EXPIRED_OOB_CODE","expired-action-code"),xe(ef,"INVALID_OOB_CODE","invalid-action-code"),xe(ef,"MISSING_OOB_CODE","internal-error"),xe(ef,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),xe(ef,"INVALID_ID_TOKEN","invalid-user-token"),xe(ef,"TOKEN_EXPIRED","user-token-expired"),xe(ef,"USER_NOT_FOUND","user-token-expired"),xe(ef,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),xe(ef,"INVALID_CODE","invalid-verification-code"),xe(ef,"INVALID_SESSION_INFO","invalid-verification-id"),xe(ef,"INVALID_TEMPORARY_PROOF","invalid-credential"),xe(ef,"MISSING_SESSION_INFO","missing-verification-id"),xe(ef,"SESSION_EXPIRED","code-expired"),xe(ef,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),xe(ef,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),xe(ef,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),xe(ef,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),xe(ef,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),xe(ef,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),xe(ef,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),xe(ef,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),xe(ef,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),xe(ef,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),xe(ef,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ef),Lf=new Pf(3e4,6e4);function Ff(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function jf(e,t,n,r){return Uf.apply(this,arguments)}function Uf(){return Uf=Zc(tl().mark((function e(t,n,r,i){var a,o=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Vf(t,a,Zc(tl().mark((function e(){var a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Hc(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Df.fetch()(Wf(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function Vf(e,t,n){return zf.apply(this,arguments)}function zf(){return zf=Zc(tl().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Mf),n),e.prev=2,a=new Hf(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Kf(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=Ne(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Kf(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Kf(t,"email-already-in-use",s);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw wf(t,d,h);case 30:kf(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof jc)){e.next=37;break}throw e.t0;case 37:kf(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),zf.apply(this,arguments)}function Bf(e,t,n,r){return qf.apply(this,arguments)}function qf(){return qf=Zc(tl().mark((function e(t,n,r,i){var a,o,s=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,jf(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&kf(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Wf(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Rf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Hf=function(){function e(t){var n=this;Pe(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bf(n.auth,"timeout"))}),Lf.get())}))}return De(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Kf(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bf(e,t,r);return i.customData._tokenResponse=n,i}function Gf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function Yf(e,t){return $f.apply(this,arguments)}function $f(){return $f=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Jf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Zf(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function eh(){return eh=Zc(tl().mark((function e(t){var n,r,i,a,o,s,u=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Jc(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Tf((a=nh(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Zf(th(a.auth_time)),issuedAtTime:Zf(th(a.iat)),expirationTime:Zf(th(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e){return 1e3*Number(e)}function nh(e){var t=Ne(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return yf("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ic(r);return a?JSON.parse(a):(yf("Failed to decode base64 JWT payload"),null)}catch(o){return yf("Caught error parsing JWT payload as JSON",o),null}}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=Zc(tl().mark((function e(t,n){var r=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof jc&&ah(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ih.apply(this,arguments)}function ah(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var oh=function(){function e(t){Pe(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return De(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Zc(tl().mark((function t(){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),sh=function(){function e(t,n){Pe(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return De(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Zf(this.lastLoginAt),this.creationTime=Zf(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function uh(e){return ch.apply(this,arguments)}function ch(){return ch=Zc(tl().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,rh(t,Jf(r,{idToken:i}));case 6:Tf(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?hh(o.providerUserInfo):[],u=fh(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new sh(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function lh(){return(lh=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jc(t),e.next=3,uh(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ae(n),Ae(t))}function hh(e){return e.map((function(e){var t=e.providerId,n=Zl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function dh(e,t){return ph.apply(this,arguments)}function ph(){return ph=Zc(tl().mark((function e(t,n){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vf(t,{},Zc(tl().mark((function e(){var r,i,a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Wf(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Df.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}var vh=function(){function e(){Pe(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return De(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Tf(e.idToken,"internal-error"),Tf("undefined"!==typeof e.idToken,"internal-error"),Tf("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=nh(e);return Tf(t,"internal-error"),Tf("undefined"!==typeof t.exp,"internal-error"),Tf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Zc(tl().mark((function e(t){var n,r=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Tf(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Zc(tl().mark((function e(t,n){var r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dh(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return _f("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Tf("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Tf("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Tf("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function mh(e,t){Tf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gh=function(){function e(t){Pe(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Zl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new oh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new sh(a.createdAt||void 0,a.lastLoginAt||void 0)}return De(e,[{key:"getIdToken",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rh(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Tf(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return eh.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return lh.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Tf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Tf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Zc(tl().mark((function e(t){var n,r,i=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,uh(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,rh(this,Gf(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Tf(k&&E,t,"internal-error");var T=vh.fromJSON(this.name,E);Tf("string"===typeof k,t,"internal-error"),mh(f,t.name),mh(h,t.name),Tf("boolean"===typeof b,t,"internal-error"),Tf("boolean"===typeof w,t,"internal-error"),mh(d,t.name),mh(p,t.name),mh(v,t.name),mh(m,t.name),mh(g,t.name),mh(y,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:T,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=Zc(tl().mark((function t(n,r){var i,a,o,s=arguments;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new vh).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,uh(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),yh=function(){function e(){Pe(this,e),this.type="NONE",this.storage={}}return De(e,[{key:"_isAvailable",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();yh.type="NONE";var kh=yh;function bh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var wh=function(){function e(t,n,r){Pe(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=bh(this.userKey,a.apiKey,o),this.fullPersistenceKey=bh("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return De(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gh._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Zc(tl().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Cf(kh),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Cf(kh),s=bh(i,n.config.apiKey,n.name),u=null,c=bc(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=gh._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function xh(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ih(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Eh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ch(t))return"Blackberry";if(Nh(t))return"Webos";if(Th(t))return"Safari";if((t.includes("chrome/")||_h(t))&&!t.includes("edge/"))return"Chrome";if(Sh(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Eh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/firefox\//i.test(e)}function Th(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/crios\//i.test(e)}function Ih(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/iemobile/i.test(e)}function Sh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/android/i.test(e)}function Ch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/blackberry/i.test(e)}function Nh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/webos/i.test(e)}function Oh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/iphone|ipad|ipod/i.test(e)}function Ah(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return Oh(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ph(){return Lc()&&10===document.documentMode}function Rh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return Oh(e)||Sh(e)||Nh(e)||Ch(e)||/windows phone/i.test(e)||Ih(e)}function Dh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xh(Ac());break;case"Worker":t="".concat(xh(Ac()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ml,"/").concat(r)}var Mh=function(){function e(t,n){Pe(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fh(this),this.idTokenSubscription=new Fh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mf,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return De(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Cf(t)),this._initializationPromise=this.queue(Zc(tl().mark((function r(){var i,a;return tl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,wh.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Zc(tl().mark((function e(t){var n,r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Tf(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uh(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Jc(t):null)&&Tf(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Zc(tl().mark((function e(t){var n=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Tf(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Zc(tl().mark((function n(){return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Cf(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Uc("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Zc(tl().mark((function e(t,n){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Tf(n=t&&Cf(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,wh.create(this,[Cf(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Zc(tl().mark((function e(t){var n=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Tf(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Tf(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dh(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lh(e){return Jc(e)}var Fh=function(){function e(t){var n=this;Pe(this,e),this.auth=t,this.observer=null,this.addObserver=Qc((function(e){return n.observer=e}))}return De(e,[{key:"next",get:function(){return Tf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function jh(e,t,n){var r=Lh(e);Tf(r._canInitEmulator,r,"emulator-config-failed"),Tf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Uh(t),o=function(e){var t=Uh(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Vh(r.substr(a.length+1))}}var o=Ne(r.split(":"),2);return{host:o[0],port:Vh(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Uh(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vh(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var zh=function(){function e(t,n){Pe(this,e),this.providerId=t,this.signInMethod=n}return De(e,[{key:"toJSON",value:function(){return _f("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return _f("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return _f("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return _f("not implemented")}}]),e}();function Bh(e,t){return qh.apply(this,arguments)}function qh(){return qh=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:resetPassword",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function Wh(e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Kh(e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:update",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Qh(e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:signInWithPassword",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yh.apply(this,arguments)}function $h(e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:sendOobCode",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}function Xh(e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$h(t,n));case 1:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ed(e,t){return td.apply(this,arguments)}function td(){return td=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$h(t,n));case 1:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return rd=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$h(t,n));case 1:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t){return ad.apply(this,arguments)}function ad(){return ad=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$h(t,n));case 1:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e,t){return sd.apply(this,arguments)}function sd(){return sd=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:signInWithEmailLink",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function ud(e,t){return cd.apply(this,arguments)}function cd(){return cd=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:signInWithEmailLink",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}var ld=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Pe(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return De(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Qh(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",od(t,{email:this._email,oobCode:this._password}));case 5:kf(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wh(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ud(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:kf(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(zh);function fd(e,t){return hd.apply(this,arguments)}function hd(){return hd=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:signInWithIdp",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}var dd=function(e){Le(n,e);var t=ze(n);function n(){var e;return Pe(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return De(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fd(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fd(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fd(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kf("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Zl(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(zh);function pd(e,t){return vd.apply(this,arguments)}function vd(){return vd=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:sendVerificationCode",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}function md(){return md=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:signInWithPhoneNumber",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function gd(){return gd=Zc(tl().mark((function e(t,n){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bf(t,"POST","/v1/accounts:signInWithPhoneNumber",Ff(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Kf(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}var yd=xe({},"USER_NOT_FOUND","user-not-found");function kd(){return kd=Zc(tl().mark((function e(t,n){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Bf(t,"POST","/v1/accounts:signInWithPhoneNumber",Ff(t,r),yd));case 2:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}var bd=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this,"phone","phone")).params=e,r}return De(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return md.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return gd.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return kd.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(zh);var wd=function(){function e(t){var n,r,i,a,o,s;Pe(this,e);var u=Kc(Gc(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Tf(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return De(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Kc(Gc(e)).link,n=t?Kc(Gc(t)).deep_link_id:null,r=Kc(Gc(e)).deep_link_id;return(r?Kc(Gc(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(SO){return null}}}]),e}();var xd=function(){function e(){Pe(this,e),this.providerId=e.PROVIDER_ID}return De(e,null,[{key:"credential",value:function(e,t){return ld._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wd.parseLink(t);return Tf(n,"argument-error"),ld._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();xd.PROVIDER_ID="password",xd.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ed=function(){function e(t){Pe(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return De(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Td=function(e){Le(n,e);var t=ze(n);function n(){var e;return Pe(this,n),(e=t.apply(this,arguments)).scopes=[],e}return De(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ae(this.scopes)}}]),n}(Ed),_d=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Tf(e.idToken||e.accessToken,"argument-error"),dd._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Tf("providerId"in t&&"signInMethod"in t,"argument-error"),dd._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Td),Id=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.call(this,"facebook.com")}return De(n,null,[{key:"credential",value:function(e){return dd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SO){return null}}}]),n}(Td);Id.FACEBOOK_SIGN_IN_METHOD="facebook.com",Id.PROVIDER_ID="facebook.com";var Sd=function(e){Le(n,e);var t=ze(n);function n(){var e;return Pe(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return De(n,null,[{key:"credential",value:function(e,t){return dd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(SO){return null}}}]),n}(Td);Sd.GOOGLE_SIGN_IN_METHOD="google.com",Sd.PROVIDER_ID="google.com";var Cd=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.call(this,"github.com")}return De(n,null,[{key:"credential",value:function(e){return dd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SO){return null}}}]),n}(Td);Cd.GITHUB_SIGN_IN_METHOD="github.com",Cd.PROVIDER_ID="github.com";var Nd=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return De(n,[{key:"_getIdTokenResponse",value:function(e){return fd(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fd(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fd(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zh),Od=function(e){Le(n,e);var t=ze(n);function n(e){return Pe(this,n),Tf(e.startsWith("saml."),"argument-error"),t.call(this,e)}return De(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Nd.fromJSON(e);return Tf(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Nd._create(r,n)}catch(i){return null}}}]),n}(Ed),Ad=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.call(this,"twitter.com")}return De(n,null,[{key:"credential",value:function(e,t){return dd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(SO){return null}}}]),n}(Td);function Pd(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:signUp",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}Ad.TWITTER_SIGN_IN_METHOD="twitter.com",Ad.PROVIDER_ID="twitter.com";var Dd=function(){function e(t){Pe(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return De(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Zc(tl().mark((function t(n,r,i){var a,o,s,u,c=arguments;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,gh._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Md(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Zc(tl().mark((function t(n,r,i){var a;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Md(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Md(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ld(){return Ld=Zc(tl().mark((function e(t){var n,r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Dd({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Pd(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Dd._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ld.apply(this,arguments)}var Fd=function(e){Le(n,e);var t=ze(n);function n(e,r,i,a){var o,s;return Pe(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Me(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return De(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(jc);function jd(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Fd._fromErrorAndOperation(e,n,t,r);throw n}))}function Ud(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Vd(e,t){return zd.apply(this,arguments)}function zd(){return zd=Zc(tl().mark((function e(t,n){var r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,Wd(!0,r,n);case 3:return e.t0=Yf,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ud(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Bd(e,t){return qd.apply(this,arguments)}function qd(){return qd=Zc(tl().mark((function e(t,n){var r,i,a=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=rh,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Dd._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Wd(e,t,n){return Hd.apply(this,arguments)}function Hd(){return(Hd=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uh(n);case 2:i=Ud(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Tf(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kd(e,t){return Gd.apply(this,arguments)}function Gd(){return Gd=Zc(tl().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,rh(t,jd(i,a,n,t),r);case 6:return Tf((o=e.sent).idToken,i,"internal-error"),Tf(s=nh(o.idToken),i,"internal-error"),u=s.sub,Tf(t.uid===u,i,"user-mismatch"),e.abrupt("return",Dd._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&kf(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Gd.apply(this,arguments)}function Qd(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=Zc(tl().mark((function e(t,n){var r,i,a,o,s=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,jd(t,i,n);case 4:return a=e.sent,e.next=7,Dd._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function $d(e,t){return Jd.apply(this,arguments)}function Jd(){return Jd=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(Lh(t),n));case 1:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}function Xd(e,t){return Zd.apply(this,arguments)}function Zd(){return(Zd=Zc(tl().mark((function e(t,n){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,Wd(!1,r,n.providerId);case 3:return e.abrupt("return",Bd(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ep(e,t){return tp.apply(this,arguments)}function tp(){return(tp=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kd(Jc(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function np(e,t){return rp.apply(this,arguments)}function rp(){return rp=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:signInWithCustomToken",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(){return ip=Zc(tl().mark((function e(t,n){var r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lh(t),e.next=3,np(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Dd._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}var ap=function(){function e(t,n){Pe(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return De(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?op._fromServerResponse(e,t):kf(e,"internal-error")}}]),e}(),op=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return De(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ap);function sp(e,t,n){var r;Tf((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tf("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tf(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tf(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function up(){return up=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),a={requestType:"PASSWORD_RESET",email:n},r&&sp(i,a,r),e.next=5,ed(i,a);case 5:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function cp(){return cp=Zc(tl().mark((function e(t,n,r){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bh(Jc(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(){return lp=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kh(Jc(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),lp.apply(this,arguments)}function fp(e,t){return hp.apply(this,arguments)}function hp(){return hp=Zc(tl().mark((function e(t,n){var r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,Bh(r,{oobCode:n});case 3:i=e.sent,Tf(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Tf(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Tf(i.mfaInfo,r,"internal-error");case 13:Tf(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ap._fromServerResponse(Lh(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),hp.apply(this,arguments)}function dp(){return dp=Zc(tl().mark((function e(t,n){var r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fp(Jc(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function pp(e,t,n){return vp.apply(this,arguments)}function vp(){return vp=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lh(t),e.next=3,Pd(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Dd._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function mp(){return mp=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),a={requestType:"EMAIL_SIGNIN",email:n},Tf(r.handleCodeInApp,i,"argument-error"),r&&sp(i,a,r),e.next=6,nd(i,a);case 6:case"end":return e.stop()}}),e)}))),mp.apply(this,arguments)}function gp(){return gp=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),Tf((a=xd.credentialWithLink(n,r||Nf()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",$d(i,a));case 4:case"end":return e.stop()}}),e)}))),gp.apply(this,arguments)}function yp(e,t){return kp.apply(this,arguments)}function kp(){return kp=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:createAuthUri",Ff(t,n)));case 1:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function bp(){return bp=Zc(tl().mark((function e(t,n){var r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Of()?Nf():"http://localhost",i={identifier:n,continueUri:r},e.next=4,yp(Jc(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),bp.apply(this,arguments)}function wp(){return(wp=Zc(tl().mark((function e(t,n){var r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&sp(r.auth,a,n),e.next=8,Xh(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xp(){return(xp=Zc(tl().mark((function e(t,n,r){var i,a,o,s;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&sp(i.auth,o,r),e.next=8,id(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ep(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function _p(){return(_p=Zc(tl().mark((function e(t,n){var r,i,a,o,s,u,c;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Jc(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,rh(a,Ep(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ip(e,t,n){return Sp.apply(this,arguments)}function Sp(){return Sp=Zc(tl().mark((function e(t,n,r){var i,a,o,s;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,rh(t,Wh(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Sp.apply(this,arguments)}var Cp=De((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Pe(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Np=function(e){Le(n,e);var t=ze(n);function n(e,r,i,a){var o;return Pe(this,n),(o=t.call(this,e,r,i)).username=a,o}return De(n)}(Cp),Op=function(e){Le(n,e);var t=ze(n);function n(e,r){return Pe(this,n),t.call(this,e,"facebook.com",r)}return De(n)}(Cp),Ap=function(e){Le(n,e);var t=ze(n);function n(e,r){return Pe(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return De(n)}(Np),Pp=function(e){Le(n,e);var t=ze(n);function n(e,r){return Pe(this,n),t.call(this,e,"google.com",r)}return De(n)}(Cp),Rp=function(e){Le(n,e);var t=ze(n);function n(e,r,i){return Pe(this,n),t.call(this,e,"twitter.com",r,i)}return De(n)}(Np);function Dp(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=nh(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Cp(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Op(a,i);case"github.com":return new Ap(a,i);case"google.com":return new Pp(a,i);case"twitter.com":return new Rp(a,i,e.screenName||null);case"custom":case"anonymous":return new Cp(a,null);default:return new Cp(a,r,i)}}(n)}var Mp=function(){function e(t,n){Pe(this,e),this.type=t,this.credential=n}return De(e,[{key:"toJSON",value:function(){return{multiFactorSession:xe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Lp=function(){function e(t,n,r){Pe(this,e),this.session=t,this.hints=n,this.signInResolver=r}return De(e,[{key:"resolveSignIn",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Lh(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ap._fromServerResponse(r,e)}));Tf(i.mfaPendingCredential,r,"internal-error");var o=Mp._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Zc(tl().mark((function e(t){var a,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Dd._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Tf(n.user,r,"internal-error"),e.abrupt("return",Dd._forOperation(n.user,n.operationType,s));case 17:kf(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Fp(e,t){return jf(e,"POST","/v2/accounts/mfaEnrollment:start",Ff(e,t))}function jp(e,t){return jf(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ff(e,t))}var Up=function(){function e(t){var n=this;Pe(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ap._fromServerResponse(t.auth,e)})))}))}return De(e,[{key:"getSession",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Mp,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Zc(tl().mark((function e(t,n){var r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,rh(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Zc(tl().mark((function e(t){var n,r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,rh(this.user,jp(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Vp=new WeakMap;var zp="__sak",Bp=function(){function e(t,n){Pe(this,e),this.storageRetriever=t,this.type=n}return De(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch(SO){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var qp=function(e){Le(n,e);var t=ze(n);function n(){var e;return Pe(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ac();return Th(e)||Oh(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Rh(),e._shouldAllowMigration=!0,e}return De(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ph()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Zc(tl().mark((function e(t,r){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(Fe(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zc(tl().mark((function e(t){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(Fe(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(Fe(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Bp);qp.type="LOCAL";var Wp=qp,Hp=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return De(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Bp);Hp.type="SESSION";var Kp=Hp;function Gp(e){return Promise.all(e.map(function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Qp=function(){function e(t){Pe(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return De(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Zc(tl().mark((function e(t){var n,r,i,a,o,s,u,c;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Gp(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Yp(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qp.receivers=[];var $p=function(){function e(t){Pe(this,e),this.target=t,this.handlers=new Set}return De(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Zc(tl().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Yp("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Jp(){return window}function Xp(){return"undefined"!==typeof Jp().WorkerGlobalScope&&"function"===typeof Jp().importScripts}function Zp(){return ev.apply(this,arguments)}function ev(){return(ev=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function tv(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var nv="firebaseLocalStorageDb",rv="firebaseLocalStorage",iv="fbase_key",av=function(){function e(t){Pe(this,e),this.request=t}return De(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ov(e,t){return e.transaction([rv],t?"readwrite":"readonly").objectStore(rv)}function sv(){var e=indexedDB.deleteDatabase(nv);return new av(e).toPromise()}function uv(){var e=indexedDB.open(nv,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(rv,{keyPath:iv})}catch(r){n(r)}})),e.addEventListener("success",Zc(tl().mark((function n(){var r;return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(rv)){n.next=12;break}return r.close(),n.next=5,sv();case 5:return n.t0=t,n.next=8,uv();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function cv(e,t,n){return lv.apply(this,arguments)}function lv(){return lv=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ov(t,!0).put((xe(i={},iv,n),xe(i,"value",r),i)),e.abrupt("return",new av(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function fv(e,t){return hv.apply(this,arguments)}function hv(){return hv=Zc(tl().mark((function e(t,n){var r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ov(t,!1).get(n),e.next=3,new av(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function dv(e,t){var n=ov(e,!0).delete(t);return new av(n).toPromise()}var pv=function(){function e(){Pe(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return De(e,[{key:"_openDb",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,uv();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xp()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Zc(tl().mark((function e(){var t=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Qp._getInstance(Xp()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Zc(tl().mark((function e(n,r){var i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Zc(tl().mark((function e(){var t,n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zp();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new $p(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&tv()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,uv();case 5:return t=e.sent,e.next=8,cv(t,zp,"1");case 8:return e.next=10,dv(t,zp);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zc(tl().mark((function e(t,n){var r=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return cv(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return fv(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zc(tl().mark((function e(t){var n=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return dv(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Zc(tl().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ov(e,!1).getAll();return new av(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=bc(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Zc(tl().mark((function t(){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();pv.type="LOCAL";var vv=pv;function mv(e,t){return jf(e,"POST","/v2/accounts/mfaSignIn:start",Ff(e,t))}function gv(e){return yv.apply(this,arguments)}function yv(){return yv=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function kv(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function bv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var wv=1e12,xv=function(){function e(t){Pe(this,e),this.auth=t,this.counter=wv,this._widgets=new Map}return De(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ev(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||wv;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||wv;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||wv,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ev=function(){function e(t,n,r){var i=this;Pe(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Tf(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return De(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Tv=bv("rcb"),_v=new Pf(3e4,6e4),Iv="https://www.google.com/recaptcha/api.js?",Sv=function(){function e(){Pe(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Jp().grecaptcha}return De(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Tf(Cv(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Jp().grecaptcha):new Promise((function(r,i){var a=Jp().setTimeout((function(){i(bf(e,"network-request-failed"))}),_v.get());Jp()[Tv]=function(){Jp().clearTimeout(a),delete Jp()[Tv];var o=Jp().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(bf(e,"internal-error"))},kv("".concat(Iv,"?").concat(Hc({onload:Tv,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(bf(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Jp().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Cv(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Nv=function(){function e(){Pe(this,e)}return De(e,[{key:"load",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new xv(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ov="recaptcha",Av={theme:"light",type:"image"},Pv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Av),r=arguments.length>2?arguments[2]:void 0;Pe(this,e),this.parameters=n,this.type=Ov,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lh(r),this.isInvisible="invisible"===this.parameters.size,Tf("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Tf(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nv:new Sv,this.validateStartingState()}return De(e,[{key:"verify",value:function(){var e=Zc(tl().mark((function e(){var t,n,r,i=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Tf(!this.parameters.sitekey,this.auth,"argument-error"),Tf(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Tf("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Jp()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Tf(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Zc(tl().mark((function e(){var t,n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tf(Of()&&!Xp(),this.auth,"internal-error"),e.next=3,Rv();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,gv(this.auth);case 8:Tf(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Tf(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Rv(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Dv=function(){function e(t,n){Pe(this,e),this.verificationId=t,this.onConfirmation=n}return De(e,[{key:"confirm",value:function(e){var t=bd._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Mv(){return Mv=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lh(t),e.next=3,Uv(i,n,Jc(r));case 3:return a=e.sent,e.abrupt("return",new Dv(a,(function(e){return $d(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}function Lv(e,t,n){return Fv.apply(this,arguments)}function Fv(){return(Fv=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),e.next=3,Wd(!1,i,"phone");case 3:return e.next=5,Uv(i.auth,n,Jc(r));case 5:return a=e.sent,e.abrupt("return",new Dv(a,(function(e){return Xd(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jv(){return(jv=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),e.next=3,Uv(i.auth,n,Jc(r));case 3:return a=e.sent,e.abrupt("return",new Dv(a,(function(e){return ep(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uv(e,t,n){return Vv.apply(this,arguments)}function Vv(){return Vv=Zc(tl().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Tf("string"===typeof a,t,"argument-error"),Tf(r.type===Ov,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Tf("enroll"===s.type,t,"internal-error"),e.next=13,Fp(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Tf("signin"===s.type,t,"internal-error"),Tf(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,mv(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pd(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vv.apply(this,arguments)}function zv(){return(zv=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bd(Jc(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bv=function(){function e(t){Pe(this,e),this.providerId=e.PROVIDER_ID,this.auth=Lh(t)}return De(e,[{key:"verifyPhoneNumber",value:function(e,t){return Uv(this.auth,e,Jc(t))}}],[{key:"credential",value:function(e,t){return bd._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bd._fromTokenResponse(n,r):null}}]),e}();function qv(e,t){return t?Cf(t):(Tf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bv.PROVIDER_ID="phone",Bv.PHONE_SIGN_IN_METHOD="phone";var Wv=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this,"custom","custom")).params=e,r}return De(n,[{key:"_getIdTokenResponse",value:function(e){return fd(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fd(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fd(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(zh);function Hv(e){return Qd(e.auth,new Wv(e),e.bypassAuthState)}function Kv(e){var t=e.auth,n=e.user;return Tf(n,t,"internal-error"),Kd(n,new Wv(e),e.bypassAuthState)}function Gv(e){return Qv.apply(this,arguments)}function Qv(){return Qv=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Tf(r=t.user,n,"internal-error"),e.abrupt("return",Bd(r,new Wv(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}var Yv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Pe(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return De(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Zc(tl().mark((function t(n,r){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Zc(tl().mark((function e(t){var n,r,i,a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hv;case"linkViaPopup":case"linkViaRedirect":return Gv;case"reauthViaPopup":case"reauthViaRedirect":return Kv;default:kf(this.auth,"internal-error")}}},{key:"resolve",value:function(e){If(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){If(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),$v=new Pf(2e3,1e4);function Jv(e,t,n){return Xv.apply(this,arguments)}function Xv(){return Xv=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lh(t),xf(t,n,Ed),a=qv(i,r),o=new nm(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Xv.apply(this,arguments)}function Zv(){return(Zv=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xf((i=Jc(t)).auth,n,Ed),a=qv(i.auth,r),o=new nm(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function em(e,t,n){return tm.apply(this,arguments)}function tm(){return(tm=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xf((i=Jc(t)).auth,n,Ed),a=qv(i.auth,r),o=new nm(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nm=function(e){Le(n,e);var t=ze(n);function n(e,r,i,a,o){var s;return Pe(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Me(s),s}return De(n,[{key:"executeNotNull",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Tf(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zc(tl().mark((function e(){var t,n=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If(1===this.filter.length,"Popup operations only handle one event"),t=Yp(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bf(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bf(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bf(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,$v.get())}()}}]),n}(Yv);nm.currentPopupAction=null;var rm=new Map,im=function(e){Le(n,e);var t=ze(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Pe(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return De(n,[{key:"execute",value:function(){var e=Zc(tl().mark((function e(){var t,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=rm.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,am(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Xl(Fe(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:rm.set(this.auth._key(),t);case 21:return this.bypassAuthState||rm.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Zc(tl().mark((function e(t){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Xl(Fe(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Xl(Fe(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yv);function am(e,t){return om.apply(this,arguments)}function om(){return om=Zc(tl().mark((function e(t,n){var r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lm(n),i=cm(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function sm(e,t){return um.apply(this,arguments)}function um(){return um=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cm(t)._set(lm(n),"true"));case 1:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(e){return Cf(e._redirectPersistence)}function lm(e){return bh("pendingRedirect",e.config.apiKey,e.name)}function fm(e,t,n){return function(e,t,n){return hm.apply(this,arguments)}(e,t,n)}function hm(){return hm=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lh(t),xf(t,n,Ed),a=qv(i,r),e.next=5,sm(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(e,t,n){return function(e,t,n){return pm.apply(this,arguments)}(e,t,n)}function pm(){return(pm=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xf((i=Jc(t)).auth,n,Ed),a=qv(i.auth,r),e.next=5,sm(a,i.auth);case 5:return e.next=7,wm(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vm(e,t,n){return function(e,t,n){return mm.apply(this,arguments)}(e,t,n)}function mm(){return(mm=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xf((i=Jc(t)).auth,n,Ed),a=qv(i.auth,r),e.next=5,Wd(!1,i,n.providerId);case 5:return e.next=7,sm(a,i.auth);case 7:return e.next=9,wm(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gm(e,t){return ym.apply(this,arguments)}function ym(){return ym=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lh(t)._initializationPromise;case 2:return e.abrupt("return",km(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function km(e,t){return bm.apply(this,arguments)}function bm(){return bm=Zc(tl().mark((function e(t,n){var r,i,a,o,s,u=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Lh(t),a=qv(i,n),o=new im(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e){return xm.apply(this,arguments)}function xm(){return(xm=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yp("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Em=function(){function e(t){Pe(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return De(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _m(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!_m(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bf(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tm(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Tm(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Tm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function _m(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Im(e){return Sm.apply(this,arguments)}function Sm(){return Sm=Zc(tl().mark((function e(t){var n,r=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",jf(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}var Cm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nm=/^https?/;function Om(){return Om=Zc(tl().mark((function e(t){var n,r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Im(t);case 4:n=e.sent,r=n.authorizedDomains,i=bc(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Am(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:kf(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Om.apply(this,arguments)}function Am(e){var t=Nf(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Nm.test(r))return!1;if(Cm.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Pm=new Pf(3e4,6e4);function Rm(){var e=Jp().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ae(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Dm=null;function Mm(e){return Dm=Dm||function(e){return new Promise((function(t,n){var r,i,a;function o(){Rm(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Rm(),n(bf(e,"network-request-failed"))},timeout:Pm.get()})}if(null===(i=null===(r=Jp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Jp().gapi)||void 0===a?void 0:a.load)){var s=bv("iframefcb");return Jp()[s]=function(){gapi.load?o():n(bf(e,"network-request-failed"))},kv("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Dm=null,e}))}(e),Dm}var Lm=new Pf(5e3,15e3),Fm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Um(e){var t=e.config;Tf(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Rf(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ml},i=jm.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Hc(r).slice(1))}function Vm(e){return zm.apply(this,arguments)}function zm(){return zm=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mm(t);case 2:return n=e.sent,Tf(r=Jp().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Um(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fm,dontclear:!0},(function(e){return new Promise(function(){var n=Zc(tl().mark((function n(r,i){var a,o,s;return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Jp().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bf(t,"network-request-failed"),o=Jp().setTimeout((function(){i(a)}),Lm.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}var Bm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qm="_blank",Wm="http://localhost",Hm=function(){function e(t){Pe(this,e),this.window=t,this.associatedEvent=null}return De(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Km(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Bm),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ac().toLowerCase();n&&(s=_h(c)?qm:n),Eh(c)&&(t=t||Wm,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=Ne(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ah(c)&&"_self"!==s)return Gm(t||"",s),new Hm(null);var f=window.open(t||"",s,l);Tf(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Hm(f)}function Gm(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Qm="__/auth/handler",Ym="emulator/auth/handler";function $m(e,t,n,r,i,a){Tf(e.config.authDomain,e,"auth-domain-config-required"),Tf(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ml,eventId:i};if(t instanceof Ed){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=Ne(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Td){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Qm);return Rf(t,Ym)}(e),"?").concat(Hc(d).slice(1))}var Jm="webStorageSupport",Xm=function(){function e(){Pe(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kp,this._completeRedirectFn=km}return De(e,[{key:"_openPopup",value:function(){var e=Zc(tl().mark((function e(t,n,r,i){var a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=$m(t,n,r,Nf(),i),e.abrupt("return",Km(t,o,Yp()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zc(tl().mark((function e(t,n,r,i){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=$m(t,n,r,Nf(),i),Jp().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(If(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vm(t);case 2:return n=e.sent,r=new Em(t),n.register("authEvent",(function(e){return Tf(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Jm,{type:Jm},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),kf(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Om.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Rh()||Th()||Oh()}}]),e}(),Zm=Xm,eg=function(){function e(t){Pe(this,e),this.factorId=t}return De(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _f("unexpected MultiFactorSessionType")}}}]),e}(),tg=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this,"phone")).credential=e,r}return De(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return jf(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ff(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return jf(e,"POST","/v2/accounts/mfaSignIn:finalize",Ff(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(eg),ng=function(){function e(){Pe(this,e)}return De(e,null,[{key:"assertion",value:function(e){return tg._fromCredential(e)}}]),e}();ng.FACTOR_ID="phone";var rg,ig="@firebase/auth",ag="0.19.4",og=function(){function e(t){Pe(this,e),this.auth=t,this.internalListeners=new Map}return De(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Tf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function sg(){return window}rg="Browser",Il(new nl("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Tf(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Tf(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:rg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dh(rg)},r=new Mh(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Il(new nl("auth-internal",(function(e){return function(e){return new og(e)}(Lh(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),zl(ig,ag,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(rg)),zl(ig,ag,"esm2017");function ug(e,t,n){return cg.apply(this,arguments)}function cg(){return cg=Zc(tl().mark((function e(t,n,r){var i,a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sg(),o=a.BuildInfo,If(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,vg(n.sessionId);case 4:return s=e.sent,u={},Oh()?u.ibi=o.packageName:Sh()?u.apn=o.packageName:kf(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",$m(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(){return lg=Zc(tl().mark((function e(t){var n,r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sg(),r=n.BuildInfo,i={},Oh()?i.iosBundleId=r.packageName:Sh()?i.androidPackageName=r.packageName:kf(t,"operation-not-supported-in-this-environment"),e.next=5,Im(t,i);case 5:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e){var t=sg().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function hg(e,t,n){return dg.apply(this,arguments)}function dg(){return dg=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sg(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(bf(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Sh()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),dg.apply(this,arguments)}function pg(e){var t,n,r,i,a,o,s,u,c,l,f=sg();Tf("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Tf("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Tf("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Tf("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Tf("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function vg(e){return mg.apply(this,arguments)}function mg(){return(mg=Zc(tl().mark((function e(t){var n,r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gg(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gg(e){if(If(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var yg=function(e){Le(n,e);var t=ze(n);function n(){var e;return Pe(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return De(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Xl(Fe(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Em);function kg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Tg(),postBody:null,tenantId:e.tenantId,error:bf(e,"no-auth-event")}}function bg(e,t){return _g()._set(Ig(e),t)}function wg(e){return xg.apply(this,arguments)}function xg(){return xg=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_g()._get(Ig(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_g()._remove(Ig(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}function Eg(e,t){var n,r,i=function(e){var t=Sg(e),n=t.link?decodeURIComponent(t.link):void 0,r=Sg(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Sg(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Sg(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?bf(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Tg(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _g(){return Cf(Wp)}function Ig(e){return bh("authEvent",e.config.apiKey,e.name)}function Sg(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=_e(t=n)||Oe(t)||Se(t)||Ce();r[0];return Kc(r.slice(1).join("?"))}var Cg=function(){function e(){Pe(this,e),this._redirectPersistence=Kp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=km}return De(e,[{key:"_initialize",value:function(){var e=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new yg(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){kf(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Zc(tl().mark((function e(t,n,r,i){var a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pg(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),rm.clear(),e.next=10,this._originValidation(t);case 10:return o=kg(t,r,i),e.next=13,bg(t,o);case 13:return e.next=15,ug(t,o,n);case 15:return s=e.sent,e.next=18,fg(s);case 18:return u=e.sent,e.abrupt("return",hg(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return lg.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=sg(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Zc(tl().mark((function n(){return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wg(e);case 2:t.onEvent(Og());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Zc(tl().mark((function n(r){var i,a;return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,wg(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Eg(i,r.url)),t.onEvent(a||Og());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");sg().handleOpenURL=function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ng=Cg;function Og(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bf("no-auth-event")}}function Ag(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Pg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return!("file:"!==Ag()&&"ionic:"!==Ag()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rg(){return Lc()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Dg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return/Edge\/\d+/.test(e)}function Mg(){try{var e=self.localStorage,t=Yp();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac();return Rg()||Dg(e)}()||Fc()}catch(n){return Lg()&&Fc()}return!1}function Lg(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Fg(){return("http:"===Ag()||"https:"===Ag()||Dc()||Pg())&&!(Mc()||Rc())&&Mg()&&!Lg()}function jg(){return Pg()&&"undefined"!==typeof document}function Ug(){return Vg.apply(this,arguments)}function Vg(){return(Vg=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jg()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zg={LOCAL:"local",NONE:"none",SESSION:"session"},Bg=Tf,qg="persistence";function Wg(e,t){Bg(Object.values(zg).includes(t),e,"invalid-persistence-type"),Mc()?Bg(t!==zg.SESSION,e,"unsupported-persistence-type"):Rc()?Bg(t===zg.NONE,e,"unsupported-persistence-type"):Lg()?Bg(t===zg.NONE||t===zg.LOCAL&&Fc(),e,"unsupported-persistence-type"):Bg(t===zg.NONE||Mg(),e,"unsupported-persistence-type")}function Hg(e){return Kg.apply(this,arguments)}function Kg(){return Kg=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Gg(),r=bh(qg,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(){return"undefined"!==typeof window?window:null}var Qg=Tf,Yg=function(){function e(){Pe(this,e),this.browserResolver=Cf(Zm),this.cordovaResolver=Cf(Ng),this.underlyingResolver=null,this._redirectPersistence=Kp,this._completeRedirectFn=km}return De(e,[{key:"_initialize",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Zc(tl().mark((function e(t,n,r,i){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zc(tl().mark((function e(t,n,r,i){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return jg()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Qg(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ug();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $g(e){return e.unwrap()}function Jg(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new ny(e,function(e,t){var n,r=Jc(e),i=t;return Tf(t.customData.operationType,r,"argument-error"),Tf(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Lp._fromError(r,i)}(e,t));else if(r){var i=Xg(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Xg(e){var t=(e instanceof jc?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof jc)&&"temporaryProof"in t&&"phoneNumber"in t)return Bv.credentialFromResult(e);var n,r=t.providerId;if(!r||r===af)return null;switch(r){case rf:n=Sd;break;case tf:n=Id;break;case nf:n=Cd;break;case of:n=Ad;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Nd._create(r,s):dd._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new _d(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof jc?n.credentialFromError(e):n.credentialFromResult(e)}function Zg(e,t){return t.catch((function(t){throw t instanceof jc&&Jg(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Xg(t)),additionalUserInfo:Dp(e),user:ry.getOrCreate(r)}}))}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=Zc(tl().mark((function e(t,n){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Zg(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}var ny=function(){function e(t,n){Pe(this,e),this.resolver=n,this.auth=t.wrapped()}return De(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Zg($g(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ry=function(){function e(t){Pe(this,e),this._delegate=t,this.multiFactor=function(e){var t=Jc(e);return Vp.has(t)||Vp.set(t,Up._fromUser(t)),Vp.get(t)}(t)}return De(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zg(this.auth,Xd(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ey(this.auth,Lv(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zg(this.auth,em(this._delegate,t,Yg)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hg(Lh(this.auth));case 2:return e.abrupt("return",vm(this._delegate,t,Yg));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zg(this.auth,ep(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ey(this.auth,function(e,t,n){return jv.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Zg(this.auth,function(e,t,n){return Zv.apply(this,arguments)}(this._delegate,e,Yg))}},{key:"reauthenticateWithRedirect",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hg(Lh(this.auth));case 2:return e.abrupt("return",dm(this._delegate,t,Yg));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return wp.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vd(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ip(Jc(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ip(Jc(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return zv.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return _p.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return xp.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ry.USER_MAP=new WeakMap;var iy=Tf,ay=function(){function e(t,n){if(Pe(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;iy(r,"invalid-api-key",{appName:t.name});var i=[kh];if("undefined"!==typeof window){i=function(e,t){var n=Gg();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=bh(qg,e,t);switch(n.sessionStorage.getItem(r)){case zg.NONE:return[kh];case zg.LOCAL:return[vv,Kp];case zg.SESSION:return[Kp];default:return[]}}(r,t.name);for(var a=0,o=[vv,Wp,Kp];a<o.length;a++){var s=o[a];i.includes(s)||i.push(s)}}iy(r,"invalid-api-key",{appName:t.name});var u="undefined"!==typeof window?Yg:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:u}}),this._delegate._updateErrorMap(pf),this.linkUnderlyingAuth()}return De(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ry.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){jh(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return lp.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return fp(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return cp.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zg(this._delegate,pp(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return bp.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=wd.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iy(Fg(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,gm(this._delegate,Yg);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Zg(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Lh(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=oy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=oy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return mp.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return up.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wg(this._delegate,t),e.t0=t,e.next=e.t0===zg.SESSION?4:e.t0===zg.LOCAL?6:e.t0===zg.NONE?11:13;break;case 4:return n=Kp,e.abrupt("break",14);case 6:return e.next=8,Cf(vv)._isAvailable();case 8:return r=e.sent,n=r?vv:Wp,e.abrupt("break",14);case 11:return n=kh,e.abrupt("break",14);case 13:return e.abrupt("return",kf("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Zg(this._delegate,function(e){return Ld.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Zg(this._delegate,$d(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Zg(this._delegate,function(e,t){return ip.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Zg(this._delegate,function(e,t,n){return $d(Jc(e),xd.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Zg(this._delegate,function(e,t,n){return gp.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ey(this._delegate,function(e,t,n){return Mv.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iy(Fg(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Zg(this._delegate,Jv(this._delegate,t,Yg)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iy(Fg(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Hg(this._delegate);case 3:return e.abrupt("return",fm(this._delegate,t,Yg));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return dp.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function oy(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ry.getOrCreate(e))},error:t,complete:n}}ay.Persistence=zg;var sy=function(){function e(){Pe(this,e),this.providerId="phone",this._delegate=new Bv($g($l.auth()))}return De(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Bv.credential(e,t)}}]),e}();sy.PHONE_SIGN_IN_METHOD=Bv.PHONE_SIGN_IN_METHOD,sy.PROVIDER_ID=Bv.PROVIDER_ID;var uy,cy=Tf,ly=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$l.app();Pe(this,e),cy(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Pv(t,n,i.auth()),this.type=this._delegate.type}return De(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(uy=$l).INTERNAL.registerComponent(new nl("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ay(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sf,PASSWORD_RESET:uf,RECOVER_EMAIL:cf,REVERT_SECOND_FACTOR_ADDITION:lf,VERIFY_AND_CHANGE_EMAIL:ff,VERIFY_EMAIL:hf}},EmailAuthProvider:xd,FacebookAuthProvider:Id,GithubAuthProvider:Cd,GoogleAuthProvider:Sd,OAuthProvider:_d,SAMLAuthProvider:Od,PhoneAuthProvider:sy,PhoneMultiFactorGenerator:ng,RecaptchaVerifier:ly,TwitterAuthProvider:Ad,Auth:ay,AuthCredential:zh,Error:jc}).setInstantiationMode("LAZY").setMultipleInstances(!1)),uy.registerVersion("@firebase/auth-compat","0.2.4");var fy,hy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},dy={},py=py||{},vy=hy||self;function my(){}function gy(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yy(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ky="closure_uid_"+(1e9*Math.random()>>>0),by=0;function wy(e,t,n){return e.call.apply(e.bind,arguments)}function xy(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ey(e,t,n){return(Ey=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wy:xy).apply(null,arguments)}function Ty(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _y(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Iy(){this.s=this.s,this.o=this.o}var Sy={};Iy.prototype.s=!1,Iy.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ky)&&e[ky]||(e[ky]=++by)}(this);delete Sy[e]}},Iy.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Cy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ny=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Oy(e){return Array.prototype.concat.apply([],arguments)}function Ay(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Py(e){return/^[\s\xa0]*$/.test(e)}var Ry,Dy=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function My(e,t){return-1!=e.indexOf(t)}function Ly(e,t){return e<t?-1:e>t?1:0}e:{var Fy=vy.navigator;if(Fy){var jy=Fy.userAgent;if(jy){Ry=jy;break e}}Ry=""}function Uy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Vy(e){var t={};for(var n in e)t[n]=e[n];return t}var zy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function By(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zy.length;a++)n=zy[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qy(e){return qy[" "](e),e}qy[" "]=my;var Wy,Hy=My(Ry,"Opera"),Ky=My(Ry,"Trident")||My(Ry,"MSIE"),Gy=My(Ry,"Edge"),Qy=Gy||Ky,Yy=My(Ry,"Gecko")&&!(My(Ry.toLowerCase(),"webkit")&&!My(Ry,"Edge"))&&!(My(Ry,"Trident")||My(Ry,"MSIE"))&&!My(Ry,"Edge"),$y=My(Ry.toLowerCase(),"webkit")&&!My(Ry,"Edge");function Jy(){var e=vy.document;return e?e.documentMode:void 0}e:{var Xy="",Zy=function(){var e=Ry;return Yy?/rv:([^\);]+)(\)|;)/.exec(e):Gy?/Edge\/([\d\.]+)/.exec(e):Ky?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$y?/WebKit\/(\S+)/.exec(e):Hy?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zy&&(Xy=Zy?Zy[1]:""),Ky){var ek=Jy();if(null!=ek&&ek>parseFloat(Xy)){Wy=String(ek);break e}}Wy=Xy}var tk,nk={};function rk(){return function(e){var t=nk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Dy(String(Wy)).split("."),n=Dy("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ly(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ly(0==a[2].length,0==o[2].length)||Ly(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(vy.document&&Ky){var ik=Jy();tk=ik||(parseInt(Wy,10)||void 0)}else tk=void 0;var ak=tk,ok=function(){if(!vy.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vy.addEventListener("test",my,t),vy.removeEventListener("test",my,t)}catch(n){}return e}();function sk(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function uk(e,t){if(sk.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yy){e:{try{qy(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ck[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&uk.Z.h.call(this)}}sk.prototype.h=function(){this.defaultPrevented=!0},_y(uk,sk);var ck={2:"touch",3:"pen",4:"mouse"};uk.prototype.h=function(){uk.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lk="closure_listenable_"+(1e6*Math.random()|0),fk=0;function hk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++fk,this.ca=this.fa=!1}function dk(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pk(e){this.src=e,this.g={},this.h=0}function vk(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Cy(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(dk(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mk(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}pk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=mk(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new hk(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var gk="closure_lm_"+(1e6*Math.random()|0),yk={};function kk(e,t,n,r,i){if(r&&r.once)return wk(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)kk(e,t[a],n,r,i);return null}return n=Ck(n),e&&e[lk]?e.N(t,n,yy(r)?!!r.capture:!!r,i):bk(e,t,n,!1,r,i)}function bk(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=yy(i)?!!i.capture:!!i,s=Ik(e);if(s||(e[gk]=s=new pk(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=_k;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ok||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Tk(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wk(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)wk(e,t[a],n,r,i);return null}return n=Ck(n),e&&e[lk]?e.O(t,n,yy(r)?!!r.capture:!!r,i):bk(e,t,n,!0,r,i)}function xk(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)xk(e,t[a],n,r,i);else r=yy(r)?!!r.capture:!!r,n=Ck(n),e&&e[lk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=mk(a=e.g[t],n,r,i))&&(dk(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ik(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mk(t,n,r,i)),(n=-1<e?t[e]:null)&&Ek(n))}function Ek(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[lk])vk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Tk(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ik(t))?(vk(n,e),0==n.h&&(n.src=null,t[gk]=null)):dk(e)}}}function Tk(e){return e in yk?yk[e]:yk[e]="on"+e}function _k(e,t){if(e.ca)e=!0;else{t=new uk(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ek(e),e=n.call(r,t)}return e}function Ik(e){return(e=e[gk])instanceof pk?e:null}var Sk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ck(e){return"function"===typeof e?e:(e[Sk]||(e[Sk]=function(t){return e.handleEvent(t)}),e[Sk])}function Nk(){Iy.call(this),this.i=new pk(this),this.P=this,this.I=null}function Ok(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new sk(t,e);else if(t instanceof sk)t.target=t.target||e;else{var i=t;By(t=new sk(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ak(o,r,!0,t)&&i}if(i=Ak(o=t.g=e,r,!0,t)&&i,i=Ak(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ak(o=t.g=n[a],r,!1,t)&&i}function Ak(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&vk(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}_y(Nk,Iy),Nk.prototype[lk]=!0,Nk.prototype.removeEventListener=function(e,t,n,r){xk(this,e,t,n,r)},Nk.prototype.M=function(){if(Nk.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dk(n[r]);delete t.g[e],t.h--}}this.I=null},Nk.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Nk.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Pk=vy.JSON.stringify;function Rk(){var e=zk,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Dk,Mk=function(){function e(){Pe(this,e),this.h=this.g=null}return De(e,[{key:"add",value:function(e,t){var n=Lk.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Lk=new(function(){function e(t,n){Pe(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return De(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Fk}),(function(e){return e.reset()})),Fk=function(){function e(){Pe(this,e),this.next=this.g=this.h=null}return De(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jk(e){vy.setTimeout((function(){throw e}),0)}function Uk(e,t){Dk||function(){var e=vy.Promise.resolve(void 0);Dk=function(){e.then(Bk)}}(),Vk||(Dk(),Vk=!0),zk.add(e,t)}var Vk=!1,zk=new Mk;function Bk(){for(var e;e=Rk();){try{e.h.call(e.g)}catch(n){jk(n)}var t=Lk;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vk=!1}function qk(e,t){Nk.call(this),this.h=e||1,this.g=t||vy,this.j=Ey(this.kb,this),this.l=Date.now()}function Wk(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Hk(e,t,n){if("function"===typeof e)n&&(e=Ey(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ey(e.handleEvent,e)}return 2147483647<Number(t)?-1:vy.setTimeout(e,t||0)}function Kk(e){e.g=Hk((function(){e.g=null,e.i&&(e.i=!1,Kk(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}_y(qk,Nk),(fy=qk.prototype).da=!1,fy.S=null,fy.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ok(this,"tick"),this.da&&(Wk(this),this.start()))}},fy.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fy.M=function(){qk.Z.M.call(this),Wk(this),delete this.g};var Gk=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return De(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Kk(this)}},{key:"M",value:function(){Xl(Fe(n.prototype),"M",this).call(this),this.g&&(vy.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Iy);function Qk(e){Iy.call(this),this.h=e,this.g={}}_y(Qk,Iy);var Yk=[];function $k(e,t,n,r){Array.isArray(n)||(n&&(Yk[0]=n.toString()),n=Yk);for(var i=0;i<n.length;i++){var a=kk(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Jk(e){Uy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ek(e)}),e),e.g={}}function Xk(){this.g=!0}function Zk(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Pk(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Qk.prototype.M=function(){Qk.Z.M.call(this),Jk(this)},Qk.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xk.prototype.Aa=function(){this.g=!1},Xk.prototype.info=function(){};var eb={},tb=null;function nb(){return tb=tb||new Nk}function rb(e){sk.call(this,eb.Ma,e)}function ib(e){var t=nb();Ok(t,new rb(t,e))}function ab(e,t){sk.call(this,eb.STAT_EVENT,e),this.stat=t}function ob(e){var t=nb();Ok(t,new ab(t,e))}function sb(e,t){sk.call(this,eb.Na,e),this.size=t}function ub(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vy.setTimeout((function(){e()}),t)}eb.Ma="serverreachability",_y(rb,sk),eb.STAT_EVENT="statevent",_y(ab,sk),eb.Na="timingevent",_y(sb,sk);var cb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fb(){}function hb(e){return e.h||(e.h=e.i())}function db(){}fb.prototype.h=null;var pb,vb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mb(){sk.call(this,"d")}function gb(){sk.call(this,"c")}function yb(){}function kb(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Qk(this),this.P=wb,e=Qy?125:void 0,this.W=new qk(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bb}function bb(){this.i=null,this.g="",this.h=!1}_y(mb,sk),_y(gb,sk),_y(yb,fb),yb.prototype.g=function(){return new XMLHttpRequest},yb.prototype.i=function(){return{}},pb=new yb;var wb=45e3,xb={},Eb={};function Tb(e,t,n){e.K=1,e.v=Gb(zb(t)),e.s=n,e.U=!0,_b(e,null)}function _b(e,t){e.F=Date.now(),Nb(e),e.A=zb(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ow(n.h,"t",r),e.C=0,n=e.l.H,e.h=new bb,e.g=ux(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Gk(Ey(e.Ia,e,e.g),e.O)),$k(e.V,e.g,"readystatechange",e.gb),t=e.H?Vy(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ib(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ib(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Sb(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Cb(e,n))==Eb){4==t&&(e.o=4,ob(14),i=!1),Zk(e.j,e.m,null,"[Incomplete Response]");break}if(r==xb){e.o=4,ob(15),Zk(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zk(e.j,e.m,r,null),Db(e,r)}Ib(e)&&r!=Eb&&r!=xb&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ob(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ex(t),t.L=!0,ob(11))):(Zk(e.j,e.m,n,"[Invalid Chunked Response]"),Rb(e),Pb(e))}function Cb(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Eb:(n=Number(t.substring(n,r)),isNaN(n)?xb:(r+=1)+n>t.length?Eb:(t=t.substr(r,n),e.C=r+n,t))}function Nb(e){e.Y=Date.now()+e.P,Ob(e,e.P)}function Ob(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ub(Ey(e.eb,e),t)}function Ab(e){e.B&&(vy.clearTimeout(e.B),e.B=null)}function Pb(e){0==e.l.G||e.I||rx(e.l,e)}function Rb(e){Ab(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Wk(e.W),Jk(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Db(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pw(n.i,e)))if(n.I=e.N,!e.J&&pw(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;nx(n),Hw(n)}Zw(n),ob(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ub(Ey(n.ab,n),6e3));if(1>=dw(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ax(n,11)}else if((e.J||n.g==e)&&nx(n),!Py(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(My(l,"spdy")||My(l,"quic")||My(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(vw(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Kb(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=sx(r,r.H?r.la:null,r.W),d.J){mw(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ab(p),Nb(p)),r.g=d}else Xw(r);0<n.l.length&&Qw(n)}else"stop"!=a[0]&&"close"!=a[0]||ax(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ax(n,7):Ww(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ib(4)}catch(a){}}function Mb(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gy(e)||"string"===typeof e)Ny(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(gy(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(gy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Lb(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Lb)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Fb(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jb(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)jb(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function jb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(fy=kb.prototype).setTimeout=function(e){this.P=e},fy.gb=function(e){e=e.target;var t=this.L;t&&3==Uw(e)?t.l():this.Ia(e)},fy.Ia=function(e){try{if(e==this.g)e:{var t=Uw(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Qy||this.g&&(this.h.h||this.g.ga()||Vw(this.g)))){this.I||4!=t||7==n||ib(8==n||0>=r?3:2),Ab(this);var i=this.g.ba();this.N=i;t:if(Ib(this)){var a=Vw(this.g);e="";var o=a.length,s=4==Uw(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rb(this),Pb(this);var u="";break t}this.h.i=new vy.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Py(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ob(12),Rb(this),Pb(this);break e}Zk(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Db(this,i)}this.U?(Sb(this,t,u),Qy&&this.i&&3==t&&($k(this.V,this.W,"tick",this.fb),this.W.start())):(Zk(this.j,this.m,u,null),Db(this,u)),4==t&&Rb(this),this.i&&!this.I&&(4==t?rx(this.l,this):(this.i=!1,Nb(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ob(12)):(this.o=0,ob(13)),Rb(this),Pb(this)}}}catch(t){}},fy.fb=function(){if(this.g){var e=Uw(this.g),t=this.g.ga();this.C<t.length&&(Ab(this),Sb(this,e,t),this.i&&4!=e&&Nb(this))}},fy.cancel=function(){this.I=!0,Rb(this)},fy.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ib(3),ob(17)),Rb(this),this.o=2,Pb(this)):Ob(this,this.Y-e)},(fy=Lb.prototype).R=function(){Fb(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},fy.T=function(){return Fb(this),this.g.concat()},fy.get=function(e,t){return jb(this.h,e)?this.h[e]:t},fy.set=function(e,t){jb(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},fy.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ub=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vb(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Vb){this.g=void 0!==t?t:e.g,Bb(this,e.j),this.s=e.s,qb(this,e.i),Wb(this,e.m),this.l=e.l,t=e.h;var n=new nw;n.i=t.i,t.g&&(n.g=new Lb(t.g),n.h=t.h),Hb(this,n),this.o=e.o}else e&&(n=String(e).match(Ub))?(this.g=!!t,Bb(this,n[1]||"",!0),this.s=Qb(n[2]||""),qb(this,n[3]||"",!0),Wb(this,n[4]),this.l=Qb(n[5]||"",!0),Hb(this,n[6]||"",!0),this.o=Qb(n[7]||"")):(this.g=!!t,this.h=new nw(null,this.g))}function zb(e){return new Vb(e)}function Bb(e,t,n){e.j=n?Qb(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qb(e,t,n){e.i=n?Qb(t,!0):t}function Wb(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hb(e,t,n){t instanceof nw?(e.h=t,function(e,t){t&&!e.j&&(rw(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(iw(this,t),ow(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Yb(t,ew)),e.h=new nw(t,e.g))}function Kb(e,t,n){e.h.set(t,n)}function Gb(e){return Kb(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qb(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yb(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$b),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $b(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vb.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yb(t,Jb,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yb(t,Jb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yb(n,"/"==n.charAt(0)?Zb:Xb,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yb(n,tw)),e.join("")};var Jb=/[#\/\?@]/g,Xb=/[#\?:]/g,Zb=/[#\?]/g,ew=/[#\?@]/g,tw=/#/g;function nw(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rw(e){e.g||(e.g=new Lb,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function iw(e,t){rw(e),t=sw(e,t),jb(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,jb((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fb(e)))}function aw(e,t){return rw(e),t=sw(e,t),jb(e.g.h,t)}function ow(e,t,n){iw(e,t),0<n.length&&(e.i=null,e.g.set(sw(e,t),Ay(n)),e.h+=n.length)}function sw(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(fy=nw.prototype).add=function(e,t){rw(this),this.i=null,e=sw(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},fy.forEach=function(e,t){rw(this),this.g.forEach((function(n,r){Ny(n,(function(n){e.call(t,n,r,this)}),this)}),this)},fy.T=function(){rw(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},fy.R=function(e){rw(this);var t=[];if("string"===typeof e)aw(this,e)&&(t=Oy(t,this.g.get(sw(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Oy(t,e[n])}return t},fy.set=function(e,t){return rw(this),this.i=null,aw(this,e=sw(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},fy.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},fy.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var uw=De((function e(t,n){Pe(this,e),this.h=t,this.g=n}));function cw(e){this.l=e||fw,vy.PerformanceNavigationTiming?e=0<(e=vy.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vy.g&&vy.g.Ea&&vy.g.Ea()&&vy.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lw,fw=10;function hw(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dw(e){return e.h?1:e.g?e.g.size:0}function pw(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vw(e,t){e.g?e.g.add(t):e.h=t}function mw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gw(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=bc(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ay(e.i)}function yw(){}function kw(){this.g=new yw}function bw(e,t,n){var r=n||"";try{Mb(e,(function(e,n){var i=e;yy(e)&&(i=Pk(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ww(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function xw(e){this.l=e.$b||null,this.j=e.ib||!1}function Ew(e,t){Nk.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Tw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cw.prototype.cancel=function(){if(this.i=gw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=bc(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yw.prototype.stringify=function(e){return vy.JSON.stringify(e,void 0)},yw.prototype.parse=function(e){return vy.JSON.parse(e,void 0)},_y(xw,fb),xw.prototype.g=function(){return new Ew(this.l,this.j)},xw.prototype.i=(lw={},function(){return lw}),_y(Ew,Nk);var Tw=0;function _w(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Iw(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sw(e)}function Sw(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(fy=Ew.prototype).open=function(e,t){if(this.readyState!=Tw)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sw(this)},fy.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vy).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},fy.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Iw(this)),this.readyState=Tw},fy.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sw(this)),this.g&&(this.readyState=3,Sw(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof vy.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_w(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},fy.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Iw(this):Sw(this),3==this.readyState&&_w(this)}},fy.Ua=function(e){this.g&&(this.response=this.responseText=e,Iw(this))},fy.Ta=function(e){this.g&&(this.response=e,Iw(this))},fy.ha=function(){this.g&&Iw(this)},fy.setRequestHeader=function(e,t){this.v.append(e,t)},fy.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},fy.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ew.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cw=vy.JSON.parse;function Nw(e){Nk.call(this),this.headers=new Lb,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ow,this.K=this.L=!1}_y(Nw,Nk);var Ow="",Aw=/^https?$/i,Pw=["POST","PUT"];function Rw(e){return"content-type"==e.toLowerCase()}function Dw(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Mw(e),Fw(e)}function Mw(e){e.D||(e.D=!0,Ok(e,"complete"),Ok(e,"error"))}function Lw(e){if(e.h&&"undefined"!=typeof py&&(!e.C[1]||4!=Uw(e)||2!=e.ba()))if(e.v&&4==Uw(e))Hk(e.Fa,0,e);else if(Ok(e,"readystatechange"),4==Uw(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ub)[1]||null;if(!a&&vy.self&&vy.self.location){var o=vy.self.location.protocol;a=o.substr(0,o.length-1)}i=!Aw.test(a?a.toLowerCase():"")}t=i}if(t)Ok(e,"complete"),Ok(e,"success");else{e.m=6;try{var s=2<Uw(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Mw(e)}}finally{Fw(e)}}}function Fw(e,t){if(e.g){jw(e);var n=e.g,r=e.C[0]?my:null;e.g=null,e.C=null,t||Ok(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function jw(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vy.clearTimeout(e.A),e.A=null)}function Uw(e){return e.g?e.g.readyState:0}function Vw(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ow:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zw(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Uy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kb(e,t,n))}function Bw(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qw(e){this.za=0,this.l=[],this.h=new Xk,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bw("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bw("baseRetryDelayMs",5e3,e),this.$a=Bw("retryDelaySeedMs",1e4,e),this.Ya=Bw("forwardChannelMaxRetries",2,e),this.ra=Bw("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cw(e&&e.concurrentRequestLimit),this.Ca=new kw,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ww(e){if(Kw(e),3==e.G){var t=e.V++,n=zb(e.F);Kb(n,"SID",e.J),Kb(n,"RID",t),Kb(n,"TYPE","terminate"),$w(e,n),(t=new kb(e,e.h,t,void 0)).K=2,t.v=Gb(zb(n)),n=!1,vy.navigator&&vy.navigator.sendBeacon&&(n=vy.navigator.sendBeacon(t.v.toString(),"")),!n&&vy.Image&&((new Image).src=t.v,n=!0),n||(t.g=ux(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Nb(t)}ox(e)}function Hw(e){e.g&&(ex(e),e.g.cancel(),e.g=null)}function Kw(e){Hw(e),e.u&&(vy.clearTimeout(e.u),e.u=null),nx(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vy.clearTimeout(e.m),e.m=null)}function Gw(e,t){e.l.push(new uw(e.Za++,t)),3==e.G&&Qw(e)}function Qw(e){hw(e.i)||e.m||(e.m=!0,Uk(e.Ha,e),e.C=0)}function Yw(e,t){var n;n=t?t.m:e.V++;var r=zb(e.F);Kb(r,"SID",e.J),Kb(r,"RID",n),Kb(r,"AID",e.U),$w(e,r),e.o&&e.s&&zw(r,e.o,e.s),n=new kb(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Jw(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vw(e.i,n),Tb(n,r,t)}function $w(e,t){e.j&&Mb({},(function(e,n){Kb(t,n,e)}))}function Jw(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ey(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{bw(l,o,"req"+c+"_")}catch(Vx){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Xw(e){e.g||e.u||(e.Y=1,Uk(e.Ga,e),e.A=0)}function Zw(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ub(Ey(e.Ga,e),ix(e,e.A)),e.A++,!0)}function ex(e){null!=e.B&&(vy.clearTimeout(e.B),e.B=null)}function tx(e){e.g=new kb(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=zb(e.oa);Kb(t,"RID","rpc"),Kb(t,"SID",e.J),Kb(t,"CI",e.N?"0":"1"),Kb(t,"AID",e.U),$w(e,t),Kb(t,"TYPE","xmlhttp"),e.o&&e.s&&zw(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gb(zb(t)),n.s=null,n.U=!0,_b(n,e)}function nx(e){null!=e.v&&(vy.clearTimeout(e.v),e.v=null)}function rx(e,t){var n=null;if(e.g==t){nx(e),ex(e),e.g=null;var r=2}else{if(!pw(e.i,t))return;n=t.D,mw(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ok(r=nb(),new sb(r,n,t,i)),Qw(e)}else Xw(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(dw(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ub(Ey(e.Ha,e,t),ix(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ax(e,5);break;case 4:ax(e,10);break;case 3:ax(e,6);break;default:ax(e,2)}}function ix(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ax(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ey(e.jb,e);n||(n=new Vb("//www.google.com/images/cleardot.gif"),vy.location&&"http"==vy.location.protocol||Bb(n,"https"),Gb(n)),function(e,t){var n=new Xk;if(vy.Image){var r=new Image;r.onload=Ty(ww,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ty(ww,n,r,"TestLoadImage: error",!1,t),r.onabort=Ty(ww,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ty(ww,n,r,"TestLoadImage: timeout",!1,t),vy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ob(2);e.G=0,e.j&&e.j.va(t),ox(e),Kw(e)}function ox(e){e.G=0,e.I=-1,e.j&&(0==gw(e.i).length&&0==e.l.length||(e.i.i.length=0,Ay(e.l),e.l.length=0),e.j.ua())}function sx(e,t,n){var r=function(e){return e instanceof Vb?zb(e):new Vb(e,void 0)}(n);if(""!=r.i)t&&qb(r,t+"."+r.i),Wb(r,r.m);else{var i=vy.location;r=function(e,t,n,r){var i=new Vb(null,void 0);return e&&Bb(i,e),t&&qb(i,t),n&&Wb(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Uy(e.aa,(function(e,t){Kb(r,t,e)})),t=e.D,n=e.sa,t&&n&&Kb(r,t,n),Kb(r,"VER",e.ma),$w(e,r),r}function ux(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Nw(new xw({ib:!0})):new Nw(e.qa)).L=e.H,t}function cx(){}function lx(){if(Ky&&!(10<=Number(ak)))throw Error("Environmental error: no available transport.")}function fx(e,t){Nk.call(this),this.g=new qw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Py(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Py(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new px(this)}function hx(e){mb.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dx(){gb.call(this),this.status=1}function px(e){this.g=e}(fy=Nw.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pb.g(),this.C=this.u?hb(this.u):hb(pb),this.g.onreadystatechange=Ey(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Dw(this,a)}e=n||"";var i=new Lb(this.headers);r&&Mb(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Rw,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=vy.FormData&&e instanceof vy.FormData,!(0<=Cy(Pw,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jw(this),0<this.B&&((this.K=function(e){return Ky&&rk()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ey(this.pa,this)):this.A=Hk(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Dw(this,a)}},fy.pa=function(){"undefined"!=typeof py&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ok(this,"timeout"),this.abort(8))},fy.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ok(this,"complete"),Ok(this,"abort"),Fw(this))},fy.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fw(this,!0)),Nw.Z.M.call(this)},fy.Fa=function(){this.s||(this.F||this.v||this.l?Lw(this):this.cb())},fy.cb=function(){Lw(this)},fy.ba=function(){try{return 2<Uw(this)?this.g.status:-1}catch(lw){return-1}},fy.ga=function(){try{return this.g?this.g.responseText:""}catch(lw){return""}},fy.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cw(t)}},fy.Da=function(){return this.m},fy.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(fy=qw.prototype).ma=8,fy.G=1,fy.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},fy.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new kb(this,this.h,e,void 0),n=this.s;if(this.P&&(n?By(n=Vy(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jw(this,t,r),Kb(i=zb(this.F),"RID",e),Kb(i,"CVER",22),this.D&&Kb(i,"X-HTTP-Session-Id",this.D),$w(this,i),this.o&&n&&zw(i,this.o,n),vw(this.i,t),this.Ra&&Kb(i,"TYPE","init"),this.ja?(Kb(i,"$req",r),Kb(i,"SID","null"),t.$=!0,Tb(t,i,null)):Tb(t,i,r),this.G=2}}else 3==this.G&&(e?Yw(this,e):0==this.l.length||hw(this.i)||Yw(this))},fy.Ga=function(){if(this.u=null,tx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ub(Ey(this.bb,this),e)}},fy.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ob(10),Hw(this),tx(this))},fy.ab=function(){null!=this.v&&(this.v=null,Hw(this),Zw(this),ob(19))},fy.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ob(2)):(this.h.info("Failed to ping google.com"),ob(1))},(fy=cx.prototype).xa=function(){},fy.wa=function(){},fy.va=function(){},fy.ua=function(){},fy.Oa=function(){},lx.prototype.g=function(e,t){return new fx(e,t)},_y(fx,Nk),fx.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Uk(Ey(e.hb,e,t))),ob(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=sx(e,null,e.W),Qw(e)},fx.prototype.close=function(){Ww(this.g)},fx.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gw(this.g,t)}else this.v?((t={}).__data__=Pk(e),Gw(this.g,t)):Gw(this.g,e)},fx.prototype.M=function(){this.g.j=null,delete this.j,Ww(this.g),delete this.g,fx.Z.M.call(this)},_y(hx,mb),_y(dx,gb),_y(px,cx),px.prototype.xa=function(){Ok(this.g,"a")},px.prototype.wa=function(e){Ok(this.g,new hx(e))},px.prototype.va=function(e){Ok(this.g,new dx(e))},px.prototype.ua=function(){Ok(this.g,"b")},lx.prototype.createWebChannel=lx.prototype.g,fx.prototype.send=fx.prototype.u,fx.prototype.open=fx.prototype.m,fx.prototype.close=fx.prototype.close,cb.NO_ERROR=0,cb.TIMEOUT=8,cb.HTTP_ERROR=6,lb.COMPLETE="complete",db.EventType=vb,vb.OPEN="a",vb.CLOSE="b",vb.ERROR="c",vb.MESSAGE="d",Nk.prototype.listen=Nk.prototype.N,Nw.prototype.listenOnce=Nw.prototype.O,Nw.prototype.getLastError=Nw.prototype.La,Nw.prototype.getLastErrorCode=Nw.prototype.Da,Nw.prototype.getStatus=Nw.prototype.ba,Nw.prototype.getResponseJson=Nw.prototype.Qa,Nw.prototype.getResponseText=Nw.prototype.ga,Nw.prototype.send=Nw.prototype.ea;var vx=dy.createWebChannelTransport=function(){return new lx},mx=dy.getStatEventTarget=function(){return nb()},gx=dy.ErrorCode=cb,yx=dy.EventType=lb,kx=dy.Event=eb,bx=dy.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wx=dy.FetchXmlHttpFactory=xw,xx=dy.WebChannel=db,Ex=dy.XhrIo=Nw,Tx="@firebase/firestore",_x=function(){function e(t){Pe(this,e),this.uid=t}return De(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_x.UNAUTHENTICATED=new _x(null),_x.GOOGLE_CREDENTIALS=new _x("google-credentials-uid"),_x.FIRST_PARTY=new _x("first-party-uid"),_x.MOCK_USER=new _x("mock-user");var Ix="9.6.1",Sx=new vl("@firebase/firestore");function Cx(){return Sx.logLevel}function Nx(e){if(Sx.logLevel<=ol.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Px);Sx.debug.apply(Sx,["Firestore (".concat(Ix,"): ").concat(e)].concat(Ae(i)))}}function Ox(e){if(Sx.logLevel<=ol.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Px);Sx.error.apply(Sx,["Firestore (".concat(Ix,"): ").concat(e)].concat(Ae(i)))}}function Ax(e){if(Sx.logLevel<=ol.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Px);Sx.warn.apply(Sx,["Firestore (".concat(Ix,"): ").concat(e)].concat(Ae(i)))}}function Px(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Rx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ix,") INTERNAL ASSERTION FAILED: ")+e;throw Ox(t),new Error(t)}function Dx(e,t){e||Rx()}function Mx(e,t){return e}var Lx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fx=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return De(n)}(xc(Error)),jx=De((function e(){var t=this;Pe(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ux=De((function e(t,n){Pe(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vx=function(){function e(){Pe(this,e)}return De(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_x.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),zx=function(){function e(t){Pe(this,e),this.token=t,this.changeListener=null}return De(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bx=function(){function e(t){Pe(this,e),this.t=t,this.currentUser=_x.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return De(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new jx;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new jx,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Nx("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Nx("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jx)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Nx("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Dx("string"==typeof n.accessToken),new Ux(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Dx(null===e||"string"==typeof e),new _x(e)}}]),e}(),qx=De((function e(t,n,r){Pe(this,e),this.type="FirstParty",this.user=_x.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Wx=function(){function e(t,n,r){Pe(this,e),this.h=t,this.l=n,this.m=r}return De(e,[{key:"getToken",value:function(){return Promise.resolve(new qx(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_x.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hx=De((function e(t){Pe(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Kx=function(){function e(t){Pe(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return De(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Nx("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Nx("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Nx("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Dx("string"==typeof e.token),new Hx(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Gx=function(){function e(t,n){var r=this;Pe(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return De(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Qx(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Gx.I=-1;var Yx=function(){function e(){Pe(this,e)}return De(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Qx(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function $x(e,t){return e<t?-1:e>t?1:0}function Jx(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Xx(e){return e+"\0"}var Zx=function(){function e(t,n){if(Pe(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fx(Lx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fx(Lx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fx(Lx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fx(Lx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return De(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$x(this.nanoseconds,e.nanoseconds):$x(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),eE=function(){function e(t){Pe(this,e),this.timestamp=t}return De(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zx(0,0))}}]),e}();function tE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nE(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var iE=function(){function e(t,n,r){Pe(this,e),void 0===n?n=0:n>t.length&&Rx(),void 0===r?r=t.length-n:r>t.length-n&&Rx(),this.segments=t,this.offset=n,this.len=r}return De(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),aE=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Ae(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(iE),oE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sE=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return oE.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Fx(Lx.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fx(Lx.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Fx(Lx.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(iE),uE=function(){function e(t){Pe(this,e),this.fields=t,t.sort(sE.comparator)}return De(e,[{key:"covers",value:function(e){var t,n=bc(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Jx(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var cE=function(){function e(t){Pe(this,e),this.binaryString=t}return De(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $x(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();cE.EMPTY_BYTE_STRING=new cE("");var lE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fE(e){if(Dx(!!e),"string"==typeof e){var t=0,n=lE.exec(e);if(Dx(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hE(e.seconds),nanos:hE(e.nanos)}}function hE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dE(e){return"string"==typeof e?cE.fromBase64String(e):cE.fromUint8Array(e)}function pE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vE(e){var t=e.mapValue.fields.__previous_value__;return pE(t)?vE(t):t}function mE(e){var t=fE(e.mapValue.fields.__local_write_time__.timestampValue);return new Zx(t.seconds,t.nanos)}function gE(e){return null==e}function yE(e){return 0===e&&1/e==-1/0}function kE(e){return"number"==typeof e&&Number.isInteger(e)&&!yE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var bE=function(){function e(t){Pe(this,e),this.path=t}return De(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===aE.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(aE.fromString(t))}},{key:"fromName",value:function(t){return new e(aE.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return aE.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new aE(t.slice()))}}]),e}();function wE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pE(e)?4:10:Rx()}function xE(e,t){var n=wE(e);if(n!==wE(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mE(e).isEqual(mE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fE(e.timestampValue),r=fE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dE(e.bytesValue).isEqual(dE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hE(e.geoPointValue.latitude)===hE(t.geoPointValue.latitude)&&hE(e.geoPointValue.longitude)===hE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hE(e.integerValue)===hE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=hE(e.doubleValue),r=hE(t.doubleValue);return n===r?yE(n)===yE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jx(e.arrayValue.values||[],t.arrayValue.values||[],xE);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tE(n)!==tE(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xE(n[i],r[i])))return!1;return!0}(e,t);default:return Rx()}}function EE(e,t){return void 0!==(e.values||[]).find((function(e){return xE(e,t)}))}function TE(e,t){var n=wE(e),r=wE(t);if(n!==r)return $x(n,r);switch(n){case 0:return 0;case 1:return $x(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=hE(e.integerValue||e.doubleValue),r=hE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _E(e.timestampValue,t.timestampValue);case 4:return _E(mE(e),mE(t));case 5:return $x(e.stringValue,t.stringValue);case 6:return function(e,t){var n=dE(e),r=dE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$x(n[i],r[i]);if(0!==a)return a}return $x(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$x(hE(e.latitude),hE(t.latitude));return 0!==n?n:$x(hE(e.longitude),hE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=TE(n[i],r[i]);if(a)return a}return $x(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=$x(r[o],a[o]);if(0!==s)return s;var u=TE(n[r[o]],i[a[o]]);if(0!==u)return u}return $x(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Rx()}}function _E(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $x(e,t);var n=fE(e),r=fE(t),i=$x(n.seconds,r.seconds);return 0!==i?i:$x(n.nanos,r.nanos)}function IE(e){return SE(e)}function SE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bE.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=bc(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=SE(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=bc(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(SE(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Rx();var t,n}function CE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function NE(e){return!!e&&"integerValue"in e}function OE(e){return!!e&&"arrayValue"in e}function AE(e){return!!e&&"nullValue"in e}function PE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function RE(e){return!!e&&"mapValue"in e}function DE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return nE(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=DE(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=DE(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ME=function(){function e(t){Pe(this,e),this.value=t}return De(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!RE(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=DE(t)}},{key:"setAll",value:function(e){var t=this,n=sE.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=DE(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());RE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return xE(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];RE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){nE(t,(function(t,n){return e[t]=n}));var r,i=bc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(DE(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function LE(e){var t=[];return nE(e.fields,(function(e,n){var r=new sE([e]);if(RE(n)){var i=LE(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=bc(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new uE(t)}var FE=function(){function e(t,n,r,i,a){Pe(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return De(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ME.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ME.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,eE.min(),ME.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ME.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ME.empty(),2)}}]),e}(),jE=De((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Pe(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function UE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jE(e,t,n,r,i,a,o)}function VE(e){var t=Mx(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+IE(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ZE(t.startAt)),t.endAt&&(n+="|ub:",n+=ZE(t.endAt)),t.R=n}return t.R}function zE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!tT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!xE(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rT(e.startAt,t.startAt)&&rT(e.endAt,t.endAt)}function BE(e){return bE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var qE=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return De(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(TE(t,this.value)):null!==t&&wE(this.value)===wE(t)&&this.v(TE(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rx()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new WE(e,t,r):"array-contains"===t?new QE(e,r):"in"===t?new YE(e,r):"not-in"===t?new $E(e,r):"array-contains-any"===t?new JE(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new HE(e,n):new KE(e,n)}}]),n}(function(){return De((function e(){Pe(this,e)}))}());var WE=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this,e,r,i)).key=bE.fromName(i.referenceValue),a}return De(n,[{key:"matches",value:function(e){var t=bE.comparator(e.key,this.key);return this.v(t)}}]),n}(qE),HE=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,"in",r)).keys=GE("in",r),i}return De(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qE),KE=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,"not-in",r)).keys=GE("not-in",r),i}return De(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qE);function GE(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return bE.fromName(e.referenceValue)}))}var QE=function(e){Le(n,e);var t=ze(n);function n(e,r){return Pe(this,n),t.call(this,e,"array-contains",r)}return De(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return OE(t)&&EE(t.arrayValue,this.value)}}]),n}(qE),YE=function(e){Le(n,e);var t=ze(n);function n(e,r){return Pe(this,n),t.call(this,e,"in",r)}return De(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&EE(this.value.arrayValue,t)}}]),n}(qE),$E=function(e){Le(n,e);var t=ze(n);function n(e,r){return Pe(this,n),t.call(this,e,"not-in",r)}return De(n,[{key:"matches",value:function(e){if(EE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!EE(this.value.arrayValue,t)}}]),n}(qE),JE=function(e){Le(n,e);var t=ze(n);function n(e,r){return Pe(this,n),t.call(this,e,"array-contains-any",r)}return De(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!OE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return EE(t.value.arrayValue,e)}))}}]),n}(qE),XE=De((function e(t,n){Pe(this,e),this.position=t,this.before=n}));function ZE(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return IE(e)})).join(","))}var eT=De((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Pe(this,e),this.field=t,this.dir=n}));function tT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function nT(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?bE.comparator(bE.fromName(o.referenceValue),n.key):TE(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function rT(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!xE(e.position[n],t.position[n]))return!1;return!0}var iT=De((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Pe(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function aT(e,t,n,r,i,a,o,s){return new iT(e,t,n,r,i,a,o,s)}function oT(e){return new iT(e)}function sT(e){return!gE(e.limit)&&"F"===e.limitType}function uT(e){return!gE(e.limit)&&"L"===e.limitType}function cT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function lT(e){var t,n=bc(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function fT(e){return null!==e.collectionGroup}function hT(e){var t=Mx(e);if(null===t.S){t.S=[];var n=lT(t),r=cT(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new eT(n)),t.S.push(new eT(sE.keyField(),"asc"));else{var i,a=!1,o=bc(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new eT(sE.keyField(),u))}}}return t.S}function dT(e){var t=Mx(e);if(!t.D)if("F"===t.limitType)t.D=UE(t.path,t.collectionGroup,hT(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=bc(hT(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new eT(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new XE(t.endAt.position,!t.endAt.before):null,u=t.startAt?new XE(t.startAt.position,!t.startAt.before):null;t.D=UE(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function pT(e,t,n){return new iT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vT(e,t){return zE(dT(e),dT(t))&&e.limitType===t.limitType}function mT(e){return"".concat(VE(dT(e)),"|lt:").concat(e.limitType)}function gT(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(IE(t.value));var t})).join(", "),"]")),gE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+ZE(e.startAt)),e.endAt&&(t+=", endAt: "+ZE(e.endAt)),"Target(".concat(t,")")}(dT(e)),"; limitType=").concat(e.limitType,")")}function yT(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=bc(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=bc(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!nT(e.startAt,hT(e),t))&&(!e.endAt||!nT(e.endAt,hT(e),t))}(e,t)}function kT(e){return function(t,n){var r,i=!1,a=bc(hT(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=bT(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function bT(e,t,n){var r=e.field.isKeyField()?bE.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?TE(r,i):Rx()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rx()}}function wT(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yE(t)?"-0":t}}function xT(e){return{integerValue:""+e}}function ET(e,t){return kE(t)?xT(t):wT(e,t)}var TT=De((function e(){Pe(this,e),this._=void 0}));function _T(e,t,n){return e instanceof CT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof NT?OT(e,t):e instanceof AT?PT(e,t):function(e,t){var n=ST(e,t),r=DT(n)+DT(e.N);return NE(n)&&NE(e.N)?xT(r):wT(e.k,r)}(e,t)}function IT(e,t,n){return e instanceof NT?OT(e,t):e instanceof AT?PT(e,t):n}function ST(e,t){return e instanceof RT?NE(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var CT=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n)}(TT),NT=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).elements=e,r}return De(n)}(TT);function OT(e,t){var n,r=MT(t),i=bc(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return xE(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var AT=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).elements=e,r}return De(n)}(TT);function PT(e,t){var n,r=MT(t),i=bc(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!xE(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var RT=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).k=e,i.N=r,i}return De(n)}(TT);function DT(e){return hE(e.integerValue||e.doubleValue)}function MT(e){return OE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var LT=De((function e(t,n){Pe(this,e),this.field=t,this.transform=n}));var FT=De((function e(t,n){Pe(this,e),this.version=t,this.transformResults=n})),jT=function(){function e(t,n){Pe(this,e),this.updateTime=t,this.exists=n}return De(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function UT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var VT=De((function e(){Pe(this,e)}));function zT(e,t,n){e instanceof KT?function(e,t,n){var r=e.value.clone(),i=YT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof GT?function(e,t,n){if(UT(e.precondition,t)){var r=YT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(QT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function BT(e,t,n){e instanceof KT?function(e,t,n){if(UT(e.precondition,t)){var r=e.value.clone(),i=$T(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(HT(t),r).setHasLocalMutations()}}(e,t,n):e instanceof GT?function(e,t,n){if(UT(e.precondition,t)){var r=$T(e.fieldTransforms,n,t),i=t.data;i.setAll(QT(e)),i.setAll(r),t.convertToFoundDocument(HT(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){UT(e.precondition,t)&&t.convertToNoDocument(eE.min())}(e,t)}function qT(e,t){var n,r=null,i=bc(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=ST(a.transform,o||null);null!=s&&(null==r&&(r=ME.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function WT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jx(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof NT&&t instanceof NT||e instanceof AT&&t instanceof AT?Jx(e.elements,t.elements,xE):e instanceof RT&&t instanceof RT?xE(e.N,t.N):e instanceof CT&&t instanceof CT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function HT(e){return e.isFoundDocument()?e.version:eE.min()}var KT=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Pe(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return De(n)}(VT),GT=function(e){Le(n,e);var t=ze(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Pe(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return De(n)}(VT);function QT(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function YT(e,t,n){var r=new Map;Dx(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,IT(o,s,n[i]))}return r}function $T(e,t,n){var r,i=new Map,a=bc(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,_T(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var JT,XT,ZT=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return De(n)}(VT),e_=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return De(n)}(VT),t_=De((function e(t){Pe(this,e),this.count=t}));function n_(e){switch(e){default:return Rx();case Lx.CANCELLED:case Lx.UNKNOWN:case Lx.DEADLINE_EXCEEDED:case Lx.RESOURCE_EXHAUSTED:case Lx.INTERNAL:case Lx.UNAVAILABLE:case Lx.UNAUTHENTICATED:return!1;case Lx.INVALID_ARGUMENT:case Lx.NOT_FOUND:case Lx.ALREADY_EXISTS:case Lx.PERMISSION_DENIED:case Lx.FAILED_PRECONDITION:case Lx.ABORTED:case Lx.OUT_OF_RANGE:case Lx.UNIMPLEMENTED:case Lx.DATA_LOSS:return!0}}function r_(e){if(void 0===e)return Ox("GRPC error has no .code"),Lx.UNKNOWN;switch(e){case JT.OK:return Lx.OK;case JT.CANCELLED:return Lx.CANCELLED;case JT.UNKNOWN:return Lx.UNKNOWN;case JT.DEADLINE_EXCEEDED:return Lx.DEADLINE_EXCEEDED;case JT.RESOURCE_EXHAUSTED:return Lx.RESOURCE_EXHAUSTED;case JT.INTERNAL:return Lx.INTERNAL;case JT.UNAVAILABLE:return Lx.UNAVAILABLE;case JT.UNAUTHENTICATED:return Lx.UNAUTHENTICATED;case JT.INVALID_ARGUMENT:return Lx.INVALID_ARGUMENT;case JT.NOT_FOUND:return Lx.NOT_FOUND;case JT.ALREADY_EXISTS:return Lx.ALREADY_EXISTS;case JT.PERMISSION_DENIED:return Lx.PERMISSION_DENIED;case JT.FAILED_PRECONDITION:return Lx.FAILED_PRECONDITION;case JT.ABORTED:return Lx.ABORTED;case JT.OUT_OF_RANGE:return Lx.OUT_OF_RANGE;case JT.UNIMPLEMENTED:return Lx.UNIMPLEMENTED;case JT.DATA_LOSS:return Lx.DATA_LOSS;default:return Rx()}}(XT=JT||(JT={}))[XT.OK=0]="OK",XT[XT.CANCELLED=1]="CANCELLED",XT[XT.UNKNOWN=2]="UNKNOWN",XT[XT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",XT[XT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",XT[XT.NOT_FOUND=5]="NOT_FOUND",XT[XT.ALREADY_EXISTS=6]="ALREADY_EXISTS",XT[XT.PERMISSION_DENIED=7]="PERMISSION_DENIED",XT[XT.UNAUTHENTICATED=16]="UNAUTHENTICATED",XT[XT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",XT[XT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",XT[XT.ABORTED=10]="ABORTED",XT[XT.OUT_OF_RANGE=11]="OUT_OF_RANGE",XT[XT.UNIMPLEMENTED=12]="UNIMPLEMENTED",XT[XT.INTERNAL=13]="INTERNAL",XT[XT.UNAVAILABLE=14]="UNAVAILABLE",XT[XT.DATA_LOSS=15]="DATA_LOSS";var i_=function(){function e(t,n){Pe(this,e),this.comparator=t,this.root=n||o_.EMPTY}return De(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,o_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,o_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new a_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new a_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new a_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new a_(this.root,e,this.comparator,!0)}}]),e}(),a_=function(){function e(t,n,r,i){Pe(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return De(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),o_=function(){function e(t,n,r,i,a){Pe(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return De(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Rx();if(this.right.isRed())throw Rx();var e=this.left.check();if(e!==this.right.check())throw Rx();return e+(this.isRed()?0:1)}}]),e}();o_.EMPTY=null,o_.RED=!0,o_.BLACK=!1,o_.EMPTY=new(function(){function e(){Pe(this,e),this.size=0}return De(e,[{key:"key",get:function(){throw Rx()}},{key:"value",get:function(){throw Rx()}},{key:"color",get:function(){throw Rx()}},{key:"left",get:function(){throw Rx()}},{key:"right",get:function(){throw Rx()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new o_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var s_=function(){function e(t){Pe(this,e),this.comparator=t,this.data=new i_(this.comparator)}return De(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new u_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new u_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),u_=function(){function e(t){Pe(this,e),this.iter=t}return De(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),c_=new i_(bE.comparator);function l_(){return c_}var f_=new i_(bE.comparator);function h_(){return f_}var d_=new i_(bE.comparator);function p_(){return d_}var v_=new s_(bE.comparator);function m_(){for(var e=v_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var g_=new s_($x);function y_(){return g_}var k_=function(){function e(t,n,r,i,a){Pe(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return De(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,b_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(eE.min(),r,y_(),l_(),m_())}}]),e}(),b_=function(){function e(t,n,r,i,a){Pe(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return De(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(cE.EMPTY_BYTE_STRING,n,m_(),m_(),m_())}}]),e}(),w_=De((function e(t,n,r,i){Pe(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),x_=De((function e(t,n){Pe(this,e),this.targetId=t,this.O=n})),E_=De((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cE.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Pe(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),T_=function(){function e(){Pe(this,e),this.M=0,this.L=S_(),this.B=cE.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return De(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=m_(),t=m_(),n=m_();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rx()}})),new b_(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=S_()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),__=function(){function e(t){Pe(this,e),this.et=t,this.nt=new Map,this.st=l_(),this.it=I_(),this.rt=new s_($x)}return De(e,[{key:"ot",value:function(e){var t,n=bc(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=bc(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Rx()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(BE(i))if(0===n){var a=new bE(i.path);this.ct(t,a,FE.newNoDocument(a,eE.min()))}else Dx(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&BE(a.target)){var o=new bE(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,FE.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=m_();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new k_(e,n,this.rt,this.st,r);return this.st=l_(),this.it=I_(),this.rt=new s_($x),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new T_,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new s_($x),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Nx("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new T_),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function I_(){return new i_(bE.comparator)}function S_(){return new i_(bE.comparator)}var C_={asc:"ASCENDING",desc:"DESCENDING"},N_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O_=De((function e(t,n){Pe(this,e),this.databaseId=t,this.C=n}));function A_(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function P_(e,t){return e.C?t.toBase64():t.toUint8Array()}function R_(e,t){return A_(e,t.toTimestamp())}function D_(e){return Dx(!!e),eE.fromTimestamp(function(e){var t=fE(e);return new Zx(t.seconds,t.nanos)}(e))}function M_(e,t){return function(e){return new aE(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function L_(e){var t=aE.fromString(e);return Dx(sI(t)),t}function F_(e,t){return M_(e.databaseId,t.path)}function j_(e,t){var n=L_(t);if(n.get(1)!==e.databaseId.projectId)throw new Fx(Lx.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fx(Lx.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bE(B_(n))}function U_(e,t){return M_(e.databaseId,t)}function V_(e){var t=L_(e);return 4===t.length?aE.emptyPath():B_(t)}function z_(e){return new aE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function B_(e){return Dx(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function q_(e,t,n){return{name:F_(e,t),fields:n.value.mapValue.fields}}function W_(e,t,n){var r=j_(e,t.name),i=D_(t.updateTime),a=new ME({mapValue:{fields:t.fields}}),o=FE.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function H_(e,t){return"found"in t?function(e,t){Dx(!!t.found),t.found.name,t.found.updateTime;var n=j_(e,t.found.name),r=D_(t.found.updateTime),i=new ME({mapValue:{fields:t.found.fields}});return FE.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Dx(!!t.missing),Dx(!!t.readTime);var n=j_(e,t.missing),r=D_(t.readTime);return FE.newNoDocument(n,r)}(e,t):Rx()}function K_(e,t){var n;if(t instanceof KT)n={update:q_(e,t.key,t.value)};else if(t instanceof ZT)n={delete:F_(e,t.key)};else if(t instanceof GT)n={update:q_(e,t.key,t.data),updateMask:oI(t.fieldMask)};else{if(!(t instanceof e_))return Rx();n={verify:F_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof CT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof NT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof AT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof RT)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Rx()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:R_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Rx()}(e,t.precondition)),n}function G_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?jT.updateTime(D_(e.updateTime)):void 0!==e.exists?jT.exists(e.exists):jT.none()}(t.currentDocument):jT.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Dx("REQUEST_TIME"===t.setToServerValue),n=new CT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new NT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new AT(i)}else"increment"in t?n=new RT(e,t.increment):Rx();var a=sE.fromServerFormat(t.fieldPath);return new LT(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=j_(e,t.update.name),a=new ME({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new uE(t.map((function(e){return sE.fromServerFormat(e)})))}(t.updateMask);return new GT(i,a,o,n,r)}return new KT(i,a,n,r)}if(t.delete){var s=j_(e,t.delete);return new ZT(s,n)}if(t.verify){var u=j_(e,t.verify);return new e_(u,n)}return Rx()}function Q_(e,t){return{documents:[U_(e,t.path)]}}function Y_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=U_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=U_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(PE(e.value))return{unaryFilter:{field:nI(e.field),op:"IS_NAN"}};if(AE(e.value))return{unaryFilter:{field:nI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PE(e.value))return{unaryFilter:{field:nI(e.field),op:"IS_NOT_NAN"}};if(AE(e.value))return{unaryFilter:{field:nI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nI(e.field),op:tI(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nI(e.field),direction:eI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||gE(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=X_(t.startAt)),t.endAt&&(n.structuredQuery.endAt=X_(t.endAt)),n}function $_(e){var t=V_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dx(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=J_(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new eT(rI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return gE(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Z_(n.startAt));var l=null;return n.endAt&&(l=Z_(n.endAt)),aT(t,i,s,o,u,"F",c,l)}function J_(e){return e?void 0!==e.unaryFilter?[aI(e)]:void 0!==e.fieldFilter?[iI(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return J_(e)})).reduce((function(e,t){return e.concat(t)})):Rx():[]}function X_(e){return{before:e.before,values:e.position}}function Z_(e){var t=!!e.before,n=e.values||[];return new XE(n,t)}function eI(e){return C_[e]}function tI(e){return N_[e]}function nI(e){return{fieldPath:e.canonicalString()}}function rI(e){return sE.fromServerFormat(e.fieldPath)}function iI(e){return qE.create(rI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rx()}}(e.fieldFilter.op),e.fieldFilter.value)}function aI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rI(e.unaryFilter.field);return qE.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rI(e.unaryFilter.field);return qE.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rI(e.unaryFilter.field);return qE.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rI(e.unaryFilter.field);return qE.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Rx()}}function oI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function uI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lI(t)),t=cI(e.get(n),t);return lI(t)}function cI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function lI(e){return e+"\x01\x01"}function fI(e){var t=e.length;if(Dx(t>=2),2===t)return Dx("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),aE.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Rx(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Rx()}a=o+2}return new aE(r)}var hI=De((function e(t,n){Pe(this,e),this.seconds=t,this.nanoseconds=n})),dI=De((function e(t,n,r){Pe(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));dI.store="owner",dI.key="owner";var pI=De((function e(t,n,r){Pe(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));pI.store="mutationQueues",pI.keyPath="userId";var vI=De((function e(t,n,r,i,a){Pe(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));vI.store="mutations",vI.keyPath="batchId",vI.userMutationsIndex="userMutationsIndex",vI.userMutationsKeyPath=["userId","batchId"];var mI=function(){function e(){Pe(this,e)}return De(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,uI(t)]}},{key:"key",value:function(e,t,n){return[e,uI(t),n]}}]),e}();mI.store="documentMutations",mI.PLACEHOLDER=new mI;var gI=De((function e(t,n){Pe(this,e),this.path=t,this.readTime=n})),yI=De((function e(t,n){Pe(this,e),this.path=t,this.version=n})),kI=De((function e(t,n,r,i,a,o){Pe(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));kI.store="remoteDocuments",kI.readTimeIndex="readTimeIndex",kI.readTimeIndexPath="readTime",kI.collectionReadTimeIndex="collectionReadTimeIndex",kI.collectionReadTimeIndexPath=["parentPath","readTime"];var bI=De((function e(t){Pe(this,e),this.byteSize=t}));bI.store="remoteDocumentGlobal",bI.key="remoteDocumentGlobalKey";var wI=De((function e(t,n,r,i,a,o,s){Pe(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));wI.store="targets",wI.keyPath="targetId",wI.queryTargetsIndexName="queryTargetsIndex",wI.queryTargetsKeyPath=["canonicalId","targetId"];var xI=De((function e(t,n,r){Pe(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));xI.store="targetDocuments",xI.keyPath=["targetId","path"],xI.documentTargetsIndex="documentTargetsIndex",xI.documentTargetsKeyPath=["path","targetId"];var EI=De((function e(t,n,r,i){Pe(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));EI.key="targetGlobalKey",EI.store="targetGlobal";var TI=De((function e(t,n){Pe(this,e),this.collectionId=t,this.parent=n}));TI.store="collectionParents",TI.keyPath=["collectionId","parent"];var _I=De((function e(t,n,r,i){Pe(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));_I.store="clientMetadata",_I.keyPath="clientId";var II=De((function e(t,n,r){Pe(this,e),this.bundleId=t,this.createTime=n,this.version=r}));II.store="bundles",II.keyPath="bundleId";var SI=De((function e(t,n,r){Pe(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));SI.store="namedQueries",SI.keyPath="name";var CI=[pI.store,vI.store,mI.store,kI.store,wI.store,dI.store,EI.store,xI.store].concat([_I.store]).concat([bI.store]).concat([TI.store]).concat([II.store,SI.store]),NI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",OI=function(){function e(){Pe(this,e),this.onCommittedListeners=[]}return De(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),AI=function(){function e(t){var n=this;Pe(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return De(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Rx(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=bc(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),PI=function(){function e(t,n){var r=this;Pe(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new jx,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new MI(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=VI(e.target.error);r.It.reject(new MI(t,n))}}return De(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Nx("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new FI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new MI(n,t)}}}]),e}(),RI=function(){function e(t,n,r){Pe(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(Ac())&&Ox("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return De(e,[{key:"Ct",value:function(){var e=Zc(tl().mark((function e(t){var n=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Nx("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new MI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Fx(Lx.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Fx(Lx.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new MI(t,n))},i.onupgradeneeded=function(e){Nx("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Nx("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Zc(tl().mark((function e(t,n,r,i){var a,o,s,u,c=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(tl().mark((function e(){var n,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=PI.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),AI.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Nx("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Nx("SimpleDb","Removing database:",e),jI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Fc())return!1;if(e.vt())return!0;var t=Ac(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/walley",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),DI=function(){function e(t){Pe(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return De(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return jI(this.$t.delete())}}]),e}(),MI=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,Lx.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return De(n)}(Fx);function LI(e){return"IndexedDbTransactionError"===e.name}var FI=function(){function e(t){Pe(this,e),this.store=t}return De(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Nx("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Nx("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),jI(n)}},{key:"add",value:function(e){return Nx("SimpleDb","ADD",this.store.name,e,e),jI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return jI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Nx("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Nx("SimpleDb","DELETE",this.store.name,e),jI(this.store.delete(e))}},{key:"count",value:function(){return Nx("SimpleDb","COUNT",this.store.name),jI(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Nx("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new AI((function(n,r){t.onerror=function(e){var t=VI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new AI((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new DI(i),o=t(i.primaryKey,i.value,a);if(o instanceof AI){var s=o.catch((function(e){return a.done(),AI.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return AI.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function jI(e){return new AI((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=VI(e.target.error);n(t)}}))}var UI=!1;function VI(e){var t=RI.Pt(Ac());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Fx("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return UI||(UI=!0,setTimeout((function(){throw r}),0)),r}}return e}var zI=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return De(n)}(OI);function BI(e,t){var n=Mx(e);return RI.Dt(n.Wt,t)}var qI=function(){function e(t,n,r,i){Pe(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return De(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&zT(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=bc(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&BT(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=bc(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&BT(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(eE.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),m_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Jx(this.mutations,e.mutations,(function(e,t){return WT(e,t)}))&&Jx(this.baseMutations,e.baseMutations,(function(e,t){return WT(e,t)}))}}]),e}(),WI=function(){function e(t,n,r,i){Pe(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return De(e,null,[{key:"from",value:function(t,n,r){Dx(t.mutations.length===r.length);for(var i=p_(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),HI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eE.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cE.EMPTY_BYTE_STRING;Pe(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return De(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),KI=De((function e(t){Pe(this,e),this.Gt=t}));function GI(e,t){if(t.document)return W_(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=bE.fromSegments(t.noDocument.path),r=XI(t.noDocument.readTime),i=FE.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=bE.fromSegments(t.unknownDocument.path),o=XI(t.unknownDocument.version);return FE.newUnknownDocument(a,o)}return Rx()}function QI(e,t,n){var r=YI(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:F_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:A_(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new kI(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=JI(t.version),c=t.hasCommittedMutations;return new kI(null,new gI(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=JI(t.version);return new kI(new yI(l,f),null,null,!0,r,i)}return Rx()}function YI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function $I(e){var t=new Zx(e[0],e[1]);return eE.fromTimestamp(t)}function JI(e){var t=e.toTimestamp();return new hI(t.seconds,t.nanoseconds)}function XI(e){var t=new Zx(e.seconds,e.nanoseconds);return eE.fromTimestamp(t)}function ZI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return G_(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return G_(e.Gt,t)})),s=Zx.fromMillis(t.localWriteTimeMs);return new qI(t.batchId,s,n,o)}function eS(e){var t,n,r=XI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?XI(e.lastLimboFreeSnapshotVersion):eE.min();return void 0!==e.query.documents?(Dx(1===(n=e.query).documents.length),t=dT(oT(V_(n.documents[0])))):t=function(e){return dT($_(e))}(e.query),new HI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,cE.fromBase64String(e.resumeToken))}function tS(e,t){var n,r=JI(t.snapshotVersion),i=JI(t.lastLimboFreeSnapshotVersion);n=BE(t.target)?Q_(e.Gt,t.target):Y_(e.Gt,t.target);var a=t.resumeToken.toBase64();return new wI(t.targetId,VE(t.target),r,a,t.sequenceNumber,i,n)}function nS(e){var t=$_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pT(t,t.limit,"L"):t}var rS=function(){function e(){Pe(this,e)}return De(e,[{key:"getBundleMetadata",value:function(e,t){return iS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:XI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return iS(e).put({bundleId:(n=t).id,createTime:JI(D_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return aS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:nS(t.bundledQuery),readTime:XI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return aS(e).put(function(e){return{name:e.name,readTime:JI(D_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function iS(e){return BI(e,II.store)}function aS(e){return BI(e,SI.store)}var oS=function(){function e(){Pe(this,e),this.zt=new sS}return De(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),AI.resolve()}},{key:"getCollectionParents",value:function(e,t){return AI.resolve(this.zt.getEntries(t))}}]),e}(),sS=function(){function e(){Pe(this,e),this.index={}}return De(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new s_(aE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new s_(aE.comparator)).toArray()}}]),e}(),uS=function(){function e(){Pe(this,e),this.Ht=new sS}return De(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:uI(i)};return cS(e).put(a)}return AI.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Xx(t),""],!1,!0);return cS(e).Bt(r).next((function(e){var r,i=bc(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(fI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function cS(e){return BI(e,TI.store)}var lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fS=function(){function e(t,n,r){Pe(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return De(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function hS(e,t,n){var r=e.store(vI.store),i=e.store(mI.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Dx(1===s)})));var c,l=[],f=bc(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=mI.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return AI.waitFor(a).next((function(){return l}))}function dS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Rx();t=e.noDocument}return JSON.stringify(t).length}fS.DEFAULT_COLLECTION_PERCENTILE=10,fS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fS.DEFAULT=new fS(41943040,fS.DEFAULT_COLLECTION_PERCENTILE,fS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fS.DISABLED=new fS(-1,0,0);var pS=function(){function e(t,n,r,i){Pe(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return De(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mS(e).jt({index:vI.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=gS(e),o=mS(e);return o.add({}).next((function(s){Dx("number"==typeof s);var u,c=new qI(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return K_(e.Gt,t)})),i=n.mutations.map((function(t){return K_(e.Gt,t)}));return new vI(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new s_((function(e,t){return $x(e.canonicalString(),t.canonicalString())})),d=bc(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=mI.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,mI.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),AI.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return mS(e).get(t).next((function(e){return e?(Dx(e.userId===n.userId),ZI(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?AI.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return mS(e).jt({index:vI.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Dx(t.batchId>=r),a=ZI(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mS(e).jt({index:vI.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mS(e).Bt(vI.userMutationsIndex,n).next((function(e){return e.map((function(e){return ZI(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=mI.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return gS(e).jt({range:i},(function(r,i,o){var s=Ne(r,3),u=s[0],c=s[1],l=s[2],f=fI(c);if(u===n.userId&&t.path.isEqual(f))return mS(e).get(l).next((function(e){if(!e)throw Rx();Dx(e.userId===n.userId),a.push(ZI(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new s_($x),i=[];return t.forEach((function(t){var a=mI.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=gS(e).jt({range:o},(function(e,i,a){var o=Ne(e,3),s=o[0],u=o[1],c=o[2],l=fI(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),AI.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=mI.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new s_($x);return gS(e).jt({range:o},(function(e,t,a){var o=Ne(e,3),u=o[0],c=o[1],l=o[2],f=fI(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(mS(e).get(t).next((function(e){if(null===e)throw Rx();Dx(e.userId===n.userId),r.push(ZI(n.k,e))})))})),AI.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return hS(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),AI.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return AI.resolve();var r=IDBKeyRange.lowerBound(mI.prefixForUser(t.userId)),i=[];return gS(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=fI(e[1]);i.push(a)}else r.done()})).next((function(){Dx(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return vS(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return yS(e).get(this.userId).next((function(e){return e||new pI(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Dx(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function vS(e,t,n){var r=mI.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return gS(e).jt({range:a,Kt:!0},(function(e,n,r){var a=Ne(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function mS(e){return BI(e,vI.store)}function gS(e){return BI(e,mI.store)}function yS(e){return BI(e,pI.store)}var kS=function(){function e(t){Pe(this,e),this.se=t}return De(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),bS=function(){function e(t,n){Pe(this,e),this.referenceDelegate=t,this.k=n}return De(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new kS(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return eE.fromTimestamp(new Zx(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return wS(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Dx(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return wS(e).jt((function(o,s){var u=eS(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return AI.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return wS(e).jt((function(e,n){var r=eS(n);t(r)}))}},{key:"oe",value:function(e){return xS(e).get(EI.key).next((function(e){return Dx(null!==e),e}))}},{key:"ae",value:function(e,t){return xS(e).put(EI.key,t)}},{key:"ce",value:function(e,t){return wS(e).put(tS(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=VE(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wS(e).jt({range:r,index:wI.queryTargetsIndexName},(function(e,n,r){var a=eS(n);zE(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ES(e);return t.forEach((function(t){var o=uI(t.path);i.push(a.put(new xI(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),AI.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ES(e);return AI.forEach(t,(function(t){var a=uI(t.path);return AI.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ES(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ES(e),i=m_();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=fI(e[1]),a=new bE(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=uI(t.path),r=IDBKeyRange.bound([n],[Xx(n)],!1,!0),i=0;return ES(e).jt({index:xI.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=Ne(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return wS(e).get(t).next((function(e){return e?eS(e):null}))}}]),e}();function wS(e){return BI(e,wI.store)}function xS(e){return BI(e,EI.store)}function ES(e){return BI(e,xI.store)}function TS(e){return _S.apply(this,arguments)}function _S(){return _S=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Lx.FAILED_PRECONDITION&&t.message===NI){e.next=2;break}throw t;case 2:Nx("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function IS(e,t){var n=Ne(e,2),r=n[0],i=n[1],a=Ne(t,2),o=a[0],s=a[1],u=$x(r,o);return 0===u?$x(i,s):u}var SS=function(){function e(t){Pe(this,e),this.he=t,this.buffer=new s_(IS),this.le=0}return De(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();IS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),CS=function(){function e(t,n){Pe(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return De(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Nx("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Zc(tl().mark((function n(){return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!LI(n.t0)){n.next=12;break}Nx("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,TS(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),NS=function(){function e(t,n){Pe(this,e),this.ge=t,this.params=n}return De(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return AI.resolve(Gx.I);var r=new SS(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Nx("LruGarbageCollector","Garbage collection skipped; disabled"),AI.resolve(lS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Nx("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),lS):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Nx("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Cx()<=ol.DEBUG&&Nx("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),AI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),OS=function(){function e(t,n){Pe(this,e),this.db=t,this.garbageCollector=function(e,t){return new NS(e,t)}(this,n)}return De(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return AS(e,n)}},{key:"removeReference",value:function(e,t,n){return AS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return AS(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return yS(e).Qt((function(r){return vS(e,r,t).next((function(e){return e&&(n=!0),AI.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),ES(e).delete([0,uI(o.path)])}))}));i.push(u)}})).next((function(){return AI.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return AS(e,t)}},{key:"Ie",value:function(e,t){var n,r=ES(e),i=Gx.I;return r.jt({index:xI.documentTargetsIndex},(function(e,r){var a=Ne(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Gx.I&&t(new bE(fI(n)),i),i=u,n=s):i=Gx.I})).next((function(){i!==Gx.I&&t(new bE(fI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function AS(e,t){return ES(e).put(function(e,t){return new xI(0,uI(e.path),t)}(t,e.currentSequenceNumber))}var PS=function(){function e(t,n){Pe(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return De(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=bc(n);try{for(i.s();!(r=i.n()).done;){var a=Ne(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){nE(this.inner,(function(t,n){var r,i=bc(n);try{for(i.s();!(r=i.n()).done;){var a=Ne(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return rE(this.inner)}}]),e}(),RS=function(){function e(){Pe(this,e),this.changes=new PS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return De(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:eE.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:FE.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?AI.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),DS=function(){function e(t,n){Pe(this,e),this.k=t,this.Jt=n}return De(e,[{key:"addEntry",value:function(e,t,n){return FS(e).put(jS(t),n)}},{key:"removeEntry",value:function(e,t){var n=FS(e),r=jS(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return FS(e).get(jS(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return FS(e).get(jS(t)).next((function(e){return{document:n.Pe(t,e),size:dS(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=l_();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=l_(),i=new i_(bE.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,dS(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return AI.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return FS(e).jt({range:r},(function(e,t,r){for(var o=bE.fromSegments(e);a&&bE.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=l_(),a=t.path.length+1,o={};if(n.isEqual(eE.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=YI(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=kI.collectionReadTimeIndex}return FS(e).jt(o,(function(e,n,o){if(e.length===a){var s=GI(r.k,n);t.path.isPrefixOf(s.key.path)?yT(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new MS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return LS(e).get(bI.key).next((function(e){return Dx(!!e),e}))}},{key:"Re",value:function(e,t){return LS(e).put(bI.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=GI(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(eE.min()))return n}return FE.newInvalidDocument(e)}}]),e}(),MS=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new PS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return De(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new s_((function(e,t){return $x(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=QI(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=dS(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=QI(t.De.k,FE.newNoDocument(a,eE.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),AI.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(RS);function LS(e){return BI(e,bI.store)}function FS(e){return BI(e,kI.store)}function jS(e){return e.path.toArray()}var US=function(){function e(t){Pe(this,e),this.k=t}return De(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Dx(n<r&&n>=0&&r<=11);var a=new PI("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(dI.store)}(e),function(e){e.createObjectStore(pI.store,{keyPath:pI.keyPath}),e.createObjectStore(vI.store,{keyPath:vI.keyPath,autoIncrement:!0}).createIndex(vI.userMutationsIndex,vI.userMutationsKeyPath,{unique:!0}),e.createObjectStore(mI.store)}(e),VS(e),function(e){e.createObjectStore(kI.store)}(e));var o=AI.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(xI.store),e.deleteObjectStore(wI.store),e.deleteObjectStore(EI.store)}(e),VS(e)),o=o.next((function(){return function(e){var t=e.store(EI.store),n=new EI(0,0,eE.min().toTimestamp(),0);return t.put(EI.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(vI.store).Bt().next((function(n){e.deleteObjectStore(vI.store),e.createObjectStore(vI.store,{keyPath:vI.keyPath,autoIncrement:!0}).createIndex(vI.userMutationsIndex,vI.userMutationsKeyPath,{unique:!0});var r=t.store(vI.store),i=n.map((function(e){return r.put(e)}));return AI.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(_I.store,{keyPath:_I.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(bI.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(kI.store);t.createIndex(kI.readTimeIndex,kI.readTimeIndexPath,{unique:!1}),t.createIndex(kI.collectionReadTimeIndex,kI.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(II.store,{keyPath:II.keyPath})}(e),function(e){e.createObjectStore(SI.store,{keyPath:SI.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(kI.store).jt((function(e,n){t+=dS(n)})).next((function(){var n=new bI(t);return e.store(bI.store).put(bI.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(pI.store),r=e.store(vI.store);return n.Bt().next((function(n){return AI.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(vI.userMutationsIndex,i).next((function(r){return AI.forEach(r,(function(r){Dx(r.userId===n.userId);var i=ZI(t.k,r);return hS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(xI.store),n=e.store(kI.store);return e.store(EI.store).get(EI.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new aE(n),o=function(e){return[0,uI(e)]}(a);r.push(t.get(o).next((function(n){return n?AI.resolve():function(n){return t.put(new xI(0,uI(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return AI.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(TI.store,{keyPath:TI.keyPath});var n=t.store(TI.store),r=new sS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:uI(i)})}};return t.store(kI.store).jt({Kt:!0},(function(e,t){var n=new aE(e);return i(n.popLast())})).next((function(){return t.store(mI.store).jt({Kt:!0},(function(e,t){var n=Ne(e,3),r=(n[0],n[1]),a=(n[2],fI(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(wI.store);return n.jt((function(e,r){var i=eS(r),a=tS(t.k,i);return n.put(a)}))}}]),e}();function VS(e){e.createObjectStore(xI.store,{keyPath:xI.keyPath}).createIndex(xI.documentTargetsIndex,xI.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(wI.store,{keyPath:wI.keyPath}).createIndex(wI.queryTargetsIndexName,wI.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(EI.store)}var zS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BS=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Pe(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Fx(Lx.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OS(this,i),this.Ge=n+"main",this.k=new KI(u),this.ze=new RI(this.Ge,11,new US(this.k)),this.He=new bS(this.referenceDelegate,this.k),this.Jt=new uS,this.Je=function(e,t){return new DS(e,t)}(this.k,this.Jt),this.Ye=new rS,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Ox("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return De(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fx(Lx.FAILED_PRECONDITION,zS);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Gx(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Zc(tl().mark((function n(r){return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Zc(tl().mark((function t(n){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return WS(t).put(new _I(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(LI(t))return Nx("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Nx("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return qS(e).get(dI.key).next((function(e){return AI.resolve(t.un(e))}))}},{key:"hn",value:function(e){return WS(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Zc(tl().mark((function e(){var t,n,r,i,a=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=BI(e,_I.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return AI.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=bc(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?AI.resolve(!0):qS(e).get(dI.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Fx(Lx.FAILED_PRECONDITION,zS);return!1}}return!(!t.networkEnabled||!t.inForeground)||WS(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Nx("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Zc(tl().mark((function e(){var t=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[dI.store,_I.store],(function(e){var n=new zI(e,Gx.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return WS(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return pS.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Nx("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,CI,(function(a){return i=new zI(a,r.Be?r.Be.next():Gx.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Ox("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Fx(Lx.FAILED_PRECONDITION,NI);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return qS(e).get(dI.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Fx(Lx.FAILED_PRECONDITION,zS)}))}},{key:"cn",value:function(e){var t=new dI(this.clientId,this.allowTabSynchronization,Date.now());return qS(e).put(dI.key,t)}},{key:"an",value:function(e){var t=this,n=qS(e);return n.get(dI.key).next((function(e){return t.un(e)?(Nx("IndexedDbPersistence","Releasing primary lease."),n.delete(dI.key)):AI.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ox("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!Rc()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Nx("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ox("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(_y){Ox("Failed to set zombie client id.",_y)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(_y){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return RI.bt()}}]),e}();function qS(e){return BI(e,dI.store)}function WS(e){return BI(e,_I.store)}function HS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var KS=De((function e(t,n){Pe(this,e),this.progress=t,this.In=n})),GS=function(){function e(t,n,r){Pe(this,e),this.Je=t,this.An=n,this.Jt=r}return De(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=bc(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=bc(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return bE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):fT(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new bE(t)).next((function(e){var t=h_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=h_();return this.Jt.getCollectionParents(e,i).next((function(o){return AI.forEach(o,(function(o){var s=function(e,t){return new iT(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=bc(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=bc(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=FE.newInvalidDocument(c),r=r.insert(c,l)),BT(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){yT(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=m_(),a=bc(t);try{for(a.s();!(r=a.n()).done;){var o,s=bc(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof GT&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),QS=function(){function e(t,n,r,i){Pe(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return De(e,null,[{key:"$n",value:function(t,n){var r,i=m_(),a=m_(),o=bc(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),YS=function(){function e(){Pe(this,e)}return De(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(eE.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(sT(t)||uT(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Cx()<=ol.DEBUG&&Nx("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gT(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new s_(kT(e));return t.forEach((function(t,r){yT(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Cx()<=ol.DEBUG&&Nx("QueryEngine","Using full collection scan to execute query:",gT(t)),this.On.getDocumentsMatchingQuery(e,t,eE.min())}}]),e}(),$S=function(){function e(t,n,r,i){Pe(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new i_($x),this.Kn=new PS((function(e){return VE(e)}),zE),this.jn=eE.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new GS(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return De(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function JS(e,t,n,r){return new $S(e,t,n,r)}function XS(e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=Zc(tl().mark((function e(t,n){var r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new GS(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=m_(),u=bc(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=bc(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=bc(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=bc(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eC(e,t){var n=Mx(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=AI.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Dx(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function tC(e){var t=Mx(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function nC(e,t){var n=Mx(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return Dx(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var s=l_();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(rC(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(eE.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return AI.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function rC(e,t,n,r,i){var a=m_();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=l_();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(eE.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Nx("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function iC(e,t){var n=Mx(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function aC(e,t){var n=Mx(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,AI.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new HI(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function oC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mx(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),LI(e.t1)){e.next=12;break}throw e.t1;case 12:Nx("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),sC.apply(this,arguments)}function uC(e,t,n){var r=Mx(e),i=eE.min(),a=m_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Mx(e),i=r.Kn.get(n);return void 0!==i?AI.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,dT(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:eE.min(),n?a:m_())})).next((function(e){return{documents:e,zn:a}}))}))}function cC(e,t){var n=Mx(e),r=Mx(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function lC(e){var t=Mx(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Mx(e),i=l_(),a=YI(n),o=FS(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:kI.readTimeIndex,range:s},(function(e,t){var n=GI(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:$I(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function fC(e){return hC.apply(this,arguments)}function hC(){return hC=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mx(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=FS(e),n=eE.min();return t.jt({index:kI.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=$I(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t,n,r){return pC.apply(this,arguments)}function pC(){return pC=Zc(tl().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Mx(t),o=m_(),s=l_(),u=p_(),c=bc(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,aC(a,function(e){return dT(oT(aE.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return rC(e,d,s,eE.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e,t){return mC.apply(this,arguments)}function mC(){return mC=Zc(tl().mark((function e(t,n){var r,i,a,o=arguments;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:m_(),e.next=3,aC(t,dT(nS(n.bundledQuery)));case 3:return i=e.sent,a=Mx(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=D_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(cE.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}var gC=function(){function e(t){Pe(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return De(e,[{key:"getBundleMetadata",value:function(e,t){return AI.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:D_(n.createTime)}),AI.resolve()}},{key:"getNamedQuery",value:function(e,t){return AI.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:nS(e.bundledQuery),readTime:D_(e.readTime)}}(t)),AI.resolve()}}]),e}(),yC=function(){function e(){Pe(this,e),this.ts=new s_(kC.es),this.ns=new s_(kC.ss)}return De(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new kC(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new kC(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new bE(new aE([])),r=new kC(n,e),i=new kC(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new bE(new aE([])),n=new kC(t,e),r=new kC(t,e+1),i=m_();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new kC(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),kC=function(){function e(t,n){Pe(this,e),this.key=t,this.fs=n}return De(e,null,[{key:"es",value:function(e,t){return bE.comparator(e.key,t.key)||$x(e.fs,t.fs)}},{key:"ss",value:function(e,t){return $x(e.fs,t.fs)||bE.comparator(e.key,t.key)}}]),e}(),bC=function(){function e(t,n){Pe(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new s_(kC.es)}return De(e,[{key:"checkEmpty",value:function(e){return AI.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new qI(i,t,n,r);this.An.push(a);var o,s=bc(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new kC(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return AI.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return AI.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return AI.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return AI.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return AI.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new kC(t,0),i=new kC(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),AI.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new s_($x);return t.forEach((function(e){var t=new kC(e,0),i=new kC(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),AI.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;bE.isDocumentKey(i)||(i=i.child(""));var a=new kC(new bE(i),0),o=new s_($x);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),AI.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Dx(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return AI.forEach(t.mutations,(function(i){var a=new kC(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new kC(t,0),r=this.ws.firstAfterOrEqual(n);return AI.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,AI.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),wC=function(){function e(t,n){Pe(this,e),this.Jt=t,this.Ts=n,this.docs=new i_(bE.comparator),this.size=0}return De(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return AI.resolve(n?n.document.clone():FE.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=l_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():FE.newInvalidDocument(e))})),AI.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=l_(),i=new bE(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||yT(t,c)&&(r=r.insert(c.key,c.clone()))}return AI.resolve(r)}},{key:"Es",value:function(e,t){return AI.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new xC(this)}},{key:"getSize",value:function(e){return AI.resolve(this.size)}}]),e}(),xC=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).De=e,r}return De(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),AI.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(RS),EC=function(){function e(t){Pe(this,e),this.persistence=t,this.Is=new PS((function(e){return VE(e)}),zE),this.lastRemoteSnapshotVersion=eE.min(),this.highestTargetId=0,this.As=0,this.Rs=new yC,this.targetCount=0,this.Ps=kS.ie()}return De(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),AI.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return AI.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return AI.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),AI.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),AI.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new kS(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,AI.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),AI.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,AI.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),AI.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return AI.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return AI.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),AI.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),AI.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),AI.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return AI.resolve(n)}},{key:"containsKey",value:function(e,t){return AI.resolve(this.Rs.containsKey(t))}}]),e}(),TC=function(){function e(t,n){var r=this;Pe(this,e),this.bs={},this.Be=new Gx(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new EC(this),this.Jt=new oS,this.Je=function(e,t){return new wC(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new KI(n),this.Ye=new gC(this.k)}return De(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new bC(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Nx("MemoryPersistence","Starting transaction:",e);var i=new _C(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return AI.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),_C=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return De(n)}(OI),IC=function(){function e(t){Pe(this,e),this.persistence=t,this.Cs=new yC,this.Ns=null}return De(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Rx()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),AI.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),AI.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),AI.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return AI.forEach(this.xs,(function(r){var i=bE.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return AI.or([function(){return AI.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function SC(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function CC(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function NC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var OC=function(){function e(t,n,r,i){Pe(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return De(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Fx(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ox("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),AC=function(){function e(t,n,r){Pe(this,e),this.targetId=t,this.state=n,this.error=r}return De(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fx(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ox("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),PC=function(){function e(t,n){Pe(this,e),this.clientId=t,this.activeTargetIds=n}return De(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=y_(),o=0;i&&o<r.activeTargetIds.length;++o)i=kE(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ox("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),RC=function(){function e(t,n){Pe(this,e),this.clientId=t,this.onlineState=n}return De(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ox("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),DC=function(){function e(){Pe(this,e),this.activeTargetIds=y_()}return De(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),MC=function(){function e(t,n,r,i,a){Pe(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new i_($x),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=SC(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new DC),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return De(e,[{key:"start",value:function(){var e=Zc(tl().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=bc(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(SC(this.persistenceKey,i)))&&(o=PC.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=bc(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(NC(this.persistenceKey,e));if(n){var r=AC.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(NC(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Nx("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Nx("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Nx("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Nx("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Ox("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Zc(tl().mark((function e(){var r,i,a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Gx.I;if(null!=e)try{var n=JSON.parse(e);Dx("number"==typeof n),t=n}catch(e){Ox("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Gx.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new OC(this.currentUser,e,t,n),i=CC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=CC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=NC(this.persistenceKey,e),i=new AC(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return PC.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return OC.Fs(new _x(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return AC.Fs(r,t)}},{key:"Zs",value:function(e){return RC.Fs(e)}},{key:"fi",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Nx("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=y_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),LC=function(){function e(){Pe(this,e),this.pi=new DC,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return De(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new DC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),FC=function(){function e(){Pe(this,e)}return De(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),jC=function(){function e(){var t=this;Pe(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return De(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Nx("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=bc(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Nx("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=bc(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},VC=function(){function e(t){Pe(this,e),this.Vi=t.Vi,this.Si=t.Si}return De(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),zC=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return De(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ex;o.listenOnce(yx.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case gx.NO_ERROR:var t=o.getResponseJson();Nx("Connection","XHR received:",JSON.stringify(t)),i(t);break;case gx.TIMEOUT:Nx("Connection",'RPC "'+e+'" timed out'),a(new Fx(Lx.DEADLINE_EXCEEDED,"Request time out"));break;case gx.HTTP_ERROR:var n=o.getStatus();if(Nx("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Lx).indexOf(t)>=0?t:Lx.UNKNOWN}(r.status);a(new Fx(s,r.message))}else a(new Fx(Lx.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fx(Lx.UNAVAILABLE,"Connection failed."));break;default:Rx()}}finally{Nx("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=vx(),a=mx(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new wx({})),this.qi(o.initMessageHeaders,t,n),Pc()||Mc()||Ac().indexOf("Electron/")>=0||Lc()||Ac().indexOf("MSAppHost/")>=0||Dc()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Nx("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new VC({Vi:function(e){l?Nx("Connection","Not sending because WebChannel is closed:",e):(c||(Nx("Connection","Opening WebChannel transport."),u.open(),c=!0),Nx("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,xx.EventType.OPEN,(function(){l||Nx("Connection","WebChannel transport opened.")})),h(u,xx.EventType.CLOSE,(function(){l||(l=!0,Nx("Connection","WebChannel transport closed"),f.Fi())})),h(u,xx.EventType.ERROR,(function(e){l||(l=!0,Ax("Connection","WebChannel transport errored:",e),f.Fi(new Fx(Lx.UNAVAILABLE,"The operation could not be completed")))})),h(u,xx.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Dx(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Nx("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=JT[e];if(void 0!==t)return r_(t)}(a),s=i.message;void 0===o&&(o=Lx.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Fx(o,s)),u.close()}else Nx("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,kx.STAT_EVENT,(function(e){e.stat===bx.PROXY?Nx("Connection","Detected buffering proxy"):e.stat===bx.NOPROXY&&Nx("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Pe(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return De(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Nx("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Nx("RestConnection","Received: ",e),e}),(function(t){throw Ax("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ix,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=UC[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function BC(){return"undefined"!=typeof window?window:null}function qC(){return"undefined"!=typeof document?document:null}function WC(e){return new O_(e,!0)}var HC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Pe(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return De(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Nx("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),KC=function(){function e(t,n,r,i,a,o,s,u){Pe(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new HC(t,n)}return De(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Lx.RESOURCE_EXHAUSTED?(Ox(n.toString()),Ox("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Lx.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Ne(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Fx(Lx.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Zc(tl().mark((function t(){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Nx("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Nx("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),GC=function(e){Le(n,e);var t=ze(n);function n(e,r,i,a,o,s){var u;return Pe(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return De(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Rx()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Dx(void 0===t||"string"==typeof t),cE.fromBase64String(t||"")):(Dx(void 0===t||t instanceof Uint8Array),cE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Lx.UNKNOWN:r_(e.code);return new Fx(t,e.message||"")}(o);n=new E_(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=j_(e,u.document.name),l=D_(u.document.updateTime),f=new ME({mapValue:{fields:u.document.fields}}),h=FE.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new w_(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=j_(e,v.document),g=v.readTime?D_(v.readTime):eE.min(),y=FE.newNoDocument(m,g),k=v.removedTargetIds||[];n=new w_([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=j_(e,b.document),x=b.removedTargetIds||[];n=new w_([],x,w,null)}else{if(!("filter"in t))return Rx();t.filter;var E=t.filter;E.targetId;var T=E.count||0,_=new t_(T),I=E.targetId;n=new x_(I,_)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return eE.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?eE.min():t.readTime?D_(t.readTime):eE.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=z_(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=BE(r)?{documents:Q_(e,r)}:{query:Y_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=P_(e,t.resumeToken):t.snapshotVersion.compareTo(eE.min())>0&&(n.readTime=A_(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rx()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=z_(this.k),t.removeTarget=e,this.gr(t)}}]),n}(KC),QC=function(e){Le(n,e);var t=ze(n);function n(e,r,i,a,o,s){var u;return Pe(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return De(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Xl(Fe(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Dx(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Dx(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?D_(e.updateTime):D_(t);return n.isEqual(eE.min())&&(n=D_(t)),new FT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=D_(e.commitTime);return this.listener.Cr(n,t)}return Dx(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=z_(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return K_(t.k,e)}))};this.gr(n)}}]),n}(KC),YC=function(e){Le(n,e);var t=ze(n);function n(e,r,i,a){var o;return Pe(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return De(n,[{key:"Fr",value:function(){if(this.$r)throw new Fx(Lx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ne(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lx.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fx(Lx.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ne(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lx.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fx(Lx.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return De((function e(){Pe(this,e)}))}()),$C=function(){function e(t,n){Pe(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return De(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Ox(t),this.Lr=!1):Nx("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),JC=De((function e(t,n,r,i,a){var o=this;Pe(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=uN(o),!e.t0){e.next=5;break}return Nx("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mx(t)).Gr.add(4),e.next=4,eN(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,XC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new $C(r,i)}));function XC(e){return ZC.apply(this,arguments)}function ZC(){return ZC=Zc(tl().mark((function e(t){var n,r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uN(t)){e.next=18;break}n=bc(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ZC.apply(this,arguments)}function eN(e){return tN.apply(this,arguments)}function tN(){return tN=Zc(tl().mark((function e(t){var n,r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bc(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),tN.apply(this,arguments)}function nN(e,t){var n=Mx(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),sN(n)?oN(n):MN(n).lr()&&iN(n,t))}function rN(e,t){var n=Mx(e),r=MN(n);n.Wr.delete(t),r.lr()&&aN(n,t),0===n.Wr.size&&(r.lr()?r._r():uN(n)&&n.Jr.set("Unknown"))}function iN(e,t){e.Yr.X(t.targetId),MN(e).br(t)}function aN(e,t){e.Yr.X(t),MN(e).vr(t)}function oN(e){e.Yr=new __({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),MN(e).start(),e.Jr.Br()}function sN(e){return uN(e)&&!MN(e).hr()&&e.Wr.size>0}function uN(e){return 0===Mx(e).Gr.size}function cN(e){e.Yr=void 0}function lN(e){return fN.apply(this,arguments)}function fN(){return fN=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){iN(t,e)}));case 1:case"end":return e.stop()}}),e)}))),fN.apply(this,arguments)}function hN(e,t){return dN.apply(this,arguments)}function dN(){return dN=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cN(t),sN(t)?(t.Jr.Kr(n),oN(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e,t,n){return vN.apply(this,arguments)}function vN(){return vN=Zc(tl().mark((function e(t,n,r){var i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof E_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Zc(tl().mark((function e(t,n){var r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=bc(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Nx("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,mN(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof w_?t.Yr.ot(n):n instanceof x_?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(eE.min())){e.next=29;break}return e.prev=14,e.next=17,tC(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(cE.EMPTY_BYTE_STRING,n.snapshotVersion)),aN(e,t);var r=new HI(n.target,t,1,n.sequenceNumber);iN(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Nx("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,mN(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),vN.apply(this,arguments)}function mN(e,t,n){return gN.apply(this,arguments)}function gN(){return gN=Zc(tl().mark((function e(t,n,r){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(LI(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,eN(t);case 5:t.Jr.set("Offline"),r||(r=function(){return tC(t.localStore)}),t.asyncQueue.enqueueRetryable(Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nx("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,XC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),gN.apply(this,arguments)}function yN(e,t){return t().catch((function(n){return mN(e,n,t)}))}function kN(e){return bN.apply(this,arguments)}function bN(){return bN=Zc(tl().mark((function e(t){var n,r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mx(t),r=LN(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!wN(n)){e.next=19;break}return e.prev=3,e.next=6,iC(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,xN(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,mN(n,e.t0);case 17:e.next=2;break;case 19:EN(n)&&TN(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),bN.apply(this,arguments)}function wN(e){return uN(e)&&e.Qr.length<10}function xN(e,t){e.Qr.push(t);var n=LN(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function EN(e){return uN(e)&&!LN(e).hr()&&e.Qr.length>0}function TN(e){LN(e).start()}function _N(e){return IN.apply(this,arguments)}function IN(){return IN=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:LN(t).kr();case 1:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}function SN(e){return CN.apply(this,arguments)}function CN(){return CN=Zc(tl().mark((function e(t){var n,r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=LN(t),r=bc(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function NN(e,t,n){return ON.apply(this,arguments)}function ON(){return ON=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=WI.from(i,n,r),e.next=3,yN(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,kN(t);case 5:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}function AN(e,t){return PN.apply(this,arguments)}function PN(){return PN=Zc(tl().mark((function e(t,n){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&LN(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Zc(tl().mark((function e(t,n){var r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n_(i=n.code)||i===Lx.ABORTED){e.next=7;break}return r=t.Qr.shift(),LN(t).wr(),e.next=5,yN(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,kN(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:EN(t)&&TN(t);case 5:case"end":return e.stop()}}),e)}))),PN.apply(this,arguments)}function RN(e,t){return DN.apply(this,arguments)}function DN(){return DN=Zc(tl().mark((function e(t,n){var r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mx(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,XC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,eN(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),DN.apply(this,arguments)}function MN(e){return e.Xr||(e.Xr=function(e,t,n){var r=Mx(e);return r.Fr(),new GC(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:lN.bind(null,e),Ni:hN.bind(null,e),Pr:pN.bind(null,e)}),e.zr.push(function(){var t=Zc(tl().mark((function t(n){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),sN(e)?oN(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:cN(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function LN(e){return e.Zr||(e.Zr=function(e,t,n){var r=Mx(e);return r.Fr(),new QC(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:_N.bind(null,e),Ni:AN.bind(null,e),Nr:SN.bind(null,e),Cr:NN.bind(null,e)}),e.zr.push(function(){var t=Zc(tl().mark((function t(n){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,kN(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Nx("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var FN=function(){function e(t,n,r,i,a){Pe(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new jx,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return De(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fx(Lx.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jN(e,t){if(Ox("AsyncQueue","".concat(t,": ").concat(e)),LI(e))return new Fx(Lx.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var UN=function(){function e(t){Pe(this,e),this.comparator=t?function(e,n){return t(e,n)||bE.comparator(e.key,n.key)}:function(e,t){return bE.comparator(e.key,t.key)},this.keyedMap=h_(),this.sortedSet=new i_(this.comparator)}return De(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),VN=function(){function e(){Pe(this,e),this.eo=new i_(bE.comparator)}return De(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Rx():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),zN=function(){function e(t,n,r,i,a,o,s,u){Pe(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return De(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,UN.emptySet(n),a,r,i,!0,!1)}}]),e}(),BN=De((function e(){Pe(this,e),this.so=void 0,this.listeners=[]})),qN=De((function e(){Pe(this,e),this.queries=new PS((function(e){return mT(e)}),vT),this.onlineState="Unknown",this.io=new Set}));function WN(e,t){return HN.apply(this,arguments)}function HN(){return HN=Zc(tl().mark((function e(t,n){var r,i,a,o,s;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mx(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new BN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=jN(e.t0,"Initialization of query '".concat(gT(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&$N(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),HN.apply(this,arguments)}function KN(e,t){return GN.apply(this,arguments)}function GN(){return GN=Zc(tl().mark((function e(t,n){var r,i,a,o,s;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mx(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),GN.apply(this,arguments)}function QN(e,t){var n,r=Mx(e),i=!1,a=bc(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=bc(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&$N(r)}function YN(e,t,n){var r=Mx(e),i=r.queries.get(t);if(i){var a,o=bc(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function $N(e){e.io.forEach((function(e){e.next()}))}var JN=function(){function e(t,n,r){Pe(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return De(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=bc(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new zN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=zN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),XN=function(){function e(t,n){Pe(this,e),this.payload=t,this.byteLength=n}return De(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),ZN=function(){function e(t){Pe(this,e),this.k=t}return De(e,[{key:"Hn",value:function(e){return j_(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?W_(this.k,e.document,!1):FE.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return D_(e)}}]),e}(),eO=function(){function e(t,n,r){Pe(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=tO(t)}return De(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new ZN(this.k),i=bc(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=bc(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||m_()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Zc(tl().mark((function e(){var t,n,r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dC(this.localStore,new ZN(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=bc(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vC(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new KS(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var nO=De((function e(t){Pe(this,e),this.key=t})),rO=De((function e(t){Pe(this,e),this.key=t})),iO=function(){function e(t,n){Pe(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=m_(),this.mutatedKeys=m_(),this.Ao=kT(t),this.Ro=new UN(this.Ao)}return De(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new VN,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=sT(this.query)&&i.size===this.query.limit?i.last():null,c=uT(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=yT(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),sT(this.query)||uT(this.query))for(;o.size>this.query.limit;){var l=sT(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rx()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new zN(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new VN,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=m_(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new rO(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new nO(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=m_();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return zN.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),aO=De((function e(t,n,r){Pe(this,e),this.query=t,this.targetId=n,this.view=r})),oO=De((function e(t){Pe(this,e),this.key=t,this.$o=!1})),sO=function(){function e(t,n,r,i,a,o){Pe(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new PS((function(e){return mT(e)}),vT),this.Mo=new Map,this.Lo=new Set,this.Bo=new i_(bE.comparator),this.Uo=new Map,this.qo=new yC,this.Ko={},this.jo=new Map,this.Qo=kS.re(),this.onlineState="Unknown",this.Wo=void 0}return De(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function uO(e,t){return cO.apply(this,arguments)}function cO(){return cO=Zc(tl().mark((function e(t,n){var r,i,a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tA(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,aC(r.localStore,dT(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,lO(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&nN(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),cO.apply(this,arguments)}function lO(e,t,n,r){return fO.apply(this,arguments)}function fO(){return fO=Zc(tl().mark((function e(t,n,r,i){var a,o,s,u,c,l;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Zc(tl().mark((function e(t,n,r,i){var a,o,s;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,uC(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(AO(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,uC(t.localStore,n,!0);case 3:return a=e.sent,o=new iO(n,a.zn),s=o.bo(a.documents),u=b_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),AO(t,r,c.Co),l=new aO(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),fO.apply(this,arguments)}function hO(e,t){return dO.apply(this,arguments)}function dO(){return dO=Zc(tl().mark((function e(t,n){var r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mx(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!vT(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,oC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),rN(r.remoteStore,i.targetId),NO(r,i.targetId)})).catch(TS);case 9:e.next=14;break;case 11:return NO(r,i.targetId),e.next=14,oC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),dO.apply(this,arguments)}function pO(e,t,n){return vO.apply(this,arguments)}function vO(){return vO=Zc(tl().mark((function e(t,n,r){var i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nA(t),e.prev=1,e.next=4,function(e,t){var n,r=Mx(e),i=Zx.now(),a=t.reduce((function(e,t){return e.add(t.key)}),m_());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=bc(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=qT(c,n.get(c.key));null!=l&&s.push(new GT(c.key,l,LE(l.value.mapValue),jT.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new i_($x)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,DO(i,a.changes);case 9:return e.next=11,kN(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=jN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),vO.apply(this,arguments)}function mO(e,t){return gO.apply(this,arguments)}function gO(){return gO=Zc(tl().mark((function e(t,n){var r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx(t),e.prev=1,e.next=4,nC(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Dx(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Dx(n.$o):e.removedDocuments.size>0&&(Dx(n.$o),n.$o=!1))})),e.next=8,DO(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,TS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),gO.apply(this,arguments)}function yO(e,t,n){var r=Mx(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Mx(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=bc(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$N(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kO(e,t,n){return bO.apply(this,arguments)}function bO(){return bO=Zc(tl().mark((function e(t,n,r){var i,a,o,s,u,c;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Mx(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new i_(bE.comparator)).insert(o,FE.newNoDocument(o,eE.min())),u=m_().add(o),c=new k_(eE.min(),new Map,new s_($x),s,u),e.next=9,mO(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),RO(i),e.next=16;break;case 14:return e.next=16,oC(i.localStore,n,!1).then((function(){return NO(i,n,r)})).catch(TS);case 16:case"end":return e.stop()}}),e)}))),bO.apply(this,arguments)}function wO(e,t){return xO.apply(this,arguments)}function xO(){return xO=Zc(tl().mark((function e(t,n){var r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx(t),i=n.batch.batchId,e.prev=1,e.next=4,eC(r.localStore,n);case 4:return a=e.sent,CO(r,i,null),SO(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,DO(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,TS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xO.apply(this,arguments)}function EO(e,t,n){return TO.apply(this,arguments)}function TO(){return TO=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mx(t),e.prev=1,e.next=4,function(e,t){var n=Mx(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Dx(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,CO(i,n,r),SO(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,DO(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,TS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),TO.apply(this,arguments)}function _O(e,t){return IO.apply(this,arguments)}function IO(){return IO=Zc(tl().mark((function e(t,n){var r,i,a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uN((r=Mx(t)).remoteStore)||Nx("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Mx(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=jN(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),IO.apply(this,arguments)}function SO(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function CO(e,t,n){var r=Mx(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function NO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=bc(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||OO(e,t)}))}function OO(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(rN(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),RO(e))}function AO(e,t,n){var r,i=bc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof nO?(e.qo.addReference(a.key,t),PO(e,a)):a instanceof rO?(Nx("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||OO(e,a.key)):Rx()}}catch(o){i.e(o)}finally{i.f()}}function PO(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Nx("SyncEngine","New document in limbo: "+n),e.Lo.add(r),RO(e))}function RO(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new bE(aE.fromString(t)),r=e.Qo.next();e.Uo.set(r,new oO(n)),e.Bo=e.Bo.insert(n,r),nN(e.remoteStore,new HI(dT(oT(n.path)),r,2,Gx.I))}}function DO(e,t,n){return MO.apply(this,arguments)}function MO(){return MO=Zc(tl().mark((function e(t,n,r){var i,a,o,s;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mx(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=QS.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=Zc(tl().mark((function e(t,n){var r,i,a,o,s,u,c,l;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return AI.forEach(n,(function(t){return AI.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return AI.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),LI(e.t0)){e.next=10;break}throw e.t0;case 10:Nx("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=bc(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),MO.apply(this,arguments)}function LO(e,t){return FO.apply(this,arguments)}function FO(){return FO=Zc(tl().mark((function e(t,n){var r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Mx(t)).currentUser.isEqual(n)){e.next=11;break}return Nx("SyncEngine","User change. New user:",n.toKey()),e.next=5,XS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Fx(Lx.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,DO(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),FO.apply(this,arguments)}function jO(e,t){var n=Mx(e),r=n.Uo.get(t);if(r&&r.$o)return m_().add(r.key);var i=m_(),a=n.Mo.get(t);if(!a)return i;var o,s=bc(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Po)}}catch(l){s.e(l)}finally{s.f()}return i}function UO(e,t){return VO.apply(this,arguments)}function VO(){return VO=Zc(tl().mark((function e(t,n){var r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx(t),e.next=3,uC(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&AO(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}function zO(e){return BO.apply(this,arguments)}function BO(){return BO=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mx(t),e.abrupt("return",lC(n.localStore).then((function(e){return DO(n,e)})));case 2:case"end":return e.stop()}}),e)}))),BO.apply(this,arguments)}function qO(e,t,n,r){return WO.apply(this,arguments)}function WO(){return WO=Zc(tl().mark((function e(t,n,r,i){var a,o;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Mx(t),e.next=3,function(e,t){var n=Mx(e),r=Mx(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):AI.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,kN(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(CO(a,n,i||null),SO(a,n),function(e,t){Mx(Mx(e).An).ee(t)}(a.localStore,n)):Rx();case 11:return e.next=13,DO(a,o);case 13:e.next=16;break;case 15:Nx("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),WO.apply(this,arguments)}function HO(e,t){return KO.apply(this,arguments)}function KO(){return KO=Zc(tl().mark((function e(t,n){var r,i,a,o,s,u,c,l;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tA(r=Mx(t)),nA(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,GO(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,RN(r.remoteStore,!0);case 9:o=bc(a);try{for(o.s();!(s=o.n()).done;)u=s.value,nN(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return NO(r,t),oC(r.localStore,t,!0)})),rN(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,GO(r,c);case 21:return function(e){var t=Mx(e);t.Uo.forEach((function(e,n){rN(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new i_(bE.comparator)}(r),r.Wo=!1,e.next=25,RN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),KO.apply(this,arguments)}function GO(e,t,n){return QO.apply(this,arguments)}function QO(){return QO=Zc(tl().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Mx(t),a=[],o=[],s=bc(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,aC(i.localStore,dT(f[0]));case 11:l=e.sent,h=bc(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,UO(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,cC(i.localStore,c);case 36:return g=e.sent,e.next=39,aC(i.localStore,g);case 39:return l=e.sent,e.next=42,lO(i,YO(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),QO.apply(this,arguments)}function YO(e){return aT(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $O(e){var t=Mx(e);return Mx(Mx(t.localStore).persistence).Tn()}function JO(e,t,n,r){return XO.apply(this,arguments)}function XO(){return XO=Zc(tl().mark((function e(t,n,r,i){var a,o,s;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Mx(t)).Wo){e.next=5;break}Nx("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,lC(a.localStore);case 11:return o=e.sent,s=k_.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,DO(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,oC(a.localStore,n,!0);case 18:return NO(a,n,i),e.abrupt("break",21);case 20:Rx();case 21:case"end":return e.stop()}}),e)}))),XO.apply(this,arguments)}function ZO(e,t,n){return eA.apply(this,arguments)}function eA(){return eA=Zc(tl().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tA(t)).Wo){e.next=45;break}a=bc(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return Nx("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,cC(i.localStore,s);case 12:return u=e.sent,e.next=15,aC(i.localStore,u);case 15:return c=e.sent,e.next=18,lO(i,YO(u),c.targetId,!1);case 18:nN(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=bc(r),e.prev=30,h=tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,oC(i.localStore,t,!1).then((function(){rN(i.remoteStore,t),NO(i,t)})).catch(TS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),eA.apply(this,arguments)}function tA(e){var t=Mx(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kO.bind(null,t),t.Fo.Pr=QN.bind(null,t.eventManager),t.Fo.zo=YN.bind(null,t.eventManager),t}function nA(e){var t=Mx(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EO.bind(null,t),t}function rA(e,t,n){var r=Mx(e);(function(){var e=Zc(tl().mark((function e(t,n,r){var i,a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Mx(e),r=D_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(tO(i)),a=new eO(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,DO(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Mx(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Ax("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var iA=function(){function e(){Pe(this,e),this.synchronizeTabs=!1}return De(e,[{key:"initialize",value:function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=WC(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return JS(this.persistence,new YS,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new TC(IC.ks,this.k)}},{key:"Jo",value:function(e){return new LC}},{key:"terminate",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aA=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return De(n,[{key:"initialize",value:function(){var e=Zc(tl().mark((function e(t){var r=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(Fe(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,fC(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,nA(this.ta.syncEngine);case 8:return e.next=10,kN(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return JS(this.persistence,new YS,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new CS(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=HS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fS.withCacheSize(this.cacheSizeBytes):fS.DEFAULT;return new BS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,BC(),qC(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new LC}}]),n}(iA),oA=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return De(n,[{key:"initialize",value:function(){var e=Zc(tl().mark((function e(t){var r,i=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(Fe(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof MC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:qO.bind(null,r),gi:JO.bind(null,r),yi:ZO.bind(null,r),Tn:$O.bind(null,r),_i:zO.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HO(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=BC();if(!MC.bt(t))throw new Fx(Lx.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=HS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new MC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(aA),sA=function(){function e(){Pe(this,e)}return De(e,[{key:"initialize",value:function(){var e=Zc(tl().mark((function e(t,n){var r=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return yO(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=LO.bind(null,this.syncEngine),e.next=12,RN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new qN}},{key:"createDatastore",value:function(e){var t,n=WC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new zC(t));return function(e,t,n,r){return new YC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return yO(o.syncEngine,e,0)},a=jC.bt()?new jC:new FC,new JC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new sO(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mx(t),Nx("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,eN(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function uA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Zc(tl().mark((function r(){var i;return tl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var cA=function(){function e(t){Pe(this,e),this.observer=t,this.muted=!1}return De(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lA=function(){function e(t,n){var r=this;Pe(this,e),this.sa=t,this.k=n,this.metadata=new jx,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return De(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Zc(tl().mark((function e(){var t,n,r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new XN(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Zc(tl().mark((function e(){var t,n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Zc(tl().mark((function e(){var t,n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fA=function(){function e(t){Pe(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return De(e,[{key:"lookup",value:function(){var e=Zc(tl().mark((function e(t){var n,r=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Fx(Lx.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Zc(tl().mark((function e(t,n){var r,i,a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx(t),i=z_(r.k)+"/documents",a={documents:n.map((function(e){return F_(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=H_(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Dx(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ZT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Zc(tl().mark((function e(){var t,n=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=bE.fromPath(t);n.mutations.push(new e_(r,n.precondition(r)))})),e.next=7,function(){var e=Zc(tl().mark((function e(t,n){var r,i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx(t),i=z_(r.k)+"/documents",a={writes:n.map((function(e){return K_(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rx();t=eE.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fx(Lx.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jT.updateTime(t):jT.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(eE.min()))throw new Fx(Lx.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jT.updateTime(t)}return jT.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hA=function(){function e(t,n,r,i){Pe(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new HC(this.asyncQueue,"transaction_retry")}return De(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Zc(tl().mark((function t(){var n,r;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fA(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!gE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!n_(t)}return!1}}]),e}(),dA=function(){function e(t,n,r,i){var a=this;Pe(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_x.UNAUTHENTICATED,this.clientId=Yx.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nx("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return De(e,[{key:"getConfiguration",value:function(){var e=Zc(tl().mark((function e(){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fx(Lx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jx;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Zc(tl().mark((function n(){var r;return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=jN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=Zc(tl().mark((function e(t,n){var r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Nx("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,XS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return gA.apply(this,arguments)}function gA(){return gA=Zc(tl().mark((function e(t,n){var r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,yA(t);case 3:return r=e.sent,Nx("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Zc(tl().mark((function e(t,n){var r,i;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Mx(t)).asyncQueue.verifyOperationInProgress(),Nx("RemoteStore","RemoteStore received new credentials"),i=uN(r),r.Gr.add(3),e.next=6,eN(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,XC(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),gA.apply(this,arguments)}function yA(e){return kA.apply(this,arguments)}function kA(){return kA=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Nx("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,pA(t,new iA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function bA(e){return wA.apply(this,arguments)}function wA(){return wA=Zc(tl().mark((function e(t){return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Nx("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,mA(t,new sA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e){return yA(e).then((function(e){return e.persistence}))}function EA(e){return yA(e).then((function(e){return e.localStore}))}function TA(e){return bA(e).then((function(e){return e.remoteStore}))}function _A(e){return bA(e).then((function(e){return e.syncEngine}))}function IA(e){return SA.apply(this,arguments)}function SA(){return SA=Zc(tl().mark((function e(t){var n,r;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=uO.bind(null,n.syncEngine),r.onUnlisten=hO.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),SA.apply(this,arguments)}function CA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new jx;return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function i(){return tl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cA({next:function(a){t.enqueueAndForget((function(){return KN(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Fx(Lx.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Fx(Lx.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new JN(oT(n.path),a,{includeMetadataChanges:!0,wo:!0});return WN(e,o)},i.next=3,IA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function NA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new jx;return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function i(){return tl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cA({next:function(n){t.enqueueAndForget((function(){return KN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Fx(Lx.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new JN(n,a,{includeMetadataChanges:!0,wo:!0});return WN(e,o)},i.next=3,IA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var OA=De((function e(t,n,r,i,a,o,s,u){Pe(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),AA=function(){function e(t,n){Pe(this,e),this.projectId=t,this.database=n||"(default)"}return De(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),PA=new Map;function RA(e,t,n){if(!n)throw new Fx(Lx.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function DA(e,t,n,r){if(!0===t&&!0===r)throw new Fx(Lx.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function MA(e){if(!bE.isDocumentKey(e))throw new Fx(Lx.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function LA(e){if(bE.isDocumentKey(e))throw new Fx(Lx.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function FA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Rx()}function jA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fx(Lx.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=FA(e);throw new Fx(Lx.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function UA(e,t){if(t<=0)throw new Fx(Lx.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var VA=function(){function e(t){var n;if(Pe(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fx(Lx.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fx(Lx.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,DA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return De(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),zA=function(){function e(t,n,r){Pe(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VA({}),this._settingsFrozen=!1,t instanceof AA?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fx(Lx.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new AA(e.options.projectId)}(t))}return De(e,[{key:"app",get:function(){if(!this._app)throw new Fx(Lx.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fx(Lx.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vx;switch(e.type){case"gapi":var t=e.client;return Dx(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Wx(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Fx(Lx.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=PA.get(e);t&&(Nx("ComponentProvider","Removing Datastore"),PA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function BA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=jA(e,zA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ax("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=_x.MOCK_USER;else{o=Oc(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Fx(Lx.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new _x(u)}e._authCredentials=new zx(new Ux(o,s))}}var qA=function(){function e(t,n,r){Pe(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return De(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new HA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),WA=function(){function e(t,n,r){Pe(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return De(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),HA=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this,e,r,oT(i)))._path=i,a.type="collection",a}return De(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new qA(this.firestore,null,new bE(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(WA);function KA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jc(e),RA("collection","path",t),e instanceof zA){var a=aE.fromString.apply(aE,[t].concat(r));return LA(a),new HA(e,null,a)}if(!(e instanceof qA||e instanceof HA))throw new Fx(Lx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(aE.fromString.apply(aE,[t].concat(r)));return LA(o),new HA(e.firestore,null,o)}function GA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jc(e),1===arguments.length&&(t=Yx.A()),RA("doc","path",t),e instanceof zA){var a=aE.fromString.apply(aE,[t].concat(r));return MA(a),new qA(e,null,new bE(a))}if(!(e instanceof qA||e instanceof HA))throw new Fx(Lx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(aE.fromString.apply(aE,[t].concat(r)));return MA(o),new qA(e.firestore,e instanceof HA?e.converter:null,new bE(o))}function QA(e,t){return e=Jc(e),t=Jc(t),(e instanceof qA||e instanceof HA)&&(t instanceof qA||t instanceof HA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function YA(e,t){return e=Jc(e),t=Jc(t),e instanceof WA&&t instanceof WA&&e.firestore===t.firestore&&vT(e._query,t._query)&&e.converter===t.converter}var $A=function(){function e(){var t=this;Pe(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new HC(this,"async_queue_retry"),this.Ra=function(){var e=qC();e&&Nx("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=qC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return De(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=qC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new jx;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Zc(tl().mark((function e(){var t=this;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),LI(e.t0)){e.next=12;break}throw e.t0;case 12:Nx("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ox("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=FN.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&Rx()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Zc(tl().mark((function e(){var t;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=bc(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=bc(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function JA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=bc(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var XA=function(){function e(){Pe(this,e),this._progressObserver={},this._taskCompletionResolver=new jx,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return De(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ZA=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new $A,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return De(n,[{key:"_terminate",value:function(){return this._firestoreClient||tP(this),this._firestoreClient.terminate()}}]),n}(zA);function eP(e){return e._firestoreClient||tP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tP(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new OA(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new dA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function nP(e,t,n){var r=new jx;return e.asyncQueue.enqueue(Zc(tl().mark((function i(){return tl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,pA(e,n);case 3:return i.next=5,mA(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Lx.FAILED_PRECONDITION||e.code===Lx.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function rP(e){return function(e){return e.asyncQueue.enqueue(Zc(tl().mark((function t(){var n,r;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xA(e);case 2:return n=t.sent,t.next=5,TA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Mx(e);return t.Gr.delete(0),XC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(eP(e=jA(e,ZA)))}function iP(e){return function(e){return e.asyncQueue.enqueue(Zc(tl().mark((function t(){var n,r;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xA(e);case 2:return n=t.sent,t.next=5,TA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mx(t)).Gr.add(0),e.next=4,eN(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(eP(e=jA(e,ZA)))}function aP(e,t){var n=eP(e=jA(e,ZA)),r=new XA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lA(e,t)}(function(e,t){if(e instanceof Uint8Array)return uA(e,t);if(e instanceof ArrayBuffer)return uA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,WC(t));e.asyncQueue.enqueueAndForget(Zc(tl().mark((function t(){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rA,t.next=3,_A(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function oP(e,t){return function(e,t){return e.asyncQueue.enqueue(Zc(tl().mark((function n(){return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Mx(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,EA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(eP(e=jA(e,ZA)),t).then((function(t){return t?new WA(e,null,t.query):null}))}function sP(e){if(e._initialized||e._terminated)throw new Fx(Lx.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var uP=function(){function e(){Pe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sE(n)}return De(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var cP=function(){function e(t){Pe(this,e),this._byteString=t}return De(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(cE.fromBase64String(t))}catch(t){throw new Fx(Lx.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(cE.fromUint8Array(t))}}]),e}(),lP=De((function e(t){Pe(this,e),this._methodName=t})),fP=function(){function e(t,n){if(Pe(this,e),!isFinite(t)||t<-90||t>90)throw new Fx(Lx.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fx(Lx.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return De(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $x(this._lat,e._lat)||$x(this._long,e._long)}}]),e}(),hP=/^__.*__$/,dP=function(){function e(t,n,r){Pe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return De(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new GT(e,this.data,this.fieldMask,t,this.fieldTransforms):new KT(e,this.data,t,this.fieldTransforms)}}]),e}(),pP=function(){function e(t,n,r){Pe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return De(e,[{key:"toMutation",value:function(e,t){return new GT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function vP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rx()}}var mP=function(){function e(t,n,r,i,a,o){Pe(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return De(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return LP(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(vP(this.xa)&&hP.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),gP=function(){function e(t,n,r){Pe(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||WC(t)}return De(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mP({xa:e,methodName:t,Ka:n,path:sE.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function yP(e){var t=e._freezeSettings(),n=WC(e._databaseId);return new gP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);PP("Data must be an object, but it was:",o,r);var s,u,c=OP(r,o);if(a.merge)s=new uE(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=bc(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=RP(t,d,n);if(!o.contains(p))throw new Fx(Lx.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));FP(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new uE(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new dP(new ME(c),s,u)}var bP=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lP);function wP(e,t,n){return new mP({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var xP=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"_toFieldTransform",value:function(e){return new LT(e.path,new CT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lP),EP=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e)).Qa=r,i}return De(n,[{key:"_toFieldTransform",value:function(e){var t=wP(this,e,!0),n=this.Qa.map((function(e){return NP(e,t)})),r=new NT(n);return new LT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lP),TP=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e)).Qa=r,i}return De(n,[{key:"_toFieldTransform",value:function(e){var t=wP(this,e,!0),n=this.Qa.map((function(e){return NP(e,t)})),r=new AT(n);return new LT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lP),_P=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e)).Wa=r,i}return De(n,[{key:"_toFieldTransform",value:function(e){var t=new RT(e.k,ET(e.k,this.Wa));return new LT(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lP);function IP(e,t,n,r){var i=e.ja(1,t,n);PP("Data must be an object, but it was:",i,r);var a=[],o=ME.empty();nE(r,(function(e,r){var s=MP(t,e,n);r=Jc(r);var u=i.La(s);if(r instanceof bP)a.push(s);else{var c=NP(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new uE(a);return new pP(o,s,i.fieldTransforms)}function SP(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[RP(t,r,n)],u=[i];if(a.length%2!=0)throw new Fx(Lx.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(RP(t,a[c])),u.push(a[c+1]);for(var l=[],f=ME.empty(),h=s.length-1;h>=0;--h)if(!FP(l,s[h])){var d=s[h],p=u[h];p=Jc(p);var v=o.La(d);if(p instanceof bP)l.push(d);else{var m=NP(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new uE(l);return new pP(f,g,o.fieldTransforms)}function CP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return NP(n,e.ja(r?4:3,t))}function NP(e,t){if(AP(e=Jc(e)))return PP("Unsupported field value:",t,e),OP(e,t);if(e instanceof lP)return function(e,t){if(!vP(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=bc(e);try{for(a.s();!(n=a.n()).done;){var o=NP(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Jc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ET(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zx.fromDate(e);return{timestampValue:A_(t.k,n)}}if(e instanceof Zx){var r=new Zx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:A_(t.k,r)}}if(e instanceof fP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cP)return{bytesValue:P_(t.k,e._byteString)};if(e instanceof qA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:M_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(FA(e)))}(e,t)}function OP(e,t){var n={};return rE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nE(e,(function(e,r){var i=NP(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function AP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zx||e instanceof fP||e instanceof cP||e instanceof qA||e instanceof lP)}function PP(e,t,n){if(!AP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=FA(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function RP(e,t,n){if((t=Jc(t))instanceof uP)return t._internalPath;if("string"==typeof t)return MP(e,t);throw LP("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var DP=new RegExp("[~\\*/\\[\\]]");function MP(e,t,n){if(t.search(DP)>=0)throw LP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return wc(uP,Ae(t.split(".")))._internalPath}catch(r){throw LP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function LP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Fx(Lx.INVALID_ARGUMENT,s+e+u)}function FP(e,t){return e.some((function(e){return e.isEqual(t)}))}var jP=function(){function e(t,n,r,i,a){Pe(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return De(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new qA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new UP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(VP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),UP=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"data",value:function(){return Xl(Fe(n.prototype),"data",this).call(this)}}]),n}(jP);function VP(e,t){return"string"==typeof t?MP(e,t):t instanceof uP?t._internalPath:t._delegate._internalPath}var zP=function(){function e(t,n){Pe(this,e),this.hasPendingWrites=t,this.fromCache=n}return De(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),BP=function(e){Le(n,e);var t=ze(n);function n(e,r,i,a,o,s){var u;return Pe(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return De(n,[{key:"exists",value:function(){return Xl(Fe(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new qP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(VP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(jP),qP=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xl(Fe(n.prototype),"data",this).call(this,e)}}]),n}(BP),WP=function(){function e(t,n,r,i){Pe(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zP(i.hasPendingWrites,i.fromCache),this.query=r}return De(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new qP(n._firestore,n._userDataWriter,r.key,r,new zP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fx(Lx.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new qP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new qP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:HP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function HP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rx()}}function KP(e,t){return e instanceof BP&&t instanceof BP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof WP&&t instanceof WP&&e._firestore===t._firestore&&YA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function GP(e){if(uT(e)&&0===e.explicitOrderBy.length)throw new Fx(Lx.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var QP=De((function e(){Pe(this,e)}));function YP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var $P=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return De(n,[{key:"_apply",value:function(e){var t=yP(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){sR(o,a);var u,c=[],l=bc(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(oR(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=oR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||sR(o,a),s=CP(n,"where",o,"in"===a||"not-in"===a);var h=qE.create(i,a,s);return function(e,t){if(t.V()){var n=lT(e);if(null!==n&&!n.isEqual(t.field))throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=cT(e);null!==r&&uR(e,t.field,r)}var i=function(e,t){var n,r=bc(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Fx(Lx.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fx(Lx.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new WA(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new iT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(QP);var JP=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return De(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new eT(t,n);return function(e,t){if(null===cT(e)){var n=lT(e);null!==n&&uR(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new WA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new iT(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(QP);var XP=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return De(n,[{key:"_apply",value:function(e){return new WA(e.firestore,e.converter,pT(e._query,this.Ya,this.Xa))}}]),n}(QP);var ZP=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return De(n,[{key:"_apply",value:function(e){var t=aR(e,this.type,this.Za,this.tc);return new WA(e.firestore,e.converter,function(e,t){return new iT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(QP);function eR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZP("startAt",t,!0)}function tR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZP("startAfter",t,!1)}var nR=function(e){Le(n,e);var t=ze(n);function n(e,r,i){var a;return Pe(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return De(n,[{key:"_apply",value:function(e){var t=aR(e,this.type,this.Za,this.tc);return new WA(e.firestore,e.converter,function(e,t){return new iT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(QP);function rR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nR("endBefore",t,!0)}function iR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nR("endAt",t,!1)}function aR(e,t,n,r){if(n[0]=Jc(n[0]),n[0]instanceof jP)return function(e,t,n,r,i){if(!r)throw new Fx(Lx.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=bc(hT(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(CE(t,r.key));else{var c=r.data.field(u.field);if(pE(c))throw new Fx(Lx.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new XE(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=yP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Fx(Lx.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!fT(e)&&-1!==c.indexOf("/"))throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(aE.fromString(c));if(!bE.isDocumentKey(l))throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new bE(l);s.push(CE(t,f))}else{var h=CP(n,r,c);s.push(h)}}return new XE(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function oR(e,t,n){if("string"==typeof(n=Jc(n))){if(""===n)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fT(t)&&-1!==n.indexOf("/"))throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(aE.fromString(n));if(!bE.isDocumentKey(r))throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return CE(e,new bE(r))}if(n instanceof qA)return CE(e,n._key);throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(FA(n),"."))}function sR(e,t){if(!Array.isArray(e)||0===e.length)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function uR(e,t,n){if(!n.isEqual(t))throw new Fx(Lx.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var cR=function(){function e(){Pe(this,e)}return De(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rx()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return nE(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new fP(hE(e.latitude),hE(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=vE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mE(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fE(e);return new Zx(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=aE.fromString(e);Dx(sI(n));var r=new AA(n.get(1),n.get(3)),i=new bE(n.popFirst(5));return r.isEqual(t)||Ox("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function lR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var fR=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).firestore=e,r}return De(n,[{key:"convertBytes",value:function(e){return new cP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qA(this.firestore,null,t)}}]),n}(cR),hR=function(){function e(t,n){Pe(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yP(t)}return De(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=dR(e,this._firestore),i=lR(r.converter,t,n),a=kP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,jT.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=dR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Jc(t))||t instanceof uP?SP(this._dataReader,"WriteBatch.update",i._key,t,n,o):IP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,jT.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=dR(e,this._firestore);return this._mutations=this._mutations.concat(new ZT(t._key,jT.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Fx(Lx.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function dR(e,t){if((e=Jc(e)).firestore!==t)throw new Fx(Lx.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var pR=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).firestore=e,r}return De(n,[{key:"convertBytes",value:function(e){return new cP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qA(this.firestore,null,t)}}]),n}(cR);function vR(e){e=jA(e,qA);var t=jA(e.firestore,ZA),n=eP(t),r=new pR(t);return function(e,t){var n=new jx;return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function r(){return tl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zc(tl().mark((function e(t,n,r){var i,a;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Mx(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Fx(Lx.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=jN(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,EA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new BP(t,r,e._key,n,new zP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function mR(e){e=jA(e,WA);var t=jA(e.firestore,ZA),n=eP(t),r=new pR(t);return function(e,t){var n=new jx;return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function r(){return tl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zc(tl().mark((function e(t,n,r){var i,a,o,s,u;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uC(t,n,!0);case 3:i=e.sent,a=new iO(n,i.zn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=jN(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,EA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new WP(t,r,e,n)}))}function gR(e,t,n){e=jA(e,qA);var r=jA(e.firestore,ZA),i=lR(e.converter,t,n);return wR(r,[kP(yP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jT.none())])}function yR(e,t,n){e=jA(e,qA);for(var r=jA(e.firestore,ZA),i=yP(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return wR(r,[("string"==typeof(t=Jc(t))||t instanceof uP?SP(i,"updateDoc",e._key,t,n,o):IP(i,"updateDoc",e._key,t)).toMutation(e._key,jT.exists(!0))])}function kR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Jc(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||JA(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(JA(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof qA)l=jA(e.firestore,ZA),f=oT(e._key.path),c={next:function(t){n[u]&&n[u](xR(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=jA(e,WA);l=jA(p.firestore,ZA),f=p._query;var v=new pR(l);c={next:function(e){n[u]&&n[u](new WP(l,v,p,e))},error:n[u+1],complete:n[u+2]},GP(e._query)}return function(e,t,n,r){var i=new cA(r),a=new JN(t,i,n);return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function t(){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WN,t.next=3,IA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Zc(tl().mark((function t(){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KN,t.next=3,IA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(eP(l),f,h,c)}function bR(e,t){return function(e,t){var n=new cA(t);return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function t(){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mx(e).io.add(t),t.next()},t.next=3,IA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Zc(tl().mark((function t(){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mx(e).io.delete(t)},t.next=3,IA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(eP(e=jA(e,ZA)),JA(t)?t:{next:t})}function wR(e,t){return function(e,t){var n=new jx;return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function r(){return tl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=pO,r.next=3,_A(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(eP(e),t)}function xR(e,t,n){var r=n.docs.get(t._key),i=new pR(e);return new BP(e,i,t._key,r,new zP(n.hasPendingWrites,n.fromCache),t.converter)}var ER=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,r))._firestore=e,i}return De(n,[{key:"get",value:function(e){var t=this,r=dR(e,this._firestore),i=new pR(this._firestore);return Xl(Fe(n.prototype),"get",this).call(this,e).then((function(e){return new BP(t._firestore,i,r._key,e._document,new zP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Pe(this,e),this._firestore=t,this._transaction=n,this._dataReader=yP(t)}return De(e,[{key:"get",value:function(e){var t=this,n=dR(e,this._firestore),r=new fR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Rx();var i=e[0];if(i.isFoundDocument())return new jP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new jP(t._firestore,r,n._key,null,n.converter);throw Rx()}))}},{key:"set",value:function(e,t,n){var r=dR(e,this._firestore),i=lR(r.converter,t,n),a=kP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=dR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Jc(t))||t instanceof uP?SP(this._dataReader,"Transaction.update",i._key,t,n,o):IP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=dR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function TR(e,t){return function(e,t){var n=new jx;return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function r(){var i;return tl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return bA(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new hA(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(eP(e=jA(e,ZA)),(function(n){return t(new ER(e,n))}))}function _R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EP("arrayUnion",t)}function IR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ix=e}(Ml),Il(new nl("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ZA(i,new Bx(e.getProvider("auth-internal")),new Kx(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),zl(Tx,"3.4.1",e),zl(Tx,"3.4.1","esm2017")}();function SR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fx("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function CR(){if("undefined"===typeof Uint8Array)throw new Fx("unimplemented","Uint8Arrays are not available in this environment.")}function NR(){if("undefined"==typeof atob)throw new Fx("unimplemented","Blobs are unavailable in Firestore in this environment.")}var OR=function(){function e(t){Pe(this,e),this._delegate=t}return De(e,[{key:"toBase64",value:function(){return NR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return CR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return NR(),new e(cP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return CR(),new e(cP.fromUint8Array(t))}}]),e}();function AR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=bc(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var PR=function(){function e(){Pe(this,e)}return De(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){sP(e=jA(e,ZA));var n=eP(e),r=e._freezeSettings(),i=new sA;return nP(n,i,new aA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){sP(e=jA(e,ZA));var t=eP(e),n=e._freezeSettings(),r=new sA;return nP(t,r,new oA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Fx(Lx.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new jx;return e._queue.enqueueAndForgetEvenWhileRestricted(Zc(tl().mark((function n(){return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Zc(tl().mark((function e(t){var n;return tl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(RI.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,RI.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(HS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),RR=function(){function e(t,n,r){var i=this;Pe(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof AA||(this._appCompat=t)}return De(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ax("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};BA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return rP(this._delegate)}},{key:"disableNetwork",value:function(){return iP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&DA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new jx;return e.asyncQueue.enqueueAndForget(Zc(tl().mark((function n(){return tl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=_O,n.next=3,_A(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(eP(e=jA(e,ZA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return bR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Fx("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new GR(this,KA(this._delegate,e))}catch(t){throw UR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new jR(this,GA(this._delegate,e))}catch(t){throw UR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new WR(this,function(e,t){if(e=jA(e,zA),RA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fx(Lx.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new WA(e,null,function(e){return new iT(aE.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw UR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return TR(this._delegate,(function(n){return e(new MR(t,n))}))}},{key:"batch",value:function(){var e=this;return eP(this._delegate),new LR(new hR(this._delegate,(function(t){return wR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return aP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return oP(this._delegate,e).then((function(e){return e?new WR(t,e):null}))}}]),e}(),DR=function(e){Le(n,e);var t=ze(n);function n(e){var r;return Pe(this,n),(r=t.call(this)).firestore=e,r}return De(n,[{key:"convertBytes",value:function(e){return new OR(new cP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return jR.forKey(t,this.firestore,null)}}]),n}(cR);var MR=function(){function e(t,n){Pe(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new DR(t)}return De(e,[{key:"get",value:function(e){var t=this,n=QR(e);return this._delegate.get(n).then((function(e){return new BR(t._firestore,new BP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=QR(e);return n?(SR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QR(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QR(e);return this._delegate.delete(t),this}}]),e}(),LR=function(){function e(t){Pe(this,e),this._delegate=t}return De(e,[{key:"set",value:function(e,t,n){var r=QR(e);return n?(SR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QR(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QR(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),FR=function(){function e(t,n,r){Pe(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return De(e,[{key:"fromFirestore",value:function(e,t){var n=new qP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new DR(t),n),i.set(n,a)),a}}]),e}();FR.INSTANCES=new WeakMap;var jR=function(){function e(t,n){Pe(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DR(t)}return De(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new GR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new GR(this.firestore,KA(this._delegate,e))}catch(t){throw UR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Jc(e))instanceof qA&&QA(this._delegate,e)}},{key:"set",value:function(e,t){t=SR("DocumentReference.set",t);try{return t?gR(this._delegate,e,t):gR(this._delegate,e)}catch(n){throw UR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?yR(this._delegate,e):yR.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw UR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return wR(jA(e.firestore,ZA),[new ZT(e._key,jT.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VR(n),a=zR(n,(function(t){return new BR(e.firestore,new BP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return kR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=jA(e,qA);var t=jA(e.firestore,ZA);return CA(eP(t),e._key,{source:"server"}).then((function(n){return xR(t,e,n)}))}(this._delegate):function(e){e=jA(e,qA);var t=jA(e.firestore,ZA);return CA(eP(t),e._key).then((function(n){return xR(t,e,n)}))}(this._delegate),t.then((function(e){return new BR(n.firestore,new BP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Fx("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new qA(n._delegate,r,new bE(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new qA(n._delegate,r,t))}}]),e}();function UR(e,t,n){return e.message=e.message.replace(t,n),e}function VR(e){var t,n=bc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!AR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function zR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=AR(e[0])?e[0]:AR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var BR=function(){function e(t,n){Pe(this,e),this._firestore=t,this._delegate=n}return De(e,[{key:"ref",get:function(){return new jR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return KP(this._delegate,e._delegate)}}]),e}(),qR=function(e){Le(n,e);var t=ze(n);function n(){return Pe(this,n),t.apply(this,arguments)}return De(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Rx()}(void 0!==t),t}}]),n}(BR),WR=function(){function e(t,n){Pe(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DR(t)}return De(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,YP(this._delegate,function(e,t,n){var r=t,i=VP("where",e);return new $P(i,r,n)}(t,n,r)))}catch(i){throw UR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,YP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VP("orderBy",e);return new JP(n,t)}(t,n)))}catch(r){throw UR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,YP(this._delegate,function(e){return UA("limit",e),new XP("limit",e,"F")}(t)))}catch(n){throw UR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,YP(this._delegate,function(e){return UA("limitToLast",e),new XP("limitToLast",e,"L")}(t)))}catch(n){throw UR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,YP(this._delegate,eR.apply(void 0,arguments)))}catch(t){throw UR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,YP(this._delegate,tR.apply(void 0,arguments)))}catch(t){throw UR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,YP(this._delegate,rR.apply(void 0,arguments)))}catch(t){throw UR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,YP(this._delegate,iR.apply(void 0,arguments)))}catch(t){throw UR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return YA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?mR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=jA(e,WA);var t=jA(e.firestore,ZA),n=eP(t),r=new pR(t);return NA(n,e._query,{source:"server"}).then((function(n){return new WP(t,r,e,n)}))}(this._delegate):function(e){e=jA(e,WA);var t=jA(e.firestore,ZA),n=eP(t),r=new pR(t);return GP(e._query),NA(n,e._query).then((function(n){return new WP(t,r,e,n)}))}(this._delegate),t.then((function(e){return new KR(n.firestore,new WP(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VR(n),a=zR(n,(function(t){return new KR(e.firestore,new WP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return kR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),HR=function(){function e(t,n){Pe(this,e),this._firestore=t,this._delegate=n}return De(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new qR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),KR=function(){function e(t,n){Pe(this,e),this._firestore=t,this._delegate=n}return De(e,[{key:"query",get:function(){return new WR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new qR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new HR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new qR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return KP(this._delegate,e._delegate)}}]),e}(),GR=function(e){Le(n,e);var t=ze(n);function n(e,r){var i;return Pe(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return De(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new jR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new jR(this.firestore,void 0===e?GA(this._delegate):GA(this._delegate,e))}catch(t){throw UR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=jA(e.firestore,ZA),r=GA(e),i=lR(e.converter,t);return wR(n,[kP(yP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jT.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new jR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return QA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(FR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(WR);function QR(e){return jA(e,qA)}var YR=function(){function e(){Pe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=wc(uP,n)}return De(e,[{key:"isEqual",value:function(e){return(e=Jc(e))instanceof uP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(sE.keyField().canonicalString())}}]),e}(),$R=function(){function e(t){Pe(this,e),this._delegate=t}return De(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new xP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new bP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=_R.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=IR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new _P("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),JR={Firestore:RR,GeoPoint:fP,Timestamp:Zx,Blob:OR,Transaction:MR,WriteBatch:LR,DocumentReference:jR,DocumentSnapshot:BR,Query:WR,QueryDocumentSnapshot:qR,QuerySnapshot:KR,CollectionReference:GR,FieldPath:YR,FieldValue:$R,setLogLevel:function(e){!function(e){Sx.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new nl("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},JR)))}(e,(function(e,t){return new RR(e,t,new PR)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}($l);var XR={firebase:{apiKey:"AIzaSyCjecbx-2zHi9rw3FThkhTDxhOJy0C7_pA",authDomain:"walley-337111.firebaseapp.com",projectId:"walley-337111",storageBucket:"walley-337111.appspot.com",messagingSenderId:"418737716158",appId:"1:418737716158:web:018187d6e4caaa526357ef",measurementId:"G-B23J9NXC59"}},ZR=($l.initializeApp(XR.firebase),{google:new $l.auth.GoogleAuthProvider,apple:new _d("apple.com")}),eD=$l.auth(),tD="Client",nD=function(){return(new Date).toISOString()},rD={info:function(e,t){"string"===typeof e?console.log("[".concat(nD(),"] [").concat(t||tD,"] [INFO] ").concat(e)):console.log("[".concat(nD(),"] [").concat(t||tD,"] [INFO]"),e)},warn:function(e,t){"string"===typeof e?console.log("[".concat(nD(),"] [").concat(t||tD,"] [WARN] ").concat(e)):console.log("[".concat(nD(),"] [").concat(t||tD,"] [WARN]"),e)},error:function(e,t){"string"===typeof e?console.log("[".concat(nD(),"] [").concat(t||tD,"] [ERROR] ").concat(e)):console.log("[".concat(nD(),"] [").concat(t||tD,"] [ERROR]"),e)}},iD=function(e){var t=e.children;return eD.currentUser?(0,gc.jsx)("div",{children:t}):(rD.warn("No user detected, redirecting"),(0,gc.jsx)(ee,{to:"/login"}))},aD=function(e){var t=e.error;return""===t?null:(0,gc.jsx)("small",{className:"text-danger",children:t})},oD=function(e){var n,r,i=Ne((0,t.useState)(!1),2),a=i[0],o=i[1],s=Ne((0,t.useState)(""),2),u=s[0],c=s[1],l=Ne((0,t.useState)(""),2),f=l[0],h=l[1],d=Ne((0,t.useState)(""),2),p=d[0],v=d[1],m=Ne((0,t.useState)(""),2),g=m[0],y=m[1],k=he();return"password"!==(null===(n=eD.currentUser)||void 0===n||null===(r=n.providerData[0])||void 0===r?void 0:r.providerId)?(0,gc.jsx)(ee,{to:"/"}):(0,gc.jsxs)(kc,{header:"Change Password",children:[(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{autoComplete:"new-password",type:"password",name:"oldPassword",id:"oldPassword",placeholder:"Current Password",onChange:function(e){return h(e.target.value)},value:f})}),(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return c(e.target.value)},value:u})}),(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return v(e.target.value)},value:p})}),(0,gc.jsx)(hi,{disabled:a,color:"success",block:!0,onClick:function(){return function(){var e;u===p?(""!==g&&y(""),o(!0),null===(e=eD.currentUser)||void 0===e||e.updatePassword(u).then((function(){rD.info("Password change successful."),k.push("/")})).catch((function(e){rD.error(e),o(!1),y(e.message)}))):y("Make sure your passwords are matching")}()},children:"Change Password"}),(0,gc.jsx)(aD,{error:g})]})},sD=function(e){var n=Ne((0,t.useState)(!1),2),r=n[0],i=n[1],a=Ne((0,t.useState)(!1),2),o=a[0],s=a[1],u=Ne((0,t.useState)(""),2),c=u[0],l=u[1],f=Ne((0,t.useState)(""),2),h=f[0],d=f[1];return(0,gc.jsx)(kc,{header:"Send Password Reset",children:o?(0,gc.jsx)("p",{children:"A link has been sent to your email with instructions."}):(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)("p",{children:"Please enter your email."}),(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{type:"email",name:"email",id:"email",placeholder:"Email Address",onChange:function(e){return l(e.target.value)},value:c})}),(0,gc.jsx)(hi,{disabled:r,color:"success",block:!0,onClick:function(){return""!==h&&d(""),i(!0),void eD.sendPasswordResetEmail(c).then((function(){rD.info("Email sent."),s(!0),i(!1)})).catch((function(e){rD.error(e),d(e.message),i(!1)}))},children:"Send Reset Link"}),(0,gc.jsx)(aD,{error:h})]})})},uD=function(e){var n=Ne((0,t.useState)(!1),2),r=n[0],i=n[1],a=Ne((0,t.useState)(""),2),o=a[0],s=a[1],u=Ne((0,t.useState)(""),2),c=u[0],l=u[1],f=Ne((0,t.useState)(""),2),h=f[0],d=f[1],p=he(),v=function(e){""!==h&&d(""),i(!0),function(e){return new Promise((function(t,n){eD.signInWithPopup(e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(e){rD.info(e),p.push("/")})).catch((function(e){rD.error(e),i(!1),d(e.message)}))};return(0,gc.jsxs)(kc,{header:"Login",children:[(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{type:"email",name:"email",id:"email",placeholder:"Email Address",onChange:function(e){return s(e.target.value)},value:o})}),(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return l(e.target.value)},value:c})}),(0,gc.jsx)(hi,{disabled:r,color:"success",block:!0,onClick:function(){return""!==h&&d(""),i(!0),void eD.signInWithEmailAndPassword(o,c).then((function(e){rD.info(e),p.push("/")})).catch((function(e){rD.error(e),i(!1),d(e.message)}))},children:"Login"}),(0,gc.jsxs)("small",{children:[(0,gc.jsxs)("p",{className:"m-1 text-center",children:["Don't have an account? ",(0,gc.jsx)(ke,{to:"/register",children:"Register here."})]}),(0,gc.jsx)("p",{className:"m-1 text-center",children:(0,gc.jsx)(ke,{to:"/forget",children:"Forget your password?"})})]}),(0,gc.jsx)(aD,{error:h}),(0,gc.jsx)("hr",{className:"bg-info m-3"}),(0,gc.jsxs)(hi,{block:!0,disabled:r,onClick:function(){return v(ZR.google)},style:{backgroundColor:"#ea4335",borderColor:"#ea4335"},children:[(0,gc.jsx)("i",{className:"fab fa-google mr-2"})," Sign in with Google"]}),(0,gc.jsxs)(hi,{block:!0,disabled:r,onClick:function(){return v(ZR.apple)},style:{backgroundColor:"#ea4335",borderColor:"#ea4335"},children:[(0,gc.jsx)("i",{className:"fab fa-google mr-2"})," Sign in with Apple"]})]})},cD=function(e){var t=he();return(0,gc.jsxs)(kc,{header:"Logout",children:[(0,gc.jsx)("p",{className:"text-center",children:"Are you sure you want to logout?"}),(0,gc.jsxs)("div",{className:"text-center",children:[(0,gc.jsx)(hi,{color:"danger",className:"mr-2",onClick:function(){return t.goBack()},children:"Cancel"}),(0,gc.jsx)(hi,{color:"info",className:"mr-2",onClick:function(){eD.signOut().then((function(){return t.push("/login")})).catch((function(e){return rD.error(e)}))},children:"Logout"})]})]})},lD=function(e){var n=Ne((0,t.useState)(!1),2),r=n[0],i=n[1],a=Ne((0,t.useState)(""),2),o=a[0],s=a[1],u=Ne((0,t.useState)(""),2),c=u[0],l=u[1],f=Ne((0,t.useState)(""),2),h=f[0],d=f[1],p=Ne((0,t.useState)(""),2),v=p[0],m=p[1],g=he();return(0,gc.jsxs)(kc,{header:"Register",children:[(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{type:"email",name:"email",id:"email",placeholder:"Email Address",onChange:function(e){return s(e.target.value)},value:o})}),(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return l(e.target.value)},value:c})}),(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return d(e.target.value)},value:h})}),(0,gc.jsx)(hi,{disabled:r,color:"success",block:!0,onClick:function(){c===h?(""!==v&&m(""),i(!0),eD.createUserWithEmailAndPassword(o,c).then((function(e){rD.info(e),g.push("/login")})).catch((function(e){rD.error(e),e.code.includes("auth/weak-password")?m("Please enter a stronger password."):e.code.includes("auth/email-already-in-use")?m("Email already in use."):m("Unable to register.  Please try again later."),i(!1)}))):m("Please make sure your passwords match.")},children:"Sign Up"}),(0,gc.jsx)("small",{children:(0,gc.jsxs)("p",{className:"m-1 text-center",children:["Already have an account? ",(0,gc.jsx)(ke,{to:"/login",children:"Login."})]})}),(0,gc.jsx)(aD,{error:v})]})},fD=n(863),hD=function(e){var n=Ne((0,t.useState)(!0),2),r=n[0],i=n[1],a=Ne((0,t.useState)(!1),2),o=a[0],s=a[1],u=Ne((0,t.useState)(!1),2),c=u[0],l=u[1],f=Ne((0,t.useState)(""),2),h=f[0],d=f[1],p=Ne((0,t.useState)(""),2),v=p[0],m=p[1],g=Ne((0,t.useState)(""),2),y=g[0],k=g[1],b=Ne((0,t.useState)(""),2),w=b[0],x=b[1],E=he();(0,t.useEffect)((function(){rD.info("Extracting code");var t=fD.parse(e.location.search);if(t){var n=t.oobCode;n?(rD.info("Code found"),T(n)):(rD.error("Unable to find code"),s(!1),i(!1))}else rD.error("Unable to find code"),s(!1),i(!1)}),[]);var T=function(e){eD.verifyPasswordResetCode(e).then((function(t){rD.info(t),k(e),s(!0),i(!1)})).catch((function(e){rD.error(e),s(!1),i(!1)}))};return(0,gc.jsx)(kc,{header:"Reset Password",children:r?(0,gc.jsx)(cc,{color:"info"}):(0,gc.jsx)(gc.Fragment,{children:o?(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)("p",{children:"Please enter a strong password."}),(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return d(e.target.value)},value:h})}),(0,gc.jsx)(Is,{children:(0,gc.jsx)(Rs,{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return m(e.target.value)},value:v})}),(0,gc.jsx)(hi,{disabled:c,color:"success",block:!0,onClick:function(){h===v?(""!==w&&x(""),l(!0),eD.confirmPasswordReset(y,h).then((function(){E.push("/login")})).catch((function(e){rD.error(e),x(e.message),l(!1)}))):x("Make sure your passwords are matching")},children:"Reset Password"}),(0,gc.jsx)(aD,{error:w})]}):(0,gc.jsx)("p",{children:"Invalid link."})})})},dD=[{path:"/",exact:!0,component:function(e){return(0,gc.jsx)(kr,{children:(0,gc.jsx)(ya,{children:(0,gc.jsxs)(Aa,{children:[(0,gc.jsx)("p",{children:"Welcome to this page that is protected by Friebase auth!"}),(0,gc.jsxs)("p",{children:["Change your password ",(0,gc.jsx)(ke,{to:"/change",children:"here"}),"."]}),(0,gc.jsxs)("p",{children:["Click ",(0,gc.jsx)(ke,{to:"/logout",children:"here"})," to logout."]})]})})})},name:"Home Page",protected:!0},{path:"/register",exact:!0,component:lD,name:"Register Page",protected:!1},{path:"/login",exact:!0,component:uD,name:"Login Page",protected:!1},{path:"/change",exact:!0,component:oD,name:"Change Password Page",protected:!0},{path:"/logout",exact:!0,component:cD,name:"Logout Page",protected:!0},{path:"/forget",exact:!0,component:sD,name:"Forgot Password Page",protected:!1},{path:"/reset",exact:!0,component:hD,name:"Reset Password Page",protected:!1},{path:"/walley",exact:!0,component:function(){return(0,gc.jsxs)("div",{children:[(0,gc.jsx)(yc,{}),"This is homepage"]})},name:"Landing Page",protected:!1}],pD=function(e){var n=Ne((0,t.useState)(!0),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){eD.onAuthStateChanged((function(e){e?rD.info("User detected."):rD.info("No user detected"),i(!1)}))}),[]),r?(0,gc.jsx)(cc,{color:"info"}):(0,gc.jsx)("div",{children:(0,gc.jsx)(le,{children:dD.map((function(e,t){return(0,gc.jsx)(ie,{path:e.path,exact:e.exact,render:function(t){return e.protected?(0,gc.jsx)(iD,{children:(0,gc.jsx)(e.component,Te({},t))}):(0,gc.jsx)(e.component,Te({},t))}},t)}))})})},vD=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,gc.jsx)(t.StrictMode,{children:(0,gc.jsx)(de,{children:(0,gc.jsx)(pD,{})})}),document.getElementById("root")),vD()}()}();
//# sourceMappingURL=main.ea52c695.js.map