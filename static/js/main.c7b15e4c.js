/*! For license information please see main.c7b15e4c.js.LICENSE.txt */
!function(){var e={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},76:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,k=0,b="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function _(){return k=g>0?l(b,--g):0,m--,10===k&&(m=1,v--),k}function E(){return k=g<y?l(b,g++):0,m++,10===k&&(m=1,v++),k}function S(){return l(b,g)}function I(){return g}function T(e,t){return f(b,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return v=m=1,y=h(b=e),g=0,[]}function N(e){return b="",e}function R(e){return u(T(g-1,D(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(k=S())&&k<33;)E();return C(e)>2||C(k)>3?"":" "}function O(e,t){for(;--t&&E()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return T(e,I()+(t<6&&32==S()&&32==E()))}function D(e){for(;E();)switch(k){case e:return g;case 34:case 39:34!==e&&39!==e&&D(k);break;case 40:41===e&&D(e);break;case 92:E()}return g}function L(e,t){for(;E()&&e+k!==57&&(e+k!==84||47!==S()););return"/*"+T(t,g-1)+"*"+a(47===e?e:E())}function M(e){for(;!C(S());)E();return T(e,g)}var F="-ms-",U="-moz-",j="-webkit-",V="comm",z="rule",Z="decl",B="@keyframes";function q(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@import":case Z:return e.return=e.return||e.value;case V:return"";case B:return e.return=e.value+"{"+q(e.children,r)+"}";case z:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e,t){switch(function(e,t){return(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3)}(e,t)){case 5103:return j+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return j+e+U+e+F+e+e;case 6828:case 4268:return j+e+F+e+e;case 6165:return j+e+F+"flex-"+e+e;case 5187:return j+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return j+e+F+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return j+e+F+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return j+e+F+s(e,"shrink","negative")+e;case 5292:return j+e+F+s(e,"basis","preferred-size")+e;case 6060:return j+"box-"+s(e,"-grow","")+j+e+F+s(e,"grow","positive")+e;case 4554:return j+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,j+"$1"),/(image-set)/,j+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,j+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,j+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+U+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?H(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":"+j)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+j+(45===l(e,14)?"inline-":"")+"box$3$1"+j+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return j+e+F+e+e}return e}function K(e){return N(G("",null,null,null,[""],e=A(e),0,[0],e))}function G(e,t,n,r,i,o,u,l,f){for(var d=0,v=0,m=u,y=0,g=0,k=0,b=1,w=1,x=1,T=0,C="",A=i,N=o,D=r,F=C;w;)switch(k=T,T=E()){case 40:if(108!=k&&58==F.charCodeAt(m-1)){-1!=c(F+=s(R(T),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:F+=R(T);break;case 9:case 10:case 13:case 32:F+=P(k);break;case 92:F+=O(I()-1,7);continue;case 47:switch(S()){case 42:case 47:p($(L(E(),I()),t,n),f);break;default:F+="/"}break;case 123*b:l[d++]=h(F)*x;case 125*b:case 59:case 0:switch(T){case 0:case 125:w=0;case 59+v:g>0&&h(F)-m&&p(g>32?Y(F+";",r,n,m-1):Y(s(F," ","")+";",r,n,m-2),f);break;case 59:F+=";";default:if(p(D=Q(F,t,n,d,v,i,l,C,A=[],N=[],m),o),123===T)if(0===v)G(F,t,D,D,A,o,m,l,N);else switch(y){case 100:case 109:case 115:G(e,D,D,r&&p(Q(e,D,D,0,0,i,l,C,i,A=[],m),N),i,N,m,l,r?A:N);break;default:G(F,D,D,D,[""],N,0,l,N)}}d=v=g=0,b=x=1,C=F="",m=u;break;case 58:m=1+h(F),g=k;default:if(b<1)if(123==T)--b;else if(125==T&&0==b++&&125==_())continue;switch(F+=a(T),T*b){case 38:x=v>0?1:(F+="\f",-1);break;case 44:l[d++]=(h(F)-1)*x,x=1;break;case 64:45===S()&&(F+=R(E())),y=S(),v=m=h(C=F+=M(I())),T++;break;case 45:45===k&&2==h(F)&&(b=0)}}return o}function Q(e,t,n,r,a,o,c,l,h,p,v){for(var m=a-1,y=0===a?o:[""],g=d(y),k=0,b=0,x=0;k<r;++k)for(var _=0,E=f(e,m+1,m=i(b=c[k])),S=e;_<g;++_)(S=u(b>0?y[_]+" "+E:s(E,/&\f/g,y[_])))&&(h[x++]=S);return w(e,t,n,0===a?z:l,h,p,v)}function $(e,t,n){return w(e,t,n,V,a(k),f(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,Z,f(e,0,r),f(e,r+1,-1),r)}var J=function(e,t,n){for(var r=0,i=0;r=i,i=S(),38===r&&12===i&&(t[n]=1),!C(i);)E();return T(e,g)},X=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===S()&&(t[n]=1),e[n]+=J(g-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===S()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=E());return e}(A(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=X(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Z:e.return=H(e.value,e.length);break;case B:return q([x(e,{value:s(e.value,"@","@"+j)})],r);case z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([x(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([x(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[W,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=d(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([te,ne].concat(i,f));o=function(e,t,n,r){c=n,q(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},3782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},1346:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(3782),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},767:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},7125:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},5159:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7125),i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function a(e,t){return i[t]||"".concat(r.Z.generate(e),"-").concat(t)}},208:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5159);function i(e,t){var n={};return t.forEach((function(t){n[t]=(0,r.Z)(e,t)})),n}},5545:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(3519)},4591:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(7462),i=n(3366),a=n(2466),o=n(5080),u=n(4942);function s(e,t,n){var i;return(0,r.Z)({toolbar:(i={minHeight:56},(0,u.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,u.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var c=n(6189),l=n(2065),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},k=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,l.$n)(e.main,i):"dark"===t&&(e.dark=(0,l._j)(e.main,a)))}function _(e){var t=e.mode,n=void 0===t?"light":t,o=e.contrastThreshold,u=void 0===o?3:o,s=e.tonalOffset,_=void 0===s?.2:s,E=(0,i.Z)(e,k),S=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),I=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function R(e){return(0,l.mi)(e,w.text.primary)>=u?w.text.primary:b.text.primary}var P=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,o=e.lightShade,u=void 0===o?300:o,s=e.darkShade,l=void 0===s?700:s;if(!(t=(0,r.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,c.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,c.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",u,_),x(t,"dark",l,_),t.contrastText||(t.contrastText=R(t.main)),t},O={dark:w,light:b};return(0,a.Z)((0,r.Z)({common:f,mode:n,primary:P({color:S,name:"primary"}),secondary:P({color:I,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:T,name:"error"}),warning:P({color:N,name:"warning"}),info:P({color:C,name:"info"}),success:P({color:A,name:"success"}),grey:h,contrastThreshold:u,getContrastText:R,augmentColor:P,tonalOffset:_},O[n]),E)}var E=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var S={textTransform:"uppercase"},I='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,u=void 0===o?I:o,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,E);var _=c/14,T=w||function(e){return"".concat(e/k*_,"rem")},C=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:T(t),lineHeight:n},u===I?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},A={h1:C(f,96,1.167,-1.5),h2:C(f,60,1.2,-.5),h3:C(d,48,1.167,0),h4:C(d,34,1.235,.25),h5:C(d,24,1.334,0),h6:C(v,20,1.6,.15),subtitle1:C(d,16,1.75,.15),subtitle2:C(v,14,1.57,.1),body1:C(d,16,1.5,.15),body2:C(d,14,1.43,.15),button:C(v,14,1.75,.4,S),caption:C(d,12,1.66,.4),overline:C(d,12,2.66,1,S)};return(0,a.Z)((0,r.Z)({htmlFontSize:k,pxToRem:T,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},A),x,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],N=["duration","easing","delay"],R={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O(e){return"".concat(Math.round(e),"ms")}function D(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function L(e){var t=(0,r.Z)({},R,e.easing),n=(0,r.Z)({},P,e.duration);return(0,r.Z)({getAutoHeightDuration:D,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,N);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:O(o)," ").concat(s," ").concat("string"===typeof l?l:O(l))})).join(",")}},e,{easing:t,duration:n})}var M={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,u=e.palette,c=void 0===u?{}:u,l=e.transitions,f=void 0===l?{}:l,h=e.typography,d=void 0===h?{}:h,p=(0,i.Z)(e,F),v=_(c),m=(0,o.Z)(e),y=(0,a.Z)(m,{mixins:s(m.breakpoints,m.spacing,n),palette:v,shadows:A.slice(),typography:T(v,d),transitions:L(f),zIndex:(0,r.Z)({},M)});y=(0,a.Z)(y,p);for(var g=arguments.length,k=new Array(g>1?g-1:0),b=1;b<g;b++)k[b-1]=arguments[b];return y=k.reduce((function(e,t){return(0,a.Z)(e,t)}),y)}var j=U()},4820:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Q},FO:function(){return K}});var r=n(3433),i=n(7462),a=n(3366),o=n(2791),u=n(3782),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=(0,u.Z)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(76),f=n(1346),h=(0,o.createContext)("undefined"!==typeof HTMLElement?(0,l.Z)({key:"css"}):null);h.Provider;var d=function(e){return(0,o.forwardRef)((function(t,n){var r=(0,o.useContext)(h);return e(t,r,n)}))},p=(0,o.createContext)({});function v(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var m=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},y=c,g=function(e){return"theme"!==e},k=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?y:g},b=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},w=function(){return null},x=function e(t,n){var r,a,u=t.__emotion_real===t,s=u&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var c=b(t,n,u),l=c||k(s),h=!l("as");return function(){var y=arguments,g=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&g.push("label:"+r+";"),null==y[0]||void 0===y[0].raw)g.push.apply(g,y);else{0,g.push(y[0][0]);for(var x=y.length,_=1;_<x;_++)g.push(y[_],y[0][_])}var E=d((function(e,t,n){var r=h&&e.as||s,i="",u=[],d=e;if(null==e.theme){for(var y in d={},e)d[y]=e[y];d.theme=(0,o.useContext)(p)}"string"===typeof e.className?i=v(t.registered,u,e.className):null!=e.className&&(i=e.className+" ");var b=(0,f.O)(g.concat(u),t.registered,d);m(t,b,"string"===typeof r);i+=t.key+"-"+b.name,void 0!==a&&(i+=" "+a);var x=h&&void 0===c?k(r):l,_={};for(var E in e)h&&"as"===E||x(E)&&(_[E]=e[E]);_.className=i,_.ref=n;var S=(0,o.createElement)(r,_),I=(0,o.createElement)(w,null);return(0,o.createElement)(o.Fragment,null,I,S)}));return E.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=s,E.__emotion_styles=g,E.__emotion_forwardProp=c,Object.defineProperty(E,"toString",{value:function(){return"."+a}}),E.withComponent=function(t,r){return e(t,(0,i.Z)({},n,r,{shouldForwardProp:b(E,r,!0)})).apply(void 0,g)},E}},_=x.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){_[e]=_(e)}));var E=_;function S(e,t){return E(e,t)}var I=n(5080),T=n(4942),C=n(8247),A=n(6001),N=n(1184);function R(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;function a(e){var t=e;if("function"===typeof e)t=e(i);else if("object"!==typeof e)return e;var n=(0,N.W8)(i.breakpoints),r=Object.keys(n),a=n;return Object.keys(t).forEach((function(e){var n,r,o=(n=t[e],r=i,"function"===typeof n?n(r):n);if(null!==o&&void 0!==o)if("object"===typeof o)if(A.G[e])a=(0,C.Z)(a,(0,A.Z)(e,o,i));else{var u=(0,N.k9)({theme:i},o,(function(t){return(0,T.Z)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(u,o)?a=(0,C.Z)(a,u):a[e]=R({sx:o,theme:i})}else a=(0,C.Z)(a,(0,A.Z)(e,o,i))})),(0,N.L7)(r,a)}return Array.isArray(n)?n.map(a):a(n)}R.filterProps=["sx"];var P=R,O=n(7312),D=["variant"];function L(e){return 0===e.length}function M(e){var t=e.variant,n=(0,a.Z)(e,D),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?L(r)?e[t]:(0,O.Z)(e[t]):"".concat(L(r)?t:(0,O.Z)(t)).concat((0,O.Z)(e[t].toString()))})),r}var F=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],U=["theme"],j=["theme"];function V(e){return 0===Object.keys(e).length}var z=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Z=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=M(e.props);r[t]=e.style})),r},B=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[M(n.props)])})),s};function q(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var W=(0,I.Z)();var H=n(4591),K=function(e){return q(e)&&"classes"!==e},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?W:t,o=e.rootShouldForwardProp,u=void 0===o?q:o,s=e.slotShouldForwardProp,c=void 0===s?q:s;return function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.name,l=o.slot,f=o.skipVariantsResolver,h=o.skipSx,d=o.overridesResolver,p=(0,a.Z)(o,F),v=void 0!==f?f:l&&"Root"!==l||!1,m=h||!1;var y=q;"Root"===l?y=u:l&&(y=c);var g=S(e,(0,i.Z)({shouldForwardProp:y,label:t},p)),k=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),u=1;u<t;u++)o[u-1]=arguments[u];var c=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,o=(0,a.Z)(t,U);return e((0,i.Z)({theme:V(r)?n:r},o))}:e})):[],l=e;s&&d&&c.push((function(e){var t=V(e.theme)?n:e.theme,r=z(s,t);return r?d(e,r):null})),s&&!v&&c.push((function(e){var t=V(e.theme)?n:e.theme;return B(e,Z(s,t),t,s)})),m||c.push((function(e){var t=V(e.theme)?n:e.theme;return P((0,i.Z)({},e,{theme:t}))}));var f=c.length-o.length;if(Array.isArray(e)&&f>0){var h=new Array(f).fill("");(l=[].concat((0,r.Z)(e),(0,r.Z)(h))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(h))}else"function"===typeof e&&(l=function(t){var r=t.theme,o=(0,a.Z)(t,j);return e((0,i.Z)({theme:V(r)?n:r},o))});var p=g.apply(void 0,[l].concat((0,r.Z)(c)));return p};return k}}({defaultTheme:H.Z,rootShouldForwardProp:K}),Q=G},2507:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5735);var i=n(5080),a=n(2791);var o=a.createContext(null);function u(){return a.useContext(o)}function s(e){return 0===Object.keys(e).length}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=u();return!t||s(t)?e:t},l=(0,i.Z)();var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return c(e)};function h(e){var t=e.props,n=e.name,i=e.defaultTheme,a=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:f(i),name:n,props:t});return a}var d=n(4591);function p(e){return h({props:e.props,name:e.name,defaultTheme:d.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},3519:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return k},debounce:function(){return b},deprecatedPropType:function(){return w},isMuiElement:function(){return x},ownerDocument:function(){return E},ownerWindow:function(){return S},requirePropFactory:function(){return I},setRef:function(){return T},unstable_ClassNameGenerator:function(){return F.Z},unstable_useEnhancedEffect:function(){return C},unstable_useId:function(){return R},unsupportedProp:function(){return P},useControlled:function(){return O},useEventCallback:function(){return D.Z},useForkRef:function(){return L.Z},useIsFocusVisible:function(){return M.Z}});var r=n(4036);var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},a=n(7462),o=n(2791),u=n(3366),s=n(8182),c=n(767),l=n(2507),f=n(4820),h=n(5159);function d(e){return(0,h.Z)("MuiSvgIcon",e)}(0,n(208).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,f.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,r.Z)(n.color))],t["fontSize".concat((0,r.Z)(n.fontSize))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[i.fontSize],color:null!=(t=null==(n=r.palette[i.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[i.color]}})),y=o.forwardRef((function(e,t){var n=(0,l.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,o=n.className,f=n.color,h=void 0===f?"inherit":f,y=n.component,g=void 0===y?"svg":y,k=n.fontSize,b=void 0===k?"medium":k,w=n.htmlColor,x=n.inheritViewBox,_=void 0!==x&&x,E=n.titleAccess,S=n.viewBox,I=void 0===S?"0 0 24 24":S,T=(0,u.Z)(n,v),C=(0,a.Z)({},n,{color:h,component:g,fontSize:b,inheritViewBox:_,viewBox:I}),A={};_||(A.viewBox=I);var N=function(e){var t=e.color,n=e.fontSize,i=e.classes,a={root:["root","inherit"!==t&&"color".concat((0,r.Z)(t)),"fontSize".concat((0,r.Z)(n))]};return(0,c.Z)(a,d,i)}(C);return(0,p.jsxs)(m,(0,a.Z)({as:g,className:(0,s.Z)(N.root,o),ownerState:C,focusable:"false",color:w,"aria-hidden":!E||void 0,role:E?"img":void 0,ref:t},A,T,{children:[i,E?(0,p.jsx)("title",{children:E}):null]}))}));y.muiName="SvgIcon";var g=y;function k(e,t){var n=function(n,r){return(0,p.jsx)(g,(0,a.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=g.muiName,o.memo(o.forwardRef(n))}var b=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var w=function(e,t){return function(){return null}};var x=function(e,t){return o.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function _(e){return e&&e.ownerDocument||document}var E=_;var S=function(e){return _(e).defaultView||window};var I=function(e,t){return function(){return null}},T=n(2971).Z,C=n(5721).Z,A=n(9439),N=0;var R=function(e){var t=o.useState(e),n=(0,A.Z)(t,2),r=n[0],i=n[1],a=e||r;return o.useEffect((function(){null==r&&i("mui-".concat(N+=1))}),[r]),a};var P=function(e,t,n,r,i){return null};var O=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,o.useRef(void 0!==t).current),i=o.useState(n),a=(0,A.Z)(i,2),u=a[0],s=a[1];return[r?t:u,o.useCallback((function(e){r||s(e)}),[])]},D=n(6868),L=n(4843),M=n(3031),F=n(7125)},6868:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(5721);var a=function(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},4843:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2971);var a=function(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,i=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var h=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},1184:function(e,t,n){"use strict";n.d(t,{VO:function(){return r},k9:function(){return a},W8:function(){return o},L7:function(){return u},P$:function(){return s}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function s(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}},2065:function(e,t,n){"use strict";n.d(t,{mi:function(){return s},Fq:function(){return c},_j:function(){return l},$n:function(){return f}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7462),i=n(3366),a=n(2466),o=["values","unit","step"];function u(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,u=void 0===a?"px":a,s=e.step,c=void 0===s?5:s,l=(0,i.Z)(e,o),f=Object.keys(n);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(u,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(u,")")}function p(e,t){var r=f.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(u,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[f[r]]?n[f[r]]:t)-c/100).concat(u,")")}return(0,r.Z)({keys:f,values:n,up:h,down:d,between:p,only:function(e){return f.indexOf(e)+1<f.length?p(e,f[f.indexOf(e)+1]):h(e)},not:function(e){var t=f.indexOf(e);return 0===t?h(f[1]):t===f.length-1?d(f[t]):p(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:u},l)}var s={borderRadius:4},c=n(5682);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var f=["breakpoints","palette","spacing","shape"];var h=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,c=void 0===o?{}:o,h=e.spacing,d=e.shape,p=void 0===d?{}:d,v=(0,i.Z)(e,f),m=u(n),y=l(h),g=(0,a.Z)({breakpoints:m,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},c),spacing:y,shape:(0,r.Z)({},s,p)},v),k=arguments.length,b=new Array(k>1?k-1:0),w=1;w<k;w++)b[w-1]=arguments[w];return g=b.reduce((function(e,t){return(0,a.Z)(e,t)}),g)}},6001:function(e,t,n){"use strict";n.d(t,{Z:function(){return $},G:function(){return Q}});var r=n(4942),i=n(8529),a=n(8247);var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,a.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},u=n(5682),s=n(1184);function c(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var l=(0,i.Z)({prop:"border",themeKey:"borders",transform:c}),f=(0,i.Z)({prop:"borderTop",themeKey:"borders",transform:c}),h=(0,i.Z)({prop:"borderRight",themeKey:"borders",transform:c}),d=(0,i.Z)({prop:"borderBottom",themeKey:"borders",transform:c}),p=(0,i.Z)({prop:"borderLeft",themeKey:"borders",transform:c}),v=(0,i.Z)({prop:"borderColor",themeKey:"palette"}),m=(0,i.Z)({prop:"borderTopColor",themeKey:"palette"}),y=(0,i.Z)({prop:"borderRightColor",themeKey:"palette"}),g=(0,i.Z)({prop:"borderBottomColor",themeKey:"palette"}),k=(0,i.Z)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,u.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,u.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["borderRadius"];var w=o(l,f,h,d,p,v,m,y,g,k,b),x=o((0,i.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,i.Z)({prop:"display"}),(0,i.Z)({prop:"overflow"}),(0,i.Z)({prop:"textOverflow"}),(0,i.Z)({prop:"visibility"}),(0,i.Z)({prop:"whiteSpace"})),_=o((0,i.Z)({prop:"flexBasis"}),(0,i.Z)({prop:"flexDirection"}),(0,i.Z)({prop:"flexWrap"}),(0,i.Z)({prop:"justifyContent"}),(0,i.Z)({prop:"alignItems"}),(0,i.Z)({prop:"alignContent"}),(0,i.Z)({prop:"order"}),(0,i.Z)({prop:"flex"}),(0,i.Z)({prop:"flexGrow"}),(0,i.Z)({prop:"flexShrink"}),(0,i.Z)({prop:"alignSelf"}),(0,i.Z)({prop:"justifyItems"}),(0,i.Z)({prop:"justifySelf"})),E=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,u.eI)(e.theme,"spacing",8,"gap");return(0,s.k9)(e,e.gap,(function(e){return{gap:(0,u.NA)(t,e)}}))}return null};E.propTypes={},E.filterProps=["gap"];var S=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,u.eI)(e.theme,"spacing",8,"columnGap");return(0,s.k9)(e,e.columnGap,(function(e){return{columnGap:(0,u.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["columnGap"];var I=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,u.eI)(e.theme,"spacing",8,"rowGap");return(0,s.k9)(e,e.rowGap,(function(e){return{rowGap:(0,u.NA)(t,e)}}))}return null};I.propTypes={},I.filterProps=["rowGap"];var T=o(E,S,I,(0,i.Z)({prop:"gridColumn"}),(0,i.Z)({prop:"gridRow"}),(0,i.Z)({prop:"gridAutoFlow"}),(0,i.Z)({prop:"gridAutoColumns"}),(0,i.Z)({prop:"gridAutoRows"}),(0,i.Z)({prop:"gridTemplateColumns"}),(0,i.Z)({prop:"gridTemplateRows"}),(0,i.Z)({prop:"gridTemplateAreas"}),(0,i.Z)({prop:"gridArea"})),C=o((0,i.Z)({prop:"position"}),(0,i.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,i.Z)({prop:"top"}),(0,i.Z)({prop:"right"}),(0,i.Z)({prop:"bottom"}),(0,i.Z)({prop:"left"})),A=o((0,i.Z)({prop:"color",themeKey:"palette"}),(0,i.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,i.Z)({prop:"backgroundColor",themeKey:"palette"})),N=(0,i.Z)({prop:"boxShadow",themeKey:"shadows"});function R(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var P=(0,i.Z)({prop:"width",transform:R}),O=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,s.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||s.VO[t]||R(t)}}))}return null};O.filterProps=["maxWidth"];var D=(0,i.Z)({prop:"minWidth",transform:R}),L=(0,i.Z)({prop:"height",transform:R}),M=(0,i.Z)({prop:"maxHeight",transform:R}),F=(0,i.Z)({prop:"minHeight",transform:R}),U=((0,i.Z)({prop:"size",cssProperty:"width",transform:R}),(0,i.Z)({prop:"size",cssProperty:"height",transform:R}),o(P,O,D,L,M,F,(0,i.Z)({prop:"boxSizing"}))),j=(0,i.Z)({prop:"fontFamily",themeKey:"typography"}),V=(0,i.Z)({prop:"fontSize",themeKey:"typography"}),z=(0,i.Z)({prop:"fontStyle",themeKey:"typography"}),Z=(0,i.Z)({prop:"fontWeight",themeKey:"typography"}),B=(0,i.Z)({prop:"letterSpacing"}),q=(0,i.Z)({prop:"lineHeight"}),W=(0,i.Z)({prop:"textAlign"}),H=o((0,i.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),j,V,z,Z,B,q,W),K={borders:w.filterProps,display:x.filterProps,flexbox:_.filterProps,grid:T.filterProps,positions:C.filterProps,palette:A.filterProps,shadows:N.filterProps,sizing:U.filterProps,spacing:u.ZP.filterProps,typography:H.filterProps},G={borders:w,display:x,flexbox:_,grid:T,positions:C,palette:A,shadows:N,sizing:U,spacing:u.ZP,typography:H},Q=Object.keys(K).reduce((function(e,t){return K[t].forEach((function(n){e[n]=G[t]})),e}),{});var $=function(e,t,n){var i,a=(i={},(0,r.Z)(i,e,t),(0,r.Z)(i,"theme",n),i),o=Q[e];return o?o(a):(0,r.Z)({},e,t)}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},ZP:function(){return x},NA:function(){return m}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i=(0,a.D)(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function w(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d;var x=w},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},4569:function(e,t,n){e.exports=n(8036)},4232:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),u=n(1804),s=n(9145),c=n(5411),l=n(6467),f=n(221),h=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+b)}var w=u(e.baseURL,e.url);function x(){if(g){var r="getAllResponseHeaders"in g?s(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(w,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(w))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(221));u.Axios=a,u.Cancel=n(9346),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),u=n(777),s=n(7835),c=s.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&s.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{i=o(f)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(e){return e=u(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(u(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221),u=n(9346);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u("canceled")}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(4232)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||s.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a(u,this,"E_JSON_PARSE");throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s},7600:function(e){e.exports={version:"0.24.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new TypeError("option "+a+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function u(e){return null!==e&&"object"===typeof e}function s(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){s(t[r])&&s(n)?t[r]=e(t[r],n):s(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7059:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var a={};if("string"!==typeof e||0===e.length)return a;var o=/\+/g;e=e.split(n);var u=1e3;i&&"number"===typeof i.maxKeys&&(u=i.maxKeys);var s=e.length;u>0&&s>u&&(s=u);for(var c=0;c<s;++c){var l,f,h,d,p=e[c].replace(o,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),t(a,h)?Array.isArray(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a}},4297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[i]))})).filter(Boolean).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(7059),t.encode=t.stringify=n(4297)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,S=60108,I=60114,T=60109,C=60110,A=60112,N=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),_=j("react.portal"),E=j("react.fragment"),S=j("react.strict_mode"),I=j("react.profiler"),T=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),R=j("react.suspense_list"),P=j("react.memo"),O=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function Z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var q=!1;function W(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case D:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch(me){ze=!1}function Be(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,We=null,He=!1,Ke=null,Ge={onError:function(e){qe=!0,We=e}};function Qe(e,t,n,r,i,a,o,u,s){qe=!1,We=null,Be.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},It={};function Tt(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Kt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Yt(e,t,n,r){Gt(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),Zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Yn(e){Ar(e,0)}function Jn(e){if(Y(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),$n=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Gn(t,$n,e,Ie(e)),e=Yn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Ot.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=We;qe=!1,We=null,He||(He=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ke,He=!1,Ke=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Ie(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=bn;break;case Rt:s=On;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Kn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Zn=!0,zn);case"textInput":return(e=t.data)===zn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Zr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Xr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,Vi=null,zi=!1,Zi=Ni(),Bi=1e4>Zi?Ni:function(){return Ni()-Zi};function qi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Si(e,t)}function Ki(e,t,n){return e=Wi(e),Ii(e,t,n)}function Gi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Qi()}function Qi(){if(!zi&&null!==ji){zi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ii(Pi,Gi),n}finally{zi=!1}}}var $i=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Xi=null,ea=null,ta=null;function na(){ta=ea=Xi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Xi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Xi)throw Error(o(308));ea=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Gs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ys(t,e.mode,n)).return=e,t}if(xa(t)||Z(t))return(t=Gs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||Z(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||Z(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=Z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Gs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ks(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ys(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(Z(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,za=!1;function Za(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(za){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=Gr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(ja=e);Za(ja,n)}ja=e,Va=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,ja=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ha(e){if(e!==ja)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Va;t;)Za(e,t),t=Gr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Gr(e.stateNode.nextSibling):null;return!0}function Ka(){Va=ja=null,za=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var $a=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Ja=0,Xa=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Xa=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Xa.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Xa.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Xa.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Xa.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-qt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Xa,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Xa,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Xa.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Xa.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=qi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Xa,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ia(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return qo(e,t,n,r,a)}function Zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Yi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Go,Qo,$o,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=Gs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Gs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Xr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Go(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ou||0===(134217727&zu)&&0===(134217727&Zu)||gs(Ou,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=X(e,a),r=X(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Yu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=Bi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Pu=0,Ou=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,zu=0,Zu=0,Bu=0,qu=null,Wu=0,Hu=1/0;function Ku(){Hu=Bi()+500}var Gu,Qu=null,$u=!1,Yu=null,Ju=null,Xu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?Bi():-1!==us?us:us=Bi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===ss&&(ss=Vu),0!==$i.transition){0!==cs&&(cs=null!==qu?qu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;Bt(e,t,n),e===Ou&&(Zu|=t,4===Uu&&gs(e,Lu));var r=qi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ms(e,n),0===Pu&&(Ku(),Gi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),qu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-qt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Ou?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ii(Pi,Qi)):ji.push(n),n=Fi):14===t?n=Ki(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ou?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Is();for(Ou===e&&Lu===r||(Ku(),Es(e,r));;)try{As();break}catch(s){Ss(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ou=null,Lu=0,r=Uu),0!==(Vu&Zu))Es(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,Es(e,0),gs(e,n),ms(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-Bi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-qt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,Bi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~Bu,t&=~Zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ou&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Zu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,Es(e,0),gs(e,t),ms(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,Bi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Gi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Gi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ou=e,Du=Hs(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,Bu=Zu=zu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),$a.current=Po,no){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Xa=null,ro=!1,Ru.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Is(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Is();for(Ou===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ou=null,Lu=0,Uu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Gu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=qi();return Hi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Du=Ou=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ru.current=null,zr=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Zr={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Iu(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Iu(Qu.alternate,Qu);break;case 4:Iu(Qu.alternate,Qu);break;case 8:Su(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);if(w=Zr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!zr,Zr=zr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var _=Qu.flags;if(36&_&&yu(k,Qu.alternate,Qu),128&_){b=void 0;var E=Qu.ref;if(null!==E){var S=Qu.stateNode;Qu.tag,b=S,"function"===typeof E?E(b):E.current=b}}Qu=Qu.nextEffect}}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Ui(),Pu=i}else e.current=n;if(Xu)Xu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((_=Qu).sibling=null,_.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(ms(e,Bi()),$u)throw $u=!1,e=Yu,Yu=null,e;return 0!==(8&Pu)||Gi(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Xu||(Xu=!0,Ki(97,(function(){return Ls(),null}))),Qu=Qu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Xu||(Xu=!0,Ki(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Xu||(Xu=!0,Ki(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Gi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(Bt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))Bt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>Bi()-Wu?Es(e,0):Bu|=n),ms(e,t)}function Zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(Bt(e,t,n),ms(e,n))}function Bs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new Bs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=qs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Gs(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case I:return(e=qs(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=qs(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=qs(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Qs(n,i,a,t);case U:return(e=qs(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Gs(e,t,n,r){return(e=qs(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=qs(23,e,r,t)).elementType=F,e.lanes=n,e}function $s(e,t,n){return(e=qs(6,e,null,t)).lanes=n,e}function Ys(e,t,n){return(t=qs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zt(0),this.expirationTimes=Zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.mutableSourceEagerHydrationData=null}function Xs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=qs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Xs(e,t,null,n)}Gu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Ko(t),Ka();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Zo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Gr(t.stateNode.containerInfo.firstChild),ja=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ka();t=t.child}return t;case 5:return La(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,qr(r,i)?u=null:null!==a&&qr(r,a)&&(t.flags|=16),Bo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Vo(e,t,i,a=Yi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Ku(),Gi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,Bi())}))}Gi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Gi())}};var sc={Events:[ri,ii,ai,Re,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Pu=n,Gi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,E=n[2]||l,S=y||g;r.push({name:m||a++,prefix:v||"",delimiter:E,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(E)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},8228:function(e,t,n){"use strict";n(9195)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,A=null,N=3,R=!1,P=!1,O=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(I,t)}t=_(T)}}function L(e){if(O=!1,D(e),!P)if(null!==_(I))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=N;try{for(D(n),A=_(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(I)&&E(I),D(n)}else E(I);A=_(I)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(I)&&e===_(T)&&(O?i():O=!0,r(L,o-u))):(e.sortIndex=s,x(I,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6949:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.1b9a8e10a046dd525eed.png"},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".6e463f98.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="walley:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/walley/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[o[c]]=0},r=self.webpackChunkwalley=self.webpackChunkwalley||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Yn},SDK_VERSION:function(){return Gr},_DEFAULT_ENTRY_NAME:function(){return Or},_addComponent:function(){return Fr},_addOrOverwriteComponent:function(){return Ur},_apps:function(){return Lr},_clearComponents:function(){return Zr},_components:function(){return Mr},_getProvider:function(){return Vr},_registerComponent:function(){return jr},_removeServiceInstance:function(){return zr},deleteApp:function(){return Jr},getApp:function(){return $r},getApps:function(){return Yr},initializeApp:function(){return Qr},onLog:function(){return ti},registerVersion:function(){return ei},setLogLevel:function(){return ni}});var t=n(2791),r=n(4164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var o=n(7462);function u(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&u(e),o=t&&u(t),c=a||o;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var f=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=l(t),i=l(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,o.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var _="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&(e={}),w||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?x:s,l=i.keyLength,f=void 0===l?6:l,h=e.basename?y(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=m(a,h)),k(a,r,n)}function I(){return Math.random().toString(36).substr(2,f)}var T=b();function C(e){(0,o.Z)(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(v(e.state))}function N(){P(v(S()))}var R=!1;function P(e){if(R)R=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,M(i))}(e)}))}}var O=v(S()),D=[O.key];function L(e){return h+g(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(_,A),r&&window.addEventListener(E,N)):0===F&&(window.removeEventListener(_,A),r&&window.removeEventListener(E,N))}var j=!1;var V={length:t.length,action:"POP",location:O,createHref:L,push:function(e,r){var i="PUSH",a=k(e,r,I(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,I(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function A(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function R(e){window.location.replace(A(window.location.href)+"#"+e)}function P(e){void 0===e&&{},w||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?y(p(e.basename)):"",c=C[u],l=c.encodePath,f=c.decodePath;function h(){var e=f(N());return s&&m(e,s),k(e)}var v=b();function _(e){(0,o.Z)(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var E=!1,S=null;function I(){var e,t,n=N(),r=l(n);if(n!==r)R(r);else{var a=h(),o=V.location;if(!E&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(S===g(a))return;null,function(e){if(E)!1,_();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(g(t));-1===n&&0;var r=L.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(a)}}var P=N(),O=l(P);P!==O&&R(O);var D=h(),L=[g(D)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(T,I):0===F&&window.removeEventListener(T,I)}var j=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&A(window.location.href),n+"#"+l(s+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);if(N()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(g(V.location)),o=L.slice(0,a+1);o.push(t),o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);N()!==i&&(t,R(i));var a=L.indexOf(g(V.location));-1!==a&&(L[a]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return j||(U(1),!0),function(){return j&&(!1,U(-1)),t()}},listen:function(e){var t=v.appendListener(e);return U(1),function(){U(-1),t()}}};return V}function O(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=b();function f(e){(0,o.Z)(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=O(u,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function m(e){var t=O(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var L=n(2007),M=n.n(L),F=1073741823,U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function j(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return U[e]=(U[e]||0)+1}()+"__",u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=j(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):F,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[o]=M().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?F:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?F:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[o]=M().object,i),{Provider:u,Consumer:s}},z=V,Z=n(3813),B=n.n(Z),q=(n(8228),n(3366)),W=(n(2110),function(e){var t=z();return t.displayName=e,t}),H=W("Router-History"),K=function(e){var t=z();return t.displayName=e,t},G=K("Router"),Q=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(G.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(H.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var $=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var Y={},J=0;function X(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(Y[e])return Y[e];var t=B().compile(e);return J<1e4&&(Y[e]=t,J++),t}(e)(t,{pretty:!0})}function ee(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(G.Consumer,null,(function(e){e||d(!1);var i=e.history,u=e.staticContext,s=a?i.push:i.replace,c=k(n?"string"===typeof r?X(r,n.params):(0,o.Z)({},r,{pathname:X(r.pathname,n.params)}):r);return u?(s(c),null):t.createElement($,{onMount:function(){s(c)},onUpdate:function(e,t){var n,r,i=k(t.to);n=i,r=(0,o.Z)({},c,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&f(n.state,r.state)||s(c)},to:r})}))}var te={},ne=0;function re(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=te[n]||(te[n]={});if(r[e])return r[e];var i=[],a={regexp:B()(e,i,t),keys:i};return ne<1e4&&(r[e]=a,ne++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ie=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(G.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?re(r.pathname,e.props):n.match,a=(0,o.Z)({},n,{location:r,match:i}),u=e.props,s=u.children,c=u.component,l=u.render;return Array.isArray(s)&&0===s.length&&(s=null),t.createElement(G.Provider,{value:a},a.match?s?"function"===typeof s?s(a):s:c?t.createElement(c,a):l?l(a):null:"function"===typeof s?s(a):null)}))},n}(t.Component);function ae(e){return"/"===e.charAt(0)?e:"/"+e}function oe(e,t){if(!e)return t;var n=ae(e);return 0!==t.pathname.indexOf(n)?t:(0,o.Z)({},t,{pathname:t.pathname.substr(n.length)})}function ue(e){return"string"===typeof e?e:g(e)}function se(e){return function(){d(!1)}}function ce(){}t.Component;var le=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(G.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var u=e.props.path||e.props.from;i=u?re(a.pathname,(0,o.Z)({},e.props,{path:u})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var fe=t.useContext;function he(){return fe(H)}var de=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=I(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(Q,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var pe=function(e,t){return"function"===typeof e?e(t):e},ve=function(e,t){return"string"===typeof e?k(e,null,null,t):e},me=function(e){return e},ye=t.forwardRef;"undefined"===typeof ye&&(ye=me);var ge=ye((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,u=(0,q.Z)(e,["innerRef","navigate","onClick"]),s=u.target,c=(0,o.Z)({},u,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=me!==ye&&n||r,t.createElement("a",c)}));var ke=ye((function(e,n){var r=e.component,i=void 0===r?ge:r,a=e.replace,u=e.to,s=e.innerRef,c=(0,q.Z)(e,["component","replace","to","innerRef"]);return t.createElement(G.Consumer,null,(function(e){e||d(!1);var r=e.history,l=ve(pe(u,e.location),e.location),f=l?r.createHref(l):"",h=(0,o.Z)({},c,{href:f,navigate:function(){var t=pe(u,e.location);(a?r.replace:r.push)(t)}});return me!==ye?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),be=function(e){return e},we=t.forwardRef;"undefined"===typeof we&&(we=be);we((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,u=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,p=e.sensitive,v=e.strict,m=e.style,y=e.to,g=e.innerRef,k=(0,q.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(G.Consumer,null,(function(e){e||d(!1);var r=h||e.location,a=ve(pe(y,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?re(r.pathname,{path:w,exact:l,sensitive:p,strict:v}):null,_=!!(f?f(x,r):x),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,u):c,S=_?(0,o.Z)({},m,{},s):m,I=(0,o.Z)({"aria-current":_&&i||null,className:E,style:S,to:a},k);return be!==we?I.ref=n||g:I.innerRef=g,t.createElement(ke,I)}))}));var xe=n(4942);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,xe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=n(9439),Ie=n(184),Te=function(e){return(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(rn,{}),e.children]})},Ce="Client",Ae=function(){return(new Date).toISOString()},Ne={info:function(e,t){"string"===typeof e?console.log("[".concat(Ae(),"] [").concat(t||Ce,"] [INFO] ").concat(e)):console.log("[".concat(Ae(),"] [").concat(t||Ce,"] [INFO]"),e)},warn:function(e,t){"string"===typeof e?console.log("[".concat(Ae(),"] [").concat(t||Ce,"] [WARN] ").concat(e)):console.log("[".concat(Ae(),"] [").concat(t||Ce,"] [WARN]"),e)},error:function(e,t){"string"===typeof e?console.log("[".concat(Ae(),"] [").concat(t||Ce,"] [ERROR] ").concat(e)):console.log("[".concat(Ae(),"] [").concat(t||Ce,"] [ERROR]"),e)}},Re={user:{_id:"",uid:"",name:""},fire_token:""},Pe=function(e,t){var n=t.payload.user,r=t.payload.fire_token;switch(t.type){case"login":return localStorage.setItem("fire_token",r),{user:n,fire_token:r};case"logout":return localStorage.removeItem("fire_token"),Re;default:return e}},Oe=(0,t.createContext)({userState:Re,userDispatch:function(){}}),De=(Oe.Consumer,Oe.Provider),Le=Oe,Me=function(e){var n=e.children;return""===(0,t.useContext)(Le).userState.user._id?(Ne.info("Unauthorized, redirecting."),(0,Ie.jsx)(ee,{to:"/login"})):(0,Ie.jsx)(Ie.Fragment,{children:n})},Fe=function(e){var t=e.error;return""===t?null:(0,Ie.jsx)("small",{className:"text-danger",children:t})},Ue=n(6949),je=n(1184),Ve=n(5682),ze=n(3433),Ze=n(2466),Be=n(6001),qe=["sx"];function We(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Be.G[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,q.Z)(e,qe)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat((0,ze.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,Ze.P)(e)?(0,o.Z)({},i,e):i}:(0,o.Z)({},i,n),(0,o.Z)({},a,{sx:t})}var He=n(4820),Ke=n(2507),Ge=["component","direction","spacing","divider","children"];function Qe(e,n){var r=t.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,a){return e.push(i),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var $e=(0,He.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=(0,o.Z)({display:"flex"},(0,je.k9)({theme:n},(0,je.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=(0,Ve.hB)(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),u=(0,je.P$)({values:t.direction,base:a}),s=(0,je.P$)({values:t.spacing,base:a});r=(0,Ze.Z)(r,(0,je.k9)({theme:n},s,(function(e,n){return{"& > :not(style) + :not(style)":(0,xe.Z)({margin:0},"margin".concat((r=n?u[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,Ve.NA)(i,e))};var r})))}return r})),Ye=t.forwardRef((function(e,t){var n=We((0,Ke.Z)({props:e,name:"MuiStack"})),r=n.component,i=void 0===r?"div":r,a=n.direction,u=void 0===a?"column":a,s=n.spacing,c=void 0===s?0:s,l=n.divider,f=n.children,h=(0,q.Z)(n,Ge),d={direction:u,spacing:c};return(0,Ie.jsx)($e,(0,o.Z)({as:i,ownerState:d,ref:t},h,{children:l?Qe(f,l):f}))})),Je=Ye,Xe=n(8182),et=n(5735),tt=n(767),nt=n(2065),rt=n(4843),it=n(6868),at=n(3031);function ot(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var st=t.createContext(null);function ct(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function lt(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ft(e,n,r){var i=ct(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:lt(u,"exit",e),enter:lt(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:lt(u,"exit",e),enter:lt(u,"enter",e)})}})),a}var ht=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},dt=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(ut(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}a(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,ct(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:lt(e,"appear",r),enter:lt(e,"enter",r),exit:lt(e,"exit",r)})}))):ft(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=ct(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,q.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=ht(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(st.Provider,{value:a},o):t.createElement(st.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);dt.propTypes={},dt.defaultProps={component:"div",childFactory:function(e){return e}};var pt=dt,vt=(n(76),n(1346));function mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,vt.O)(t)}var yt=function(){var e=mt.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var gt=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,f=e.timeout,h=t.useState(!1),d=(0,Se.Z)(h,2),p=d[0],v=d[1],m=(0,Xe.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=(0,Xe.Z)(r.child,p&&r.childLeaving,a&&r.childPulsate);return c||p||v(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,f);return function(){clearTimeout(e)}}}),[l,c,f]),(0,Ie.jsx)("span",{className:m,style:y,children:(0,Ie.jsx)("span",{className:g})})},kt=n(208);var bt,wt,xt,_t,Et,St,It,Tt,Ct=(0,kt.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),At=["center","classes","className"],Nt=yt(Et||(Et=bt||(bt=ot(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Rt=yt(St||(St=wt||(wt=ot(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Pt=yt(It||(It=xt||(xt=ot(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Ot=(0,He.ZP)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Dt=(0,He.ZP)(gt,{name:"MuiTouchRipple",slot:"Ripple"})(Tt||(Tt=_t||(_t=ot(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Ct.rippleVisible,Nt,550,(function(e){return e.theme.transitions.easing.easeInOut}),Ct.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Ct.child,Ct.childLeaving,Rt,550,(function(e){return e.theme.transitions.easing.easeInOut}),Ct.childPulsate,Pt,(function(e){return e.theme.transitions.easing.easeInOut})),Lt=t.forwardRef((function(e,n){var r=(0,Ke.Z)({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,u=r.classes,s=void 0===u?{}:u,c=r.className,l=(0,q.Z)(r,At),f=t.useState([]),h=(0,Se.Z)(f,2),d=h[0],p=h[1],v=t.useRef(0),m=t.useRef(null);t.useEffect((function(){m.current&&(m.current(),m.current=null)}),[d]);var y=t.useRef(!1),g=t.useRef(null),k=t.useRef(null),b=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat((0,ze.Z)(e),[(0,Ie.jsx)(Dt,{classes:{ripple:(0,Xe.Z)(s.ripple,Ct.ripple),rippleVisible:(0,Xe.Z)(s.rippleVisible,Ct.rippleVisible),ripplePulsate:(0,Xe.Z)(s.ripplePulsate,Ct.ripplePulsate),child:(0,Xe.Z)(s.child,Ct.child),childLeaving:(0,Xe.Z)(s.childLeaving,Ct.childLeaving),childPulsate:(0,Xe.Z)(s.childPulsate,Ct.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,m.current=a}),[s]),x=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var l,f,h,d=c?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,x=v.clientY;l=Math.round(m-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(E,2))}e.touches?null===k.current&&(k.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},g.current=setTimeout((function(){k.current&&(k.current(),k.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,w]),_=t.useCallback((function(){x({},{pulsate:!0})}),[x]),E=t.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&k.current)return k.current(),k.current=null,void(g.current=setTimeout((function(){E(e,t)})));k.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:_,start:x,stop:E}}),[_,x,E]),(0,Ie.jsx)(Ot,(0,o.Z)({className:(0,Xe.Z)(s.root,Ct.root,c),ref:b},l,{children:(0,Ie.jsx)(pt,{component:null,exit:!0,children:d})}))})),Mt=Lt,Ft=n(5159);function Ut(e){return(0,Ft.Z)("MuiButtonBase",e)}var jt,Vt=(0,kt.Z)("MuiButtonBase",["root","disabled","focusVisible"]),zt=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],Zt=(0,He.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((jt={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,xe.Z)(jt,"&.".concat(Vt.disabled),{pointerEvents:"none",cursor:"default"}),(0,xe.Z)(jt,"@media print",{colorAdjust:"exact"}),jt)),Bt=t.forwardRef((function(e,n){var r=(0,Ke.Z)({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,u=void 0!==a&&a,s=r.children,c=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,d=void 0!==h&&h,p=r.disableRipple,v=void 0!==p&&p,m=r.disableTouchRipple,y=void 0!==m&&m,g=r.focusRipple,k=void 0!==g&&g,b=r.LinkComponent,w=void 0===b?"a":b,x=r.onBlur,_=r.onClick,E=r.onContextMenu,S=r.onDragLeave,I=r.onFocus,T=r.onFocusVisible,C=r.onKeyDown,A=r.onKeyUp,N=r.onMouseDown,R=r.onMouseLeave,P=r.onMouseUp,O=r.onTouchEnd,D=r.onTouchMove,L=r.onTouchStart,M=r.tabIndex,F=void 0===M?0:M,U=r.TouchRippleProps,j=r.type,V=(0,q.Z)(r,zt),z=t.useRef(null),Z=t.useRef(null),B=(0,at.Z)(),W=B.isFocusVisibleRef,H=B.onFocus,K=B.onBlur,G=B.ref,Q=t.useState(!1),$=(0,Se.Z)(Q,2),Y=$[0],J=$[1];function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,it.Z)((function(r){return t&&t(r),!n&&Z.current&&Z.current[e](r),!0}))}d&&Y&&J(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){J(!0),z.current.focus()}}}),[]),t.useEffect((function(){Y&&k&&!v&&Z.current.pulsate()}),[v,k,Y]);var ee=X("start",N),te=X("stop",E),ne=X("stop",S),re=X("stop",P),ie=X("stop",(function(e){Y&&e.preventDefault(),R&&R(e)})),ae=X("start",L),oe=X("stop",O),ue=X("stop",D),se=X("stop",(function(e){K(e),!1===W.current&&J(!1),x&&x(e)}),!1),ce=(0,it.Z)((function(e){z.current||(z.current=e.currentTarget),H(e),!0===W.current&&(J(!0),T&&T(e)),I&&I(e)})),le=function(){var e=z.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},fe=t.useRef(!1),he=(0,it.Z)((function(e){k&&!fe.current&&Y&&Z.current&&" "===e.key&&(fe.current=!0,Z.current.stop(e,(function(){Z.current.start(e)}))),e.target===e.currentTarget&&le()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&le()&&"Enter"===e.key&&!d&&(e.preventDefault(),_&&_(e))})),de=(0,it.Z)((function(e){k&&" "===e.key&&Z.current&&Y&&!e.defaultPrevented&&(fe.current=!1,Z.current.stop(e,(function(){Z.current.pulsate(e)}))),A&&A(e),_&&e.target===e.currentTarget&&le()&&" "===e.key&&!e.defaultPrevented&&_(e)})),pe=f;"button"===pe&&(V.href||V.to)&&(pe=w);var ve={};"button"===pe?(ve.type=void 0===j?"button":j,ve.disabled=d):(V.href||V.to||(ve.role="button"),d&&(ve["aria-disabled"]=d));var me=(0,rt.Z)(G,z),ye=(0,rt.Z)(n,me),ge=t.useState(!1),ke=(0,Se.Z)(ge,2),be=ke[0],we=ke[1];t.useEffect((function(){we(!0)}),[]);var xe=be&&!v&&!d;var _e=(0,o.Z)({},r,{centerRipple:u,component:f,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:k,tabIndex:F,focusVisible:Y}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,tt.Z)(a,Ut,i);return n&&r&&(o.root+=" ".concat(r)),o}(_e);return(0,Ie.jsxs)(Zt,(0,o.Z)({as:pe,className:(0,Xe.Z)(Ee.root,c),ownerState:_e,onBlur:se,onClick:_,onContextMenu:te,onFocus:ce,onKeyDown:he,onKeyUp:de,onMouseDown:ee,onMouseLeave:ie,onMouseUp:re,onDragLeave:ne,onTouchEnd:oe,onTouchMove:ue,onTouchStart:ae,ref:ye,tabIndex:d?-1:F,type:j},ve,V,{children:[s,xe?(0,Ie.jsx)(Mt,(0,o.Z)({ref:Z,center:u},U)):null]}))})),qt=Bt,Wt=n(4036);function Ht(e){return(0,Ft.Z)("MuiButton",e)}var Kt=(0,kt.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Gt=t.createContext({}),Qt=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],$t=function(e){return(0,o.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Yt=(0,He.ZP)(qt,{shouldForwardProp:function(e){return(0,He.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Wt.Z)(n.color))],t["size".concat((0,Wt.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,Wt.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,o.Z)({},n.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":(0,o.Z)({textDecoration:"none",backgroundColor:(0,nt.Fq)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:(0,nt.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:(0,nt.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":(0,o.Z)({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},(0,xe.Z)(t,"&.".concat(Kt.focusVisible),(0,o.Z)({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),(0,xe.Z)(t,"&.".concat(Kt.disabled),(0,o.Z)({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat((0,nt.Fq)(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,xe.Z)(t,"&.".concat(Kt.focusVisible),{boxShadow:"none"}),(0,xe.Z)(t,"&:active",{boxShadow:"none"}),(0,xe.Z)(t,"&.".concat(Kt.disabled),{boxShadow:"none"}),t)})),Jt=(0,He.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,Wt.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,o.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},$t(t))})),Xt=(0,He.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,Wt.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,o.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},$t(t))})),en=t.forwardRef((function(e,n){var r=t.useContext(Gt),i=(0,et.Z)(r,e),a=(0,Ke.Z)({props:i,name:"MuiButton"}),u=a.children,s=a.color,c=void 0===s?"primary":s,l=a.component,f=void 0===l?"button":l,h=a.className,d=a.disabled,p=void 0!==d&&d,v=a.disableElevation,m=void 0!==v&&v,y=a.disableFocusRipple,g=void 0!==y&&y,k=a.endIcon,b=a.focusVisibleClassName,w=a.fullWidth,x=void 0!==w&&w,_=a.size,E=void 0===_?"medium":_,S=a.startIcon,I=a.type,T=a.variant,C=void 0===T?"text":T,A=(0,q.Z)(a,Qt),N=(0,o.Z)({},a,{color:c,component:f,disabled:p,disableElevation:m,disableFocusRipple:g,fullWidth:x,size:E,type:I,variant:C}),R=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,u=e.classes,s={root:["root",a,"".concat(a).concat((0,Wt.Z)(t)),"size".concat((0,Wt.Z)(i)),"".concat(a,"Size").concat((0,Wt.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,Wt.Z)(i))],endIcon:["endIcon","iconSize".concat((0,Wt.Z)(i))]},c=(0,tt.Z)(s,Ht,u);return(0,o.Z)({},u,c)}(N),P=S&&(0,Ie.jsx)(Jt,{className:R.startIcon,ownerState:N,children:S}),O=k&&(0,Ie.jsx)(Xt,{className:R.endIcon,ownerState:N,children:k});return(0,Ie.jsxs)(Yt,(0,o.Z)({ownerState:N,className:(0,Xe.Z)(h,r.className),component:f,disabled:p,focusRipple:!g,focusVisibleClassName:(0,Xe.Z)(R.focusVisible,b),ref:n,type:I},A,{classes:R,children:[P,u,O]}))})),tn=en,nn=n(5545),rn=function(){var e=he();return(0,Ie.jsxs)("nav",{children:[(0,Ie.jsx)("div",{className:"logo",children:(0,Ie.jsx)("img",{src:Ue,alt:"logo",onClick:function(){e.push("/walley")}})}),(0,Ie.jsxs)(Je,{className:"buttons",spacing:5,direction:"row",children:[(0,Ie.jsx)(Je,{className:"menuStack",spacing:3,direction:"row",children:(0,Ie.jsx)(ke,{className:"link",to:"/about",children:(0,Ie.jsx)(tn,{className:"aboutBtn",children:"ABOUT US"})})}),(0,Ie.jsxs)(Je,{className:"authStack",spacing:2,direction:"row",children:[(0,Ie.jsx)(ke,{className:"link",to:"/login",children:(0,Ie.jsx)(tn,{className:"loginBtn",children:"LOGIN"})}),(0,Ie.jsx)(ke,{className:"link",to:"/signup",children:(0,Ie.jsx)(tn,{className:"signUpBtn",children:"SIGN UP"})}),(0,Ie.jsx)(ke,{className:"link",to:"/account",children:(0,Ie.jsx)(nn.Z,{className:"accountIcon",fontSize:"large",color:"disabled"})})]})]})]})};function an(e){return(0,Ft.Z)("MuiCircularProgress",e)}(0,kt.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var on,un,sn,cn,ln,fn,hn,dn,pn=["className","color","disableShrink","size","style","thickness","value","variant"],vn=44,mn=yt(ln||(ln=on||(on=ot(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),yn=yt(fn||(fn=un||(un=ot(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),gn=(0,He.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat((0,Wt.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,o.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:n.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&mt(hn||(hn=sn||(sn=ot(["\n      animation: "," 1.4s linear infinite;\n    "]))),mn)})),kn=(0,He.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),bn=(0,He.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat((0,Wt.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return(0,o.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&mt(dn||(dn=cn||(cn=ot(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),yn)})),wn=t.forwardRef((function(e,t){var n=(0,Ke.Z)({props:e,name:"MuiCircularProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,u=n.disableShrink,s=void 0!==u&&u,c=n.size,l=void 0===c?40:c,f=n.style,h=n.thickness,d=void 0===h?3.6:h,p=n.value,v=void 0===p?0:p,m=n.variant,y=void 0===m?"indeterminate":m,g=(0,q.Z)(n,pn),k=(0,o.Z)({},n,{color:a,disableShrink:s,size:l,thickness:d,value:v,variant:y}),b=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink,a={root:["root",n,"color".concat((0,Wt.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,Wt.Z)(n)),i&&"circleDisableShrink"]};return(0,tt.Z)(a,an,t)}(k),w={},x={},_={};if("determinate"===y){var E=2*Math.PI*((vn-d)/2);w.strokeDasharray=E.toFixed(3),_["aria-valuenow"]=Math.round(v),w.strokeDashoffset="".concat(((100-v)/100*E).toFixed(3),"px"),x.transform="rotate(-90deg)"}return(0,Ie.jsx)(gn,(0,o.Z)({className:(0,Xe.Z)(b.root,r),style:(0,o.Z)({width:l,height:l},x,f),ownerState:k,ref:t,role:"progressbar"},_,g,{children:(0,Ie.jsx)(kn,{className:b.svg,ownerState:k,viewBox:"".concat(22," ").concat(22," ").concat(vn," ").concat(vn),children:(0,Ie.jsx)(bn,{className:b.circle,style:w,ownerState:k,cx:vn,cy:vn,r:(vn-d)/2,fill:"none",strokeWidth:d})})}))})),xn=wn;function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){return t&&En(e.prototype,t),n&&En(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var In=n(181);function Tn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,In.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Cn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function An(e){return An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},An(e)}function Nn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Pn(e,t){if(t&&("object"===Rn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function On(e){var t=Nn();return function(){var n,r=An(e);if(t){var i=An(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pn(this,n)}}function Dn(e,t,n){return Dn=Nn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},Dn.apply(null,arguments)}function Ln(e){var t="function"===typeof Map?new Map:void 0;return Ln=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Dn(e,arguments,An(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},Ln(e)}var Mn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Fn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Mn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Un=function(e){return function(e){var t=Mn(e);return Fn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},jn=function(e){try{return Fn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Vn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&zn(n)&&(e[n]=Vn(e[n],t[n]));return e}function zn(e){return"__proto__"!==e}var Zn=function(){function e(){var t=this;_n(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Sn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Bn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Un(JSON.stringify({alg:"none",type:"JWT"})),Un(JSON.stringify(a)),""].join(".")}function qn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Wn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function Hn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Kn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Gn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Qn(){var e=qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $n(){return"object"===typeof indexedDB}var Yn=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ut(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ut(a),Jn.prototype.create),a}return Sn(n)}(Ln(Error)),Jn=function(){function e(t,n,r){_n(this,e),this.service=t,this.serviceName=n,this.errors=r}return Sn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Xn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Yn(n,a,t);return o}}]),e}();function Xn(e,t){return e.replace(er,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var er=/\{\$([^}]+)}/g;function tr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(rr(u)&&rr(s)){if(!nr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function rr(e){return null!==e&&"object"===typeof e}function ir(e){for(var t=[],n=function(){var e=(0,Se.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ar(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,Se.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function or(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ur(e,t){var n=new sr(e,t);return n.subscribe.bind(n)}var sr=function(){function e(t,n){var r=this;_n(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Sn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Tn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=cr),void 0===r.error&&(r.error=cr),void 0===r.complete&&(r.complete=cr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function cr(){}function lr(e){return e&&e._delegate?e._delegate:e}function fr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function hr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){fr(a,r,i,o,u,"next",e)}function u(e){fr(a,r,i,o,u,"throw",e)}o(void 0)}))}}var dr=n(7757),pr=n.n(dr),vr=function(){function e(t,n,r){_n(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Sn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),mr="[DEFAULT]",yr=function(){function e(t,n){_n(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Sn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Zn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mr})}catch(s){}var t,n=Tn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,Se.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=hr(dr.mark((function e(){var t;return dr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,ze.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,ze.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Tn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,Se.Z)(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(q_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===mr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(q_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr;return this.component?this.component.multipleInstances?e:mr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var gr,kr,br=function(){function e(t){_n(this,e),this.name=t,this.providers=new Map}return Sn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new yr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),wr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kr||(kr={}));var xr,_r,Er={debug:kr.DEBUG,verbose:kr.VERBOSE,info:kr.INFO,warn:kr.WARN,error:kr.ERROR,silent:kr.SILENT},Sr=kr.INFO,Ir=(gr={},(0,xe.Z)(gr,kr.DEBUG,"log"),(0,xe.Z)(gr,kr.VERBOSE,"log"),(0,xe.Z)(gr,kr.INFO,"info"),(0,xe.Z)(gr,kr.WARN,"warn"),(0,xe.Z)(gr,kr.ERROR,"error"),gr),Tr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ir[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Cr=function(){function e(t){_n(this,e),this.name=t,this._logLevel=Sr,this._logHandler=Tr,this._userLogHandler=null,wr.push(this)}return Sn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in kr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Er[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kr.DEBUG].concat(t)),this._logHandler.apply(this,[this,kr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,kr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kr.INFO].concat(t)),this._logHandler.apply(this,[this,kr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kr.WARN].concat(t)),this._logHandler.apply(this,[this,kr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kr.ERROR].concat(t)),this._logHandler.apply(this,[this,kr.ERROR].concat(t))}}]),e}();var Ar=function(){function e(t){_n(this,e),this.container=t}return Sn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Nr="@firebase/app",Rr="0.7.11",Pr=new Cr("@firebase/app"),Or="[DEFAULT]",Dr=(xr={},(0,xe.Z)(xr,Nr,"fire-core"),(0,xe.Z)(xr,"@firebase/app-compat","fire-core-compat"),(0,xe.Z)(xr,"@firebase/analytics","fire-analytics"),(0,xe.Z)(xr,"@firebase/analytics-compat","fire-analytics-compat"),(0,xe.Z)(xr,"@firebase/app-check","fire-app-check"),(0,xe.Z)(xr,"@firebase/app-check-compat","fire-app-check-compat"),(0,xe.Z)(xr,"@firebase/auth","fire-auth"),(0,xe.Z)(xr,"@firebase/auth-compat","fire-auth-compat"),(0,xe.Z)(xr,"@firebase/database","fire-rtdb"),(0,xe.Z)(xr,"@firebase/database-compat","fire-rtdb-compat"),(0,xe.Z)(xr,"@firebase/functions","fire-fn"),(0,xe.Z)(xr,"@firebase/functions-compat","fire-fn-compat"),(0,xe.Z)(xr,"@firebase/installations","fire-iid"),(0,xe.Z)(xr,"@firebase/installations-compat","fire-iid-compat"),(0,xe.Z)(xr,"@firebase/messaging","fire-fcm"),(0,xe.Z)(xr,"@firebase/messaging-compat","fire-fcm-compat"),(0,xe.Z)(xr,"@firebase/performance","fire-perf"),(0,xe.Z)(xr,"@firebase/performance-compat","fire-perf-compat"),(0,xe.Z)(xr,"@firebase/remote-config","fire-rc"),(0,xe.Z)(xr,"@firebase/remote-config-compat","fire-rc-compat"),(0,xe.Z)(xr,"@firebase/storage","fire-gcs"),(0,xe.Z)(xr,"@firebase/storage-compat","fire-gcs-compat"),(0,xe.Z)(xr,"@firebase/firestore","fire-fst"),(0,xe.Z)(xr,"@firebase/firestore-compat","fire-fst-compat"),(0,xe.Z)(xr,"fire-js","fire-js"),(0,xe.Z)(xr,"firebase","fire-js-all"),xr),Lr=new Map,Mr=new Map;function Fr(e,t){try{e.container.addComponent(t)}catch(n){Pr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ur(e,t){e.container.addOrOverwriteComponent(t)}function jr(e){var t=e.name;if(Mr.has(t))return Pr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mr.set(t,e);var n,r=Tn(Lr.values());try{for(r.s();!(n=r.n()).done;){Fr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Vr(e,t){return e.container.getProvider(t)}function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Or;Vr(e,t).clearInstance(n)}function Zr(){Mr.clear()}var Br,qr,Wr=(_r={},(0,xe.Z)(_r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,xe.Z)(_r,"bad-app-name","Illegal App name: '{$appName}"),(0,xe.Z)(_r,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,xe.Z)(_r,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,xe.Z)(_r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,xe.Z)(_r,"invalid-log-argument","First argument to `onLog` must be null or a function."),_r),Hr=new Jn("app","Firebase",Wr),Kr=function(){function e(t,n,r){var i=this;_n(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vr("app",(function(){return i}),"PUBLIC"))}return Sn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}]),e}(),Gr="9.6.1";function Qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Or,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Hr.create("bad-app-name",{appName:String(i)});var a=Lr.get(i);if(a){if(nr(e,a.options)&&nr(r,a.config))return a;throw Hr.create("duplicate-app",{appName:i})}var o,u=new br(i),s=Tn(Mr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Kr(e,r,u);return Lr.set(i,l),l}function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=Lr.get(e);if(!t)throw Hr.create("no-app",{appName:e});return t}function Yr(){return Array.from(Lr.values())}function Jr(e){return Xr.apply(this,arguments)}function Xr(){return(Xr=hr(dr.mark((function e(t){var n;return dr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Lr.has(n)){e.next=6;break}return Lr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e,t,n){var r,i=null!==(r=Dr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pr.warn(u.join(" "))}jr(new vr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ti(e,t){if(null!==e&&"function"!==typeof e)throw Hr.create("invalid-log-argument");!function(e,t){var n,r=Tn(wr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Er[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:kr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ni(e){var t;t=e,wr.forEach((function(e){e.setLogLevel(t)}))}Br="",jr(new vr("platform-logger",(function(e){return new Ar(e)}),"PRIVATE")),ei(Nr,Rr,Br),ei(Nr,Rr,"esm2017"),ei("fire-js","");var ri=function(){function e(t,n){var r=this;_n(this,e),this._delegate=t,this.firebase=n,Fr(t,new vr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Sn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Jr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Fr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ur(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ii=(qr={},(0,xe.Z)(qr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,xe.Z)(qr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qr),ai=new Jn("app-compat","Firebase",ii);var oi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Qr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(tr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ei,setLogLevel:ni,onLog:ti,apps:null,SDK_VERSION:Gr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(jr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ai.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Vn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!tr(n,e=e||Or))throw ai.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ri);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Vn(n,e)},createSubscribe:ur,ErrorFactory:Jn,deepExtend:Vn}),n}(),ui=new Cr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ui.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var si=self.firebase.SDK_VERSION;si&&si.indexOf("LITE")>=0&&ui.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ci=oi;!function(e){ei("@firebase/app-compat","0.1.12",e)}();ci.registerVersion("firebase","9.6.1","app-compat");var li=n(3878),fi=n(9199),hi=n(5267);function di(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=An(e)););return e}function pi(){return pi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=di(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pi.apply(this,arguments)}function vi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var mi;Object.create;var yi="facebook.com",gi="github.com",ki="google.com",bi="password",wi="twitter.com",xi="EMAIL_SIGNIN",_i="PASSWORD_RESET",Ei="RECOVER_EMAIL",Si="REVERT_SECOND_FACTOR_ADDITION",Ii="VERIFY_AND_CHANGE_EMAIL",Ti="VERIFY_EMAIL";function Ci(){return(0,xe.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ai=function(){var e;return e={},(0,xe.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,xe.Z)(e,"argument-error",""),(0,xe.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,xe.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,xe.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,xe.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,xe.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,xe.Z)(e,"cors-unsupported","This browser is not supported."),(0,xe.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,xe.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,xe.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,xe.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,xe.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,xe.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,xe.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,xe.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,xe.Z)(e,"expired-action-code","The action code has expired."),(0,xe.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,xe.Z)(e,"internal-error","An internal AuthError has occurred."),(0,xe.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,xe.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,xe.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,xe.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,xe.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,xe.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,xe.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,xe.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,xe.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,xe.Z)(e,"invalid-email","The email address is badly formatted."),(0,xe.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,xe.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,xe.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,xe.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,xe.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,xe.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,xe.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,xe.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,xe.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,xe.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,xe.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,xe.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,xe.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,xe.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,xe.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,xe.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,xe.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,xe.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,xe.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,xe.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,xe.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,xe.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,xe.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,xe.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,xe.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,xe.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,xe.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,xe.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,xe.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,xe.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,xe.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,xe.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,xe.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,xe.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,xe.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,xe.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,xe.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,xe.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,xe.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,xe.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,xe.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,xe.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,xe.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,xe.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,xe.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,xe.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,xe.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,xe.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,xe.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,xe.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,xe.Z)(e,"timeout","The operation has timed out."),(0,xe.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,xe.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,xe.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,xe.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,xe.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,xe.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,xe.Z)(e,"unverified-email","The operation requires a verified email."),(0,xe.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,xe.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,xe.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,xe.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,xe.Z)(e,"user-signed-out",""),(0,xe.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,xe.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,xe.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ni=Ci,Ri=new Jn("auth","Firebase",Ci()),Pi=new Cr("@firebase/auth");function Oi(e){if(Pi.logLevel<=kr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pi.error.apply(Pi,["Auth (".concat(Gr,"): ").concat(e)].concat(n))}}function Di(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ui.apply(void 0,[e].concat(n))}function Li(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ui.apply(void 0,[e].concat(n))}function Mi(e,t,n){var r=Object.assign(Object.assign({},Ni()),(0,xe.Z)({},t,n));return new Jn("auth","Firebase",r).create(t,{appName:e.name})}function Fi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Di(e,"argument-error"),Mi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,ze.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,ze.Z)(o)))}return Ri.create.apply(Ri,[e].concat(n))}function ji(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ui.apply(void 0,[t].concat(r))}}function Vi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Oi(t),new Error(t)}function zi(e,t){e||Vi(t)}var Zi=new Map;function Bi(e){zi(e instanceof Function,"Expected a class definition");var t=Zi.get(e);return t?(zi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zi.set(e,t),t)}function qi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wi(){return"http:"===Hi()||"https:"===Hi()}function Hi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ki=function(){function e(t,n){_n(this,e),this.shortDelay=t,this.longDelay=n,zi(n>t,"Short delay should be less than long delay!"),this.isMobile=Wn()||Gn()}return Sn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wi()||Kn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Gi(e,t){zi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Qi=function(){function e(){_n(this,e)}return Sn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),$i=(mi={},(0,xe.Z)(mi,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,xe.Z)(mi,"MISSING_CUSTOM_TOKEN","internal-error"),(0,xe.Z)(mi,"INVALID_IDENTIFIER","invalid-email"),(0,xe.Z)(mi,"MISSING_CONTINUE_URI","internal-error"),(0,xe.Z)(mi,"INVALID_PASSWORD","wrong-password"),(0,xe.Z)(mi,"MISSING_PASSWORD","internal-error"),(0,xe.Z)(mi,"EMAIL_EXISTS","email-already-in-use"),(0,xe.Z)(mi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,xe.Z)(mi,"INVALID_IDP_RESPONSE","invalid-credential"),(0,xe.Z)(mi,"INVALID_PENDING_TOKEN","invalid-credential"),(0,xe.Z)(mi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,xe.Z)(mi,"MISSING_REQ_TYPE","internal-error"),(0,xe.Z)(mi,"EMAIL_NOT_FOUND","user-not-found"),(0,xe.Z)(mi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,xe.Z)(mi,"EXPIRED_OOB_CODE","expired-action-code"),(0,xe.Z)(mi,"INVALID_OOB_CODE","invalid-action-code"),(0,xe.Z)(mi,"MISSING_OOB_CODE","internal-error"),(0,xe.Z)(mi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,xe.Z)(mi,"INVALID_ID_TOKEN","invalid-user-token"),(0,xe.Z)(mi,"TOKEN_EXPIRED","user-token-expired"),(0,xe.Z)(mi,"USER_NOT_FOUND","user-token-expired"),(0,xe.Z)(mi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,xe.Z)(mi,"INVALID_CODE","invalid-verification-code"),(0,xe.Z)(mi,"INVALID_SESSION_INFO","invalid-verification-id"),(0,xe.Z)(mi,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,xe.Z)(mi,"MISSING_SESSION_INFO","missing-verification-id"),(0,xe.Z)(mi,"SESSION_EXPIRED","code-expired"),(0,xe.Z)(mi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,xe.Z)(mi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,xe.Z)(mi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,xe.Z)(mi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,xe.Z)(mi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,xe.Z)(mi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,xe.Z)(mi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,xe.Z)(mi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,xe.Z)(mi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,xe.Z)(mi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,xe.Z)(mi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),mi),Yi=new Ki(3e4,6e4);function Ji(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Xi(e,t,n,r){return ea.apply(this,arguments)}function ea(){return ea=hr(pr().mark((function e(t,n,r,i){var a,o=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ta(t,a,hr(pr().mark((function e(){var a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ir(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Qi.fetch()(aa(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t,n){return na.apply(this,arguments)}function na(){return na=hr(pr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},$i),n),e.prev=2,a=new oa(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ua(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,Se.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw ua(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw ua(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Mi(t,d,h);case 30:Di(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Yn)){e.next=37;break}throw e.t0;case 37:Di(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),na.apply(this,arguments)}function ra(e,t,n,r){return ia.apply(this,arguments)}function ia(){return ia=hr(pr().mark((function e(t,n,r,i){var a,o,u=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Xi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Di(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Gi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var oa=function(){function e(t){var n=this;_n(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Li(n.auth,"timeout"))}),Yi.get())}))}return Sn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ua(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Li(e,t,r);return i.customData._tokenResponse=n,i}function sa(e,t){return ca.apply(this,arguments)}function ca(){return ca=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(e,t){return fa.apply(this,arguments)}function fa(){return fa=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function ha(e,t){return da.apply(this,arguments)}function da(){return da=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function va(){return va=hr(pr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=lr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ji((a=ya(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:pa(ma(a.auth_time)),issuedAtTime:pa(ma(a.iat)),expirationTime:pa(ma(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ma(e){return 1e3*Number(e)}function ya(e){var t=e.split("."),n=(0,Se.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Oi("JWT malformed, contained fewer than 3 sections"),null;try{var o=jn(i);return o?JSON.parse(o):(Oi("Failed to decode base64 JWT payload"),null)}catch(u){return Oi("Caught error parsing JWT payload as JSON",u),null}}function ga(e,t){return ka.apply(this,arguments)}function ka(){return ka=hr(pr().mark((function e(t,n){var r=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Yn&&ba(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ka.apply(this,arguments)}function ba(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var wa=function(){function e(t){_n(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Sn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(hr(pr().mark((function t(){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),xa=function(){function e(t,n){_n(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Sn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function _a(e){return Ea.apply(this,arguments)}function Ea(){return Ea=hr(pr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ga(t,ha(r,{idToken:i}));case 6:ji(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ta(o.providerUserInfo):[],s=Ia(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new xa(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Sa(){return Sa=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lr(t),e.next=3,_a(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ia(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,ze.Z)(n),(0,ze.Z)(t))}function Ta(e){return e.map((function(e){var t=e.providerId,n=vi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ca(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=hr(pr().mark((function e(t,n){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(t,{},hr(pr().mark((function e(){var r,i,a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ir({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=aa(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Qi.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}var Na=function(){function e(){_n(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Sn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ji(e.idToken,"internal-error"),ji("undefined"!==typeof e.idToken,"internal-error"),ji("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ya(e);return ji(t,"internal-error"),ji("undefined"!==typeof t.exp,"internal-error"),ji("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=hr(pr().mark((function e(t){var n,r=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ji(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=hr(pr().mark((function e(t,n){var r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Vi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ji("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ji("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ji("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ra(e,t){ji("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Pa=function(){function e(t){_n(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=vi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new wa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new xa(a.createdAt||void 0,a.lastLoginAt||void 0)}return Sn(e,[{key:"getIdToken",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ji(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return va.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Sa.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ji(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ji(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=hr(pr().mark((function e(t){var n,r,i=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,_a(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ga(this,sa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ji(k&&_,t,"internal-error");var E=Na.fromJSON(this.name,_);ji("string"===typeof k,t,"internal-error"),Ra(f,t.name),Ra(h,t.name),ji("boolean"===typeof b,t,"internal-error"),ji("boolean"===typeof w,t,"internal-error"),Ra(d,t.name),Ra(p,t.name),Ra(v,t.name),Ra(m,t.name),Ra(y,t.name),Ra(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=hr(pr().mark((function t(n,r){var i,a,o,u=arguments;return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Na).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,_a(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Oa=function(){function e(){_n(this,e),this.type="NONE",this.storage={}}return Sn(e,[{key:"_isAvailable",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Oa.type="NONE";var Da=Oa;function La(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ma=function(){function e(t,n,r){_n(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=La(this.userKey,a.apiKey,o),this.fullPersistenceKey=La("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Sn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Pa._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=hr(pr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Bi(Da),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Bi(Da),u=La(i,n.config.apiKey,n.name),s=null,c=Tn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Pa._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Fa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(za(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ua(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ba(t))return"Blackberry";if(qa(t))return"Webos";if(ja(t))return"Safari";if((t.includes("chrome/")||Va(t))&&!t.includes("edge/"))return"Chrome";if(Za(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/firefox\//i.test(e)}function ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/crios\//i.test(e)}function za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/iemobile/i.test(e)}function Za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/android/i.test(e)}function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/blackberry/i.test(e)}function qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/webos/i.test(e)}function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/iphone|ipad|ipod/i.test(e)}function Ha(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return Wa(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ka(){return Qn()&&10===document.documentMode}function Ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return Wa(e)||Za(e)||qa(e)||Ba(e)||/windows phone/i.test(e)||za(e)}function Qa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fa(qn());break;case"Worker":t="".concat(Fa(qn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gr,"/").concat(r)}var $a=function(){function e(t,n){_n(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ja(this),this.idTokenSubscription=new Ja(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ri,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Sn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue(hr(pr().mark((function r(){var i,a;return pr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ma.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=hr(pr().mark((function e(t){var n,r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ji(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_a(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?lr(t):null)&&ji(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=hr(pr().mark((function e(t){var n=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ji(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(hr(pr().mark((function n(){return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Bi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Jn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=hr(pr().mark((function e(t,n){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ji(n=t&&Bi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ma.create(this,[Bi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=hr(pr().mark((function e(t){var n=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ji(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ji(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qa(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,xe.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ya(e){return lr(e)}var Ja=function(){function e(t){var n=this;_n(this,e),this.auth=t,this.observer=null,this.addObserver=ur((function(e){return n.observer=e}))}return Sn(e,[{key:"next",get:function(){return ji(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Xa(e,t,n){var r=Ya(e);ji(r._canInitEmulator,r,"emulator-config-failed"),ji(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=eo(t),o=function(e){var t=eo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:to(r.substr(a.length+1))}}var o=r.split(":"),u=(0,Se.Z)(o,2);return{host:u[0],port:to(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function to(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var no=function(){function e(t,n){_n(this,e),this.providerId=t,this.signInMethod=n}return Sn(e,[{key:"toJSON",value:function(){return Vi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Vi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Vi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Vi("not implemented")}}]),e}();function ro(e,t){return io.apply(this,arguments)}function io(){return io=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:resetPassword",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function uo(e,t){return so.apply(this,arguments)}function so(){return so=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:update",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function co(e,t){return lo.apply(this,arguments)}function lo(){return lo=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithPassword",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:sendOobCode",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(t,n));case 1:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return yo=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(t,n));case 1:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function go(e,t){return ko.apply(this,arguments)}function ko(){return ko=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(t,n));case 1:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return wo=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(t,n));case 1:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function xo(e,t){return _o.apply(this,arguments)}function _o(){return _o=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithEmailLink",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function Eo(e,t){return So.apply(this,arguments)}function So(){return So=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithEmailLink",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}var Io=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _n(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Sn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",co(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xo(t,{email:this._email,oobCode:this._password}));case 5:Di(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ao(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Eo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Di(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(no);function To(e,t){return Co.apply(this,arguments)}function Co(){return Co=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithIdp",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}var Ao=function(e){Cn(n,e);var t=On(n);function n(){var e;return _n(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Sn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return To(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,To(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,To(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ir(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Di("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=vi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(no);function No(e,t){return Ro.apply(this,arguments)}function Ro(){return Ro=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:sendVerificationCode",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Po(){return Po=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Oo(){return Oo=hr(pr().mark((function e(t,n){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ji(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ua(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}var Do=(0,xe.Z)({},"USER_NOT_FOUND","user-not-found");function Lo(){return Lo=hr(pr().mark((function e(t,n){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ji(t,r),Do));case 2:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}var Mo=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Sn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Po.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Oo.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Lo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(no);var Fo=function(){function e(t){var n,r,i,a,o,u;_n(this,e);var s=ar(or(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ji(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Sn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ar(or(e)).link,n=t?ar(or(t)).deep_link_id:null,r=ar(or(e)).deep_link_id;return(r?ar(or(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(q_){return null}}}]),e}();var Uo=function(){function e(){_n(this,e),this.providerId=e.PROVIDER_ID}return Sn(e,null,[{key:"credential",value:function(e,t){return Io._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Fo.parseLink(t);return ji(n,"argument-error"),Io._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Uo.PROVIDER_ID="password",Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var jo=function(){function e(t){_n(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Sn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Vo=function(e){Cn(n,e);var t=On(n);function n(){var e;return _n(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Sn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,ze.Z)(this.scopes)}}]),n}(jo),zo=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ji(e.idToken||e.accessToken,"argument-error"),Ao._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ji("providerId"in t&&"signInMethod"in t,"argument-error"),Ao._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Vo),Zo=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.call(this,"facebook.com")}return Sn(n,null,[{key:"credential",value:function(e){return Ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(q_){return null}}}]),n}(Vo);Zo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zo.PROVIDER_ID="facebook.com";var Bo=function(e){Cn(n,e);var t=On(n);function n(){var e;return _n(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Sn(n,null,[{key:"credential",value:function(e,t){return Ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(q_){return null}}}]),n}(Vo);Bo.GOOGLE_SIGN_IN_METHOD="google.com",Bo.PROVIDER_ID="google.com";var qo=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.call(this,"github.com")}return Sn(n,null,[{key:"credential",value:function(e){return Ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(q_){return null}}}]),n}(Vo);qo.GITHUB_SIGN_IN_METHOD="github.com",qo.PROVIDER_ID="github.com";var Wo=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Sn(n,[{key:"_getIdTokenResponse",value:function(e){return To(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,To(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,To(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(no),Ho=function(e){Cn(n,e);var t=On(n);function n(e){return _n(this,n),ji(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Sn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Wo.fromJSON(e);return ji(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Wo._create(r,n)}catch(i){return null}}}]),n}(jo),Ko=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.call(this,"twitter.com")}return Sn(n,null,[{key:"credential",value:function(e,t){return Ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(q_){return null}}}]),n}(Vo);function Go(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signUp",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}Ko.TWITTER_SIGN_IN_METHOD="twitter.com",Ko.PROVIDER_ID="twitter.com";var $o=function(){function e(t){_n(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Sn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=hr(pr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Pa._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Yo(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=hr(pr().mark((function t(n,r,i){var a;return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Yo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Jo(){return Jo=hr(pr().mark((function e(t){var n,r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ya(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new $o({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Go(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,$o._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}var Xo=function(e){Cn(n,e);var t=On(n);function n(e,r,i,a){var o,u;return _n(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ut(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Sn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Yn);function eu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xo._fromErrorAndOperation(e,n,t,r);throw n}))}function tu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=hr(pr().mark((function e(t,n){var r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(t),e.next=3,ou(!0,r,n);case 3:return e.t0=la,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=tu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return au=hr(pr().mark((function e(t,n){var r,i,a=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ga,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",$o._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e,t,n){return uu.apply(this,arguments)}function uu(){return uu=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a(n);case 2:i=tu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ji(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=hr(pr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ga(t,eu(i,a,n,t),r);case 6:return ji((o=e.sent).idToken,i,"internal-error"),ji(u=ya(o.idToken),i,"internal-error"),s=u.sub,ji(t.uid===s,i,"user-mismatch"),e.abrupt("return",$o._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Di(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),cu.apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=hr(pr().mark((function e(t,n){var r,i,a,o,u=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,eu(t,i,n);case 4:return a=e.sent,e.next=7,$o._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return du=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lu(Ya(t),n));case 1:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=hr(pr().mark((function e(t,n){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(t),e.next=3,ou(!1,r,n.providerId);case 3:return e.abrupt("return",iu(r,n));case 4:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function mu(e,t){return yu.apply(this,arguments)}function yu(){return yu=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",su(lr(t),n));case 1:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(e,t){return ku.apply(this,arguments)}function ku(){return ku=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ra(t,"POST","/v1/accounts:signInWithCustomToken",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function bu(){return bu=hr(pr().mark((function e(t,n){var r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ya(t),e.next=3,gu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,$o._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}var wu=function(){function e(t,n){_n(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Sn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?xu._fromServerResponse(e,t):Di(e,"internal-error")}}]),e}(),xu=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Sn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(wu);function _u(e,t,n){var r;ji((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ji("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ji(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ji(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Eu(){return Eu=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),a={requestType:"PASSWORD_RESET",email:n},r&&_u(i,a,r),e.next=5,mo(i,a);case 5:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Su(){return Su=hr(pr().mark((function e(t,n,r){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ro(lr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Iu(){return Iu=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(lr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=hr(pr().mark((function e(t,n){var r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(t),e.next=3,ro(r,{oobCode:n});case 3:i=e.sent,ji(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ji(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ji(i.mfaInfo,r,"internal-error");case 13:ji(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=wu._fromServerResponse(Ya(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Au(){return Au=hr(pr().mark((function e(t,n){var r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu(lr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Nu(e,t,n){return Ru.apply(this,arguments)}function Ru(){return Ru=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ya(t),e.next=3,Go(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,$o._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Pu(){return Pu=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),a={requestType:"EMAIL_SIGNIN",email:n},ji(r.handleCodeInApp,i,"argument-error"),r&&_u(i,a,r),e.next=6,go(i,a);case 6:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ou(){return Ou=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),ji((a=Uo.credentialWithLink(n,r||qi()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hu(i,a));case 4:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Du(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:createAuthUri",Ji(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Mu(){return Mu=hr(pr().mark((function e(t,n){var r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wi()?qi():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Du(lr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Fu(){return Fu=hr(pr().mark((function e(t,n){var r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&_u(r.auth,a,n),e.next=8,po(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function Uu(){return Uu=hr(pr().mark((function e(t,n,r){var i,a,o,u;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&_u(i.auth,o,r),e.next=8,bo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function ju(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function zu(){return zu=hr(pr().mark((function e(t,n){var r,i,a,o,u,s,c;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=lr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ga(a,ju(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function Zu(e,t,n){return Bu.apply(this,arguments)}function Bu(){return Bu=hr(pr().mark((function e(t,n,r){var i,a,o,u;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ga(t,ao(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}var qu=Sn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_n(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Wu=function(e){Cn(n,e);var t=On(n);function n(e,r,i,a){var o;return _n(this,n),(o=t.call(this,e,r,i)).username=a,o}return Sn(n)}(qu),Hu=function(e){Cn(n,e);var t=On(n);function n(e,r){return _n(this,n),t.call(this,e,"facebook.com",r)}return Sn(n)}(qu),Ku=function(e){Cn(n,e);var t=On(n);function n(e,r){return _n(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Sn(n)}(Wu),Gu=function(e){Cn(n,e);var t=On(n);function n(e,r){return _n(this,n),t.call(this,e,"google.com",r)}return Sn(n)}(qu),Qu=function(e){Cn(n,e);var t=On(n);function n(e,r,i){return _n(this,n),t.call(this,e,"twitter.com",r,i)}return Sn(n)}(Wu);function $u(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ya(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new qu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Hu(a,i);case"github.com":return new Ku(a,i);case"google.com":return new Gu(a,i);case"twitter.com":return new Qu(a,i,e.screenName||null);case"custom":case"anonymous":return new qu(a,null);default:return new qu(a,r,i)}}(n)}var Yu=function(){function e(t,n){_n(this,e),this.type=t,this.credential=n}return Sn(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,xe.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ju=function(){function e(t,n,r){_n(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Sn(e,[{key:"resolveSignIn",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ya(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return wu._fromServerResponse(r,e)}));ji(i.mfaPendingCredential,r,"internal-error");var o=Yu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=hr(pr().mark((function e(t){var a,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,$o._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ji(n.user,r,"internal-error"),e.abrupt("return",$o._forOperation(n.user,n.operationType,u));case 17:Di(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Xu(e,t){return Xi(e,"POST","/v2/accounts/mfaEnrollment:start",Ji(e,t))}function es(e,t){return Xi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ji(e,t))}var ts=function(){function e(t){var n=this;_n(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return wu._fromServerResponse(t.auth,e)})))}))}return Sn(e,[{key:"getSession",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Yu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=hr(pr().mark((function e(t,n){var r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ga(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=hr(pr().mark((function e(t){var n,r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ga(this.user,es(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ns=new WeakMap;var rs="__sak",is=function(){function e(t,n){_n(this,e),this.storageRetriever=t,this.type=n}return Sn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(q_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var as=function(e){Cn(n,e);var t=On(n);function n(){var e;return _n(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=qn();return ja(e)||Wa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ga(),e._shouldAllowMigration=!0,e}return Sn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ka()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=hr(pr().mark((function e(t,r){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(An(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=hr(pr().mark((function e(t){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(An(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(An(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(is);as.type="LOCAL";var os=as,us=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Sn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(is);us.type="SESSION";var ss=us;function cs(e){return Promise.all(e.map(function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ls=function(){function e(t){_n(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Sn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=hr(pr().mark((function e(t){var n,r,i,a,o,u,s,c;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,cs(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function fs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ls.receivers=[];var hs=function(){function e(t){_n(this,e),this.target=t,this.handlers=new Set}return Sn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=hr(pr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=fs("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ds(){return window}function ps(){return"undefined"!==typeof ds().WorkerGlobalScope&&"function"===typeof ds().importScripts}function vs(){return ms.apply(this,arguments)}function ms(){return(ms=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ys(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var gs="firebaseLocalStorageDb",ks="firebaseLocalStorage",bs="fbase_key",ws=function(){function e(t){_n(this,e),this.request=t}return Sn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xs(e,t){return e.transaction([ks],t?"readwrite":"readonly").objectStore(ks)}function _s(){var e=indexedDB.deleteDatabase(gs);return new ws(e).toPromise()}function Es(){var e=indexedDB.open(gs,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ks,{keyPath:bs})}catch(r){n(r)}})),e.addEventListener("success",hr(pr().mark((function n(){var r;return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ks)){n.next=12;break}return r.close(),n.next=5,_s();case 5:return n.t0=t,n.next=8,Es();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ss(e,t,n){return Is.apply(this,arguments)}function Is(){return Is=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xs(t,!0).put((i={},(0,xe.Z)(i,bs,n),(0,xe.Z)(i,"value",r),i)),e.abrupt("return",new ws(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=hr(pr().mark((function e(t,n){var r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xs(t,!1).get(n),e.next=3,new ws(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(e,t){var n=xs(e,!0).delete(t);return new ws(n).toPromise()}var Ns=function(){function e(){_n(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Sn(e,[{key:"_openDb",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Es();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=hr(pr().mark((function e(){var t=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ls._getInstance(ps()?self:null),this.receiver._subscribe("keyChanged",function(){var e=hr(pr().mark((function e(n,r){var i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=hr(pr().mark((function e(){var t,n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new hs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ys()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Es();case 5:return t=e.sent,e.next=8,Ss(t,rs,"1");case 8:return e.next=10,As(t,rs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=hr(pr().mark((function e(t,n){var r=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ss(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ts(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=hr(pr().mark((function e(t){var n=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return As(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=hr(pr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xs(e,!1).getAll();return new ws(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Tn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(hr(pr().mark((function t(){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ns.type="LOCAL";var Rs=Ns;function Ps(e,t){return Xi(e,"POST","/v2/accounts/mfaSignIn:start",Ji(e,t))}function Os(e){return Ds.apply(this,arguments)}function Ds(){return Ds=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Ls(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Li("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ms(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Fs=1e12,Us=function(){function e(t){_n(this,e),this.auth=t,this.counter=Fs,this._widgets=new Map}return Sn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new js(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Fs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Fs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Fs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),js=function(){function e(t,n,r){var i=this;_n(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ji(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Sn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Vs=Ms("rcb"),zs=new Ki(3e4,6e4),Zs="https://www.google.com/recaptcha/api.js?",Bs=function(){function e(){_n(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ds().grecaptcha}return Sn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ji(qs(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ds().grecaptcha):new Promise((function(r,i){var a=ds().setTimeout((function(){i(Li(e,"network-request-failed"))}),zs.get());ds()[Vs]=function(){ds().clearTimeout(a),delete ds()[Vs];var o=ds().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Li(e,"internal-error"))},Ls("".concat(Zs,"?").concat(ir({onload:Vs,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Li(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ds().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function qs(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ws=function(){function e(){_n(this,e)}return Sn(e,[{key:"load",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Us(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Hs="recaptcha",Ks={theme:"light",type:"image"},Gs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ks),r=arguments.length>2?arguments[2]:void 0;_n(this,e),this.parameters=n,this.type=Hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ya(r),this.isInvisible="invisible"===this.parameters.size,ji("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ji(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ws:new Bs,this.validateStartingState()}return Sn(e,[{key:"verify",value:function(){var e=hr(pr().mark((function e(){var t,n,r,i=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ji(!this.parameters.sitekey,this.auth,"argument-error"),ji(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ji("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ds()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ji(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=hr(pr().mark((function e(){var t,n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ji(Wi()&&!ps(),this.auth,"internal-error"),e.next=3,Qs();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Os(this.auth);case 8:ji(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ji(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Qs(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var $s=function(){function e(t,n){_n(this,e),this.verificationId=t,this.onConfirmation=n}return Sn(e,[{key:"confirm",value:function(e){var t=Mo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ys(){return Ys=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ya(t),e.next=3,tc(i,n,lr(r));case 3:return a=e.sent,e.abrupt("return",new $s(a,(function(e){return hu(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Js(e,t,n){return Xs.apply(this,arguments)}function Xs(){return Xs=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),e.next=3,ou(!1,i,"phone");case 3:return e.next=5,tc(i.auth,n,lr(r));case 5:return a=e.sent,e.abrupt("return",new $s(a,(function(e){return pu(i,e)})));case 7:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function ec(){return ec=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lr(t),e.next=3,tc(i.auth,n,lr(r));case 3:return a=e.sent,e.abrupt("return",new $s(a,(function(e){return mu(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(e,t,n){return nc.apply(this,arguments)}function nc(){return nc=hr(pr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ji("string"===typeof a,t,"argument-error"),ji(r.type===Hs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ji("enroll"===u.type,t,"internal-error"),e.next=13,Xu(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ji("signin"===u.type,t,"internal-error"),ji(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ps(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,No(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),nc.apply(this,arguments)}function rc(){return rc=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(lr(t),n);case 2:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}var ic=function(){function e(t){_n(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ya(t)}return Sn(e,[{key:"verifyPhoneNumber",value:function(e,t){return tc(this.auth,e,lr(t))}}],[{key:"credential",value:function(e,t){return Mo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Mo._fromTokenResponse(n,r):null}}]),e}();function ac(e,t){return t?Bi(t):(ji(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ic.PROVIDER_ID="phone",ic.PHONE_SIGN_IN_METHOD="phone";var oc=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Sn(n,[{key:"_getIdTokenResponse",value:function(e){return To(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return To(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return To(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(no);function uc(e){return lu(e.auth,new oc(e),e.bypassAuthState)}function sc(e){var t=e.auth,n=e.user;return ji(n,t,"internal-error"),su(n,new oc(e),e.bypassAuthState)}function cc(e){return lc.apply(this,arguments)}function lc(){return lc=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ji(r=t.user,n,"internal-error"),e.abrupt("return",iu(r,new oc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var fc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_n(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Sn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=hr(pr().mark((function t(n,r){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=hr(pr().mark((function e(t){var n,r,i,a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uc;case"linkViaPopup":case"linkViaRedirect":return cc;case"reauthViaPopup":case"reauthViaRedirect":return sc;default:Di(this.auth,"internal-error")}}},{key:"resolve",value:function(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),hc=new Ki(2e3,1e4);function dc(e,t,n){return pc.apply(this,arguments)}function pc(){return pc=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ya(t),Fi(t,n,jo),a=ac(i,r),o=new gc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(){return vc=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fi((i=lr(t)).auth,n,jo),a=ac(i.auth,r),o=new gc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(e,t,n){return yc.apply(this,arguments)}function yc(){return yc=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fi((i=lr(t)).auth,n,jo),a=ac(i.auth,r),o=new gc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}var gc=function(e){Cn(n,e);var t=On(n);function n(e,r,i,a,o){var u;return _n(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ut(u),u}return Sn(n,[{key:"executeNotNull",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ji(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=hr(pr().mark((function e(){var t,n=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zi(1===this.filter.length,"Popup operations only handle one event"),t=fs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Li(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Li(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Li(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,hc.get())}()}}]),n}(fc);gc.currentPopupAction=null;var kc=new Map,bc=function(e){Cn(n,e);var t=On(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _n(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Sn(n,[{key:"execute",value:function(){var e=hr(pr().mark((function e(){var t,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=kc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,wc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,pi(An(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:kc.set(this.auth._key(),t);case 21:return this.bypassAuthState||kc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=hr(pr().mark((function e(t){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",pi(An(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",pi(An(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(fc);function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=hr(pr().mark((function e(t,n){var r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ic(n),i=Sc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t){return Ec.apply(this,arguments)}function Ec(){return Ec=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(t)._set(Ic(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Sc(e){return Bi(e._redirectPersistence)}function Ic(e){return La("pendingRedirect",e.config.apiKey,e.name)}function Tc(e,t,n){return function(e,t,n){return Cc.apply(this,arguments)}(e,t,n)}function Cc(){return Cc=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ya(t),Fi(t,n,jo),a=ac(i,r),e.next=5,_c(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(e,t,n){return function(e,t,n){return Nc.apply(this,arguments)}(e,t,n)}function Nc(){return Nc=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fi((i=lr(t)).auth,n,jo),a=ac(i.auth,r),e.next=5,_c(a,i.auth);case 5:return e.next=7,Fc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Rc(e,t,n){return function(e,t,n){return Pc.apply(this,arguments)}(e,t,n)}function Pc(){return Pc=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fi((i=lr(t)).auth,n,jo),a=ac(i.auth,r),e.next=5,ou(!1,i,n.providerId);case 5:return e.next=7,_c(a,i.auth);case 7:return e.next=9,Fc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t)._initializationPromise;case 2:return e.abrupt("return",Lc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=hr(pr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ya(t),a=ac(i,n),o=new bc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e){return Uc.apply(this,arguments)}function Uc(){return Uc=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}var jc=function(){function e(t){_n(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Sn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!zc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Li(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Vc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Vc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function zc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Zc(e){return Bc.apply(this,arguments)}function Bc(){return Bc=hr(pr().mark((function e(t){var n,r=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Xi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}var qc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wc=/^https?/;function Hc(){return Hc=hr(pr().mark((function e(t){var n,r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zc(t);case 4:n=e.sent,r=n.authorizedDomains,i=Tn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Kc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Di(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Hc.apply(this,arguments)}function Kc(e){var t=qi(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Wc.test(r))return!1;if(qc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Gc=new Ki(3e4,6e4);function Qc(){var e=ds().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,ze.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var $c=null;function Yc(e){return $c=$c||function(e){return new Promise((function(t,n){var r,i,a;function o(){Qc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Qc(),n(Li(e,"network-request-failed"))},timeout:Gc.get()})}if(null===(i=null===(r=ds().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ds().gapi)||void 0===a?void 0:a.load)){var u=Ms("iframefcb");return ds()[u]=function(){gapi.load?o():n(Li(e,"network-request-failed"))},Ls("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw $c=null,e}))}(e),$c}var Jc=new Ki(5e3,15e3),Xc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},el=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tl(e){var t=e.config;ji(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Gi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Gr},i=el.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ir(r).slice(1))}function nl(e){return rl.apply(this,arguments)}function rl(){return rl=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yc(t);case 2:return n=e.sent,ji(r=ds().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:tl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xc,dontclear:!0},(function(e){return new Promise(function(){var n=hr(pr().mark((function n(r,i){var a,o,u;return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ds().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Li(t,"network-request-failed"),o=ds().setTimeout((function(){i(a)}),Jc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}var il={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},al="_blank",ol="http://localhost",ul=function(){function e(t){_n(this,e),this.window=t,this.associatedEvent=null}return Sn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function sl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},il),{width:r.toString(),height:i.toString(),top:a,left:o}),c=qn().toLowerCase();n&&(u=Va(c)?al:n),Ua(c)&&(t=t||ol,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,Se.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ha(c)&&"_self"!==u)return cl(t||"",u),new ul(null);var f=window.open(t||"",u,l);ji(f,e,"popup-blocked");try{f.focus()}catch(h){}return new ul(f)}function cl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ll="__/auth/handler",fl="emulator/auth/handler";function hl(e,t,n,r,i,a){ji(e.config.authDomain,e,"auth-domain-config-required"),ji(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gr,eventId:i};if(t instanceof jo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,Se.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Vo){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ll);return Gi(t,fl)}(e),"?").concat(ir(d).slice(1))}var dl="webStorageSupport",pl=function(){function e(){_n(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ss,this._completeRedirectFn=Lc}return Sn(e,[{key:"_openPopup",value:function(){var e=hr(pr().mark((function e(t,n,r,i){var a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=hl(t,n,r,qi(),i),e.abrupt("return",sl(t,o,fs()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=hr(pr().mark((function e(t,n,r,i){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=hl(t,n,r,qi(),i),ds().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(zi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl(t);case 2:return n=e.sent,r=new jc(t),n.register("authEvent",(function(e){return ji(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(dl,{type:dl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Di(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ga()||ja()||Wa()}}]),e}(),vl=pl,ml=function(){function e(t){_n(this,e),this.factorId=t}return Sn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vi("unexpected MultiFactorSessionType")}}}]),e}(),yl=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this,"phone")).credential=e,r}return Sn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Xi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ji(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Xi(e,"POST","/v2/accounts/mfaSignIn:finalize",Ji(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ml),gl=function(){function e(){_n(this,e)}return Sn(e,null,[{key:"assertion",value:function(e){return yl._fromCredential(e)}}]),e}();gl.FACTOR_ID="phone";var kl,bl="@firebase/auth",wl="0.19.4",xl=function(){function e(t){_n(this,e),this.auth=t,this.internalListeners=new Map}return Sn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ji(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function _l(){return window}kl="Browser",jr(new vr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){ji(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),ji(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:kl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qa(kl)},r=new $a(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),jr(new vr("auth-internal",(function(e){return function(e){return new xl(e)}(Ya(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ei(bl,wl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(kl)),ei(bl,wl,"esm2017");function El(e,t,n){return Sl.apply(this,arguments)}function Sl(){return Sl=hr(pr().mark((function e(t,n,r){var i,a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_l(),o=a.BuildInfo,zi(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Rl(n.sessionId);case 4:return u=e.sent,s={},Wa()?s.ibi=o.packageName:Za()?s.apn=o.packageName:Di(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",hl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function Il(){return Il=hr(pr().mark((function e(t){var n,r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_l(),r=n.BuildInfo,i={},Wa()?i.iosBundleId=r.packageName:Za()?i.androidPackageName=r.packageName:Di(t,"operation-not-supported-in-this-environment"),e.next=5,Zc(t,i);case 5:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function Tl(e){var t=_l().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Cl(e,t,n){return Al.apply(this,arguments)}function Al(){return Al=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_l(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Li(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Za()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Al.apply(this,arguments)}function Nl(e){var t,n,r,i,a,o,u,s,c,l,f=_l();ji("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ji("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ji("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ji("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ji("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Rl(e){return Pl.apply(this,arguments)}function Pl(){return(Pl=hr(pr().mark((function e(t){var n,r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ol(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e){if(zi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Dl=function(e){Cn(n,e);var t=On(n);function n(){var e;return _n(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Sn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),pi(An(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(jc);function Ll(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Vl(),postBody:null,tenantId:e.tenantId,error:Li(e,"no-auth-event")}}function Ml(e,t){return zl()._set(Zl(e),t)}function Fl(e){return Ul.apply(this,arguments)}function Ul(){return Ul=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl()._get(Zl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,zl()._remove(Zl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(e,t){var n,r,i=function(e){var t=Bl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Bl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Bl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Bl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Li(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Vl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function zl(){return Bi(os)}function Zl(e){return La("authEvent",e.config.apiKey,e.name)}function Bl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,li.Z)(t)||(0,fi.Z)(t)||(0,In.Z)(t)||(0,hi.Z)());r[0];return ar(r.slice(1).join("?"))}var ql=function(){function e(){_n(this,e),this._redirectPersistence=ss,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lc}return Sn(e,[{key:"_initialize",value:function(){var e=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Dl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Di(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=hr(pr().mark((function e(t,n,r,i){var a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),kc.clear(),e.next=10,this._originValidation(t);case 10:return o=Ll(t,r,i),e.next=13,Ml(t,o);case 13:return e.next=15,El(t,o,n);case 15:return u=e.sent,e.next=18,Tl(u);case 18:return s=e.sent,e.abrupt("return",Cl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Il.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=_l(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(hr(pr().mark((function n(){return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fl(e);case 2:t.onEvent(Hl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=hr(pr().mark((function n(r){var i,a;return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Fl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=jl(i,r.url)),t.onEvent(a||Hl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");_l().handleOpenURL=function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Wl=ql;function Hl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Li("no-auth-event")}}function Kl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return!("file:"!==Kl()&&"ionic:"!==Kl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ql(){return Qn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function $l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/Edge\/\d+/.test(e)}function Yl(){try{var e=self.localStorage,t=fs();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return Ql()||$l(e)}()||$n()}catch(n){return Jl()&&$n()}return!1}function Jl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Xl(){return("http:"===Kl()||"https:"===Kl()||Kn()||Gl())&&!(Gn()||Hn())&&Yl()&&!Jl()}function ef(){return Gl()&&"undefined"!==typeof document}function tf(){return nf.apply(this,arguments)}function nf(){return(nf=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ef()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rf={LOCAL:"local",NONE:"none",SESSION:"session"},af=ji,of="persistence";function uf(e,t){af(Object.values(rf).includes(t),e,"invalid-persistence-type"),Gn()?af(t!==rf.SESSION,e,"unsupported-persistence-type"):Hn()?af(t===rf.NONE,e,"unsupported-persistence-type"):Jl()?af(t===rf.NONE||t===rf.LOCAL&&$n(),e,"unsupported-persistence-type"):af(t===rf.NONE||Yl(),e,"unsupported-persistence-type")}function sf(e){return cf.apply(this,arguments)}function cf(){return cf=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=lf(),r=La(of,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(){return"undefined"!==typeof window?window:null}var ff=ji,hf=function(){function e(){_n(this,e),this.browserResolver=Bi(vl),this.cordovaResolver=Bi(Wl),this.underlyingResolver=null,this._redirectPersistence=ss,this._completeRedirectFn=Lc}return Sn(e,[{key:"_initialize",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=hr(pr().mark((function e(t,n,r,i){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=hr(pr().mark((function e(t,n,r,i){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ef()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ff(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function df(e){return e.unwrap()}function pf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new kf(e,function(e,t){var n,r=lr(e),i=t;return ji(t.customData.operationType,r,"argument-error"),ji(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ju._fromError(r,i)}(e,t));else if(r){var i=vf(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function vf(e){var t=(e instanceof Yn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Yn)&&"temporaryProof"in t&&"phoneNumber"in t)return ic.credentialFromResult(e);var n,r=t.providerId;if(!r||r===bi)return null;switch(r){case ki:n=Bo;break;case yi:n=Zo;break;case gi:n=qo;break;case wi:n=Ko;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Wo._create(r,u):Ao._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new zo(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Yn?n.credentialFromError(e):n.credentialFromResult(e)}function mf(e,t){return t.catch((function(t){throw t instanceof Yn&&pf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,vf(t)),additionalUserInfo:$u(e),user:bf.getOrCreate(r)}}))}function yf(e,t){return gf.apply(this,arguments)}function gf(){return gf=hr(pr().mark((function e(t,n){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return mf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}var kf=function(){function e(t,n){_n(this,e),this.resolver=n,this.auth=t.wrapped()}return Sn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return mf(df(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),bf=function(){function e(t){_n(this,e),this._delegate=t,this.multiFactor=function(e){var t=lr(e);return ns.has(t)||ns.set(t,ts._fromUser(t)),ns.get(t)}(t)}return Sn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mf(this.auth,pu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yf(this.auth,Js(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mf(this.auth,mc(this._delegate,t,hf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sf(Ya(this.auth));case 2:return e.abrupt("return",Rc(this._delegate,t,hf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mf(this.auth,mu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return yf(this.auth,function(e,t,n){return ec.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return mf(this.auth,function(e,t,n){return vc.apply(this,arguments)}(this._delegate,e,hf))}},{key:"reauthenticateWithRedirect",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sf(Ya(this.auth));case 2:return e.abrupt("return",Ac(this._delegate,t,hf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Fu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Zu(lr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Zu(lr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return rc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return zu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Uu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();bf.USER_MAP=new WeakMap;var wf=ji,xf=function(){function e(t,n){if(_n(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;wf(r,"invalid-api-key",{appName:t.name});var i=[Da];if("undefined"!==typeof window){i=function(e,t){var n=lf();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=La(of,e,t);switch(n.sessionStorage.getItem(r)){case rf.NONE:return[Da];case rf.LOCAL:return[Rs,ss];case rf.SESSION:return[ss];default:return[]}}(r,t.name);for(var a=0,o=[Rs,os,ss];a<o.length;a++){var u=o[a];i.includes(u)||i.push(u)}}wf(r,"invalid-api-key",{appName:t.name});var s="undefined"!==typeof window?hf:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:s}}),this._delegate._updateErrorMap(Ai),this.linkUnderlyingAuth()}return Sn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?bf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Xa(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Iu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Tu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Su.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mf(this._delegate,Nu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Mu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Fo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wf(Xl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Oc(this._delegate,hf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",mf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ya(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=_f(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=_f(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Pu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Eu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uf(this._delegate,t),e.t0=t,e.next=e.t0===rf.SESSION?4:e.t0===rf.LOCAL?6:e.t0===rf.NONE?11:13;break;case 4:return n=ss,e.abrupt("break",14);case 6:return e.next=8,Bi(Rs)._isAvailable();case 8:return r=e.sent,n=r?Rs:os,e.abrupt("break",14);case 11:return n=Da,e.abrupt("break",14);case 13:return e.abrupt("return",Di("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return mf(this._delegate,function(e){return Jo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return mf(this._delegate,hu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return mf(this._delegate,function(e,t){return bu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return mf(this._delegate,function(e,t,n){return hu(lr(e),Uo.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return mf(this._delegate,function(e,t,n){return Ou.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return yf(this._delegate,function(e,t,n){return Ys.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wf(Xl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",mf(this._delegate,dc(this._delegate,t,hf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wf(Xl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sf(this._delegate);case 3:return e.abrupt("return",Tc(this._delegate,t,hf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Au.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function _f(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&bf.getOrCreate(e))},error:t,complete:n}}xf.Persistence=rf;var Ef=function(){function e(){_n(this,e),this.providerId="phone",this._delegate=new ic(df(ci.auth()))}return Sn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ic.credential(e,t)}}]),e}();Ef.PHONE_SIGN_IN_METHOD=ic.PHONE_SIGN_IN_METHOD,Ef.PROVIDER_ID=ic.PROVIDER_ID;var Sf,If=ji,Tf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ci.app();_n(this,e),If(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Gs(t,n,i.auth()),this.type=this._delegate.type}return Sn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Sf=ci).INTERNAL.registerComponent(new vr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new xf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xi,PASSWORD_RESET:_i,RECOVER_EMAIL:Ei,REVERT_SECOND_FACTOR_ADDITION:Si,VERIFY_AND_CHANGE_EMAIL:Ii,VERIFY_EMAIL:Ti}},EmailAuthProvider:Uo,FacebookAuthProvider:Zo,GithubAuthProvider:qo,GoogleAuthProvider:Bo,OAuthProvider:zo,SAMLAuthProvider:Ho,PhoneAuthProvider:Ef,PhoneMultiFactorGenerator:gl,RecaptchaVerifier:Tf,TwitterAuthProvider:Ko,Auth:xf,AuthCredential:no,Error:Yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Sf.registerVersion("@firebase/auth-compat","0.2.4");var Cf,Af="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Nf={},Rf=Rf||{},Pf=Af||self;function Of(){}function Df(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Lf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Mf="closure_uid_"+(1e9*Math.random()>>>0),Ff=0;function Uf(e,t,n){return e.call.apply(e.bind,arguments)}function jf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vf(e,t,n){return(Vf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uf:jf).apply(null,arguments)}function zf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Zf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Bf(){this.s=this.s,this.o=this.o}var qf={};Bf.prototype.s=!1,Bf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Mf)&&e[Mf]||(e[Mf]=++Ff)}(this);delete qf[e]}},Bf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Wf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Hf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Kf(e){return Array.prototype.concat.apply([],arguments)}function Gf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qf(e){return/^[\s\xa0]*$/.test(e)}var $f,Yf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Jf(e,t){return-1!=e.indexOf(t)}function Xf(e,t){return e<t?-1:e>t?1:0}e:{var eh=Pf.navigator;if(eh){var th=eh.userAgent;if(th){$f=th;break e}}$f=""}function nh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function rh(e){var t={};for(var n in e)t[n]=e[n];return t}var ih="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ah(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ih.length;a++)n=ih[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oh(e){return oh[" "](e),e}oh[" "]=Of;var uh,sh=Jf($f,"Opera"),ch=Jf($f,"Trident")||Jf($f,"MSIE"),lh=Jf($f,"Edge"),fh=lh||ch,hh=Jf($f,"Gecko")&&!(Jf($f.toLowerCase(),"webkit")&&!Jf($f,"Edge"))&&!(Jf($f,"Trident")||Jf($f,"MSIE"))&&!Jf($f,"Edge"),dh=Jf($f.toLowerCase(),"webkit")&&!Jf($f,"Edge");function ph(){var e=Pf.document;return e?e.documentMode:void 0}e:{var vh="",mh=function(){var e=$f;return hh?/rv:([^\);]+)(\)|;)/.exec(e):lh?/Edge\/([\d\.]+)/.exec(e):ch?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dh?/WebKit\/(\S+)/.exec(e):sh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(mh&&(vh=mh?mh[1]:""),ch){var yh=ph();if(null!=yh&&yh>parseFloat(vh)){uh=String(yh);break e}}uh=vh}var gh,kh={};function bh(){return function(e){var t=kh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Yf(String(uh)).split("."),n=Yf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Xf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Xf(0==a[2].length,0==o[2].length)||Xf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Pf.document&&ch){var wh=ph();gh=wh||(parseInt(uh,10)||void 0)}else gh=void 0;var xh=gh,_h=function(){if(!Pf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pf.addEventListener("test",Of,t),Pf.removeEventListener("test",Of,t)}catch(n){}return e}();function Eh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Sh(e,t){if(Eh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hh){e:{try{oh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ih[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sh.Z.h.call(this)}}Eh.prototype.h=function(){this.defaultPrevented=!0},Zf(Sh,Eh);var Ih={2:"touch",3:"pen",4:"mouse"};Sh.prototype.h=function(){Sh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Th="closure_listenable_"+(1e6*Math.random()|0),Ch=0;function Ah(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ch,this.ca=this.fa=!1}function Nh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Rh(e){this.src=e,this.g={},this.h=0}function Ph(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Wf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Nh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Oh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Rh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Oh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ah(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Dh="closure_lm_"+(1e6*Math.random()|0),Lh={};function Mh(e,t,n,r,i){if(r&&r.once)return Uh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Mh(e,t[a],n,r,i);return null}return n=Wh(n),e&&e[Th]?e.N(t,n,Lf(r)?!!r.capture:!!r,i):Fh(e,t,n,!1,r,i)}function Fh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Lf(i)?!!i.capture:!!i,u=Bh(e);if(u||(e[Dh]=u=new Rh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_h||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Uh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Uh(e,t[a],n,r,i);return null}return n=Wh(n),e&&e[Th]?e.O(t,n,Lf(r)?!!r.capture:!!r,i):Fh(e,t,n,!0,r,i)}function jh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)jh(e,t[a],n,r,i);else r=Lf(r)?!!r.capture:!!r,n=Wh(n),e&&e[Th]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Oh(a=e.g[t],n,r,i))&&(Nh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Bh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Oh(t,n,r,i)),(n=-1<e?t[e]:null)&&Vh(n))}function Vh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Th])Ph(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bh(t))?(Ph(n,e),0==n.h&&(n.src=null,t[Dh]=null)):Nh(e)}}}function zh(e){return e in Lh?Lh[e]:Lh[e]="on"+e}function Zh(e,t){if(e.ca)e=!0;else{t=new Sh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Vh(e),e=n.call(r,t)}return e}function Bh(e){return(e=e[Dh])instanceof Rh?e:null}var qh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wh(e){return"function"===typeof e?e:(e[qh]||(e[qh]=function(t){return e.handleEvent(t)}),e[qh])}function Hh(){Bf.call(this),this.i=new Rh(this),this.P=this,this.I=null}function Kh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Eh(t,e);else if(t instanceof Eh)t.target=t.target||e;else{var i=t;ah(t=new Eh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Gh(o,r,!0,t)&&i}if(i=Gh(o=t.g=e,r,!0,t)&&i,i=Gh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Gh(o=t.g=n[a],r,!1,t)&&i}function Gh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Ph(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Zf(Hh,Bf),Hh.prototype[Th]=!0,Hh.prototype.removeEventListener=function(e,t,n,r){jh(this,e,t,n,r)},Hh.prototype.M=function(){if(Hh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nh(n[r]);delete t.g[e],t.h--}}this.I=null},Hh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Hh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qh=Pf.JSON.stringify;function $h(){var e=id,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Yh,Jh=function(){function e(){_n(this,e),this.h=this.g=null}return Sn(e,[{key:"add",value:function(e,t){var n=Xh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xh=new(function(){function e(t,n){_n(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Sn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ed}),(function(e){return e.reset()})),ed=function(){function e(){_n(this,e),this.next=this.g=this.h=null}return Sn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function td(e){Pf.setTimeout((function(){throw e}),0)}function nd(e,t){Yh||function(){var e=Pf.Promise.resolve(void 0);Yh=function(){e.then(ad)}}(),rd||(Yh(),rd=!0),id.add(e,t)}var rd=!1,id=new Jh;function ad(){for(var e;e=$h();){try{e.h.call(e.g)}catch(n){td(n)}var t=Xh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rd=!1}function od(e,t){Hh.call(this),this.h=e||1,this.g=t||Pf,this.j=Vf(this.kb,this),this.l=Date.now()}function ud(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function sd(e,t,n){if("function"===typeof e)n&&(e=Vf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pf.setTimeout(e,t||0)}function cd(e){e.g=sd((function(){e.g=null,e.i&&(e.i=!1,cd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Zf(od,Hh),(Cf=od.prototype).da=!1,Cf.S=null,Cf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kh(this,"tick"),this.da&&(ud(this),this.start()))}},Cf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cf.M=function(){od.Z.M.call(this),ud(this),delete this.g};var ld=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Sn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:cd(this)}},{key:"M",value:function(){pi(An(n.prototype),"M",this).call(this),this.g&&(Pf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Bf);function fd(e){Bf.call(this),this.h=e,this.g={}}Zf(fd,Bf);var hd=[];function dd(e,t,n,r){Array.isArray(n)||(n&&(hd[0]=n.toString()),n=hd);for(var i=0;i<n.length;i++){var a=Mh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function pd(e){nh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vh(e)}),e),e.g={}}function vd(){this.g=!0}function md(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Qh(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}fd.prototype.M=function(){fd.Z.M.call(this),pd(this)},fd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vd.prototype.Aa=function(){this.g=!1},vd.prototype.info=function(){};var yd={},gd=null;function kd(){return gd=gd||new Hh}function bd(e){Eh.call(this,yd.Ma,e)}function wd(e){var t=kd();Kh(t,new bd(t,e))}function xd(e,t){Eh.call(this,yd.STAT_EVENT,e),this.stat=t}function _d(e){var t=kd();Kh(t,new xd(t,e))}function Ed(e,t){Eh.call(this,yd.Na,e),this.size=t}function Sd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pf.setTimeout((function(){e()}),t)}yd.Ma="serverreachability",Zf(bd,Eh),yd.STAT_EVENT="statevent",Zf(xd,Eh),yd.Na="timingevent",Zf(Ed,Eh);var Id={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Td={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cd(){}function Ad(e){return e.h||(e.h=e.i())}function Nd(){}Cd.prototype.h=null;var Rd,Pd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Od(){Eh.call(this,"d")}function Dd(){Eh.call(this,"c")}function Ld(){}function Md(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new fd(this),this.P=Ud,e=fh?125:void 0,this.W=new od(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fd}function Fd(){this.i=null,this.g="",this.h=!1}Zf(Od,Eh),Zf(Dd,Eh),Zf(Ld,Cd),Ld.prototype.g=function(){return new XMLHttpRequest},Ld.prototype.i=function(){return{}},Rd=new Ld;var Ud=45e3,jd={},Vd={};function zd(e,t,n){e.K=1,e.v=lp(ip(t)),e.s=n,e.U=!0,Zd(e,null)}function Zd(e,t){e.F=Date.now(),Hd(e),e.A=ip(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),_p(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Fd,e.g=Sv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ld(Vf(e.Ia,e,e.g),e.O)),dd(e.V,e.g,"readystatechange",e.gb),t=e.H?rh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),wd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Bd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function qd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Wd(e,n))==Vd){4==t&&(e.o=4,_d(14),i=!1),md(e.j,e.m,null,"[Incomplete Response]");break}if(r==jd){e.o=4,_d(15),md(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}md(e.j,e.m,r,null),Yd(e,r)}Bd(e)&&r!=Vd&&r!=jd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,_d(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),yv(t),t.L=!0,_d(11))):(md(e.j,e.m,n,"[Invalid Chunked Response]"),$d(e),Qd(e))}function Wd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vd:(n=Number(t.substring(n,r)),isNaN(n)?jd:(r+=1)+n>t.length?Vd:(t=t.substr(r,n),e.C=r+n,t))}function Hd(e){e.Y=Date.now()+e.P,Kd(e,e.P)}function Kd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sd(Vf(e.eb,e),t)}function Gd(e){e.B&&(Pf.clearTimeout(e.B),e.B=null)}function Qd(e){0==e.l.G||e.I||bv(e.l,e)}function $d(e){Gd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ud(e.W),pd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Rp(n.i,e)))if(n.I=e.N,!e.J&&Rp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;kv(n),sv(n)}mv(n),_d(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Sd(Vf(n.ab,n),6e3));if(1>=Np(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else xv(n,11)}else if((e.J||n.g==e)&&kv(n),!Qf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Jf(l,"spdy")||Jf(l,"quic")||Jf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Pp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,cp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ev(r,r.H?r.la:null,r.W),d.J){Op(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Gd(p),Hd(p)),r.g=d}else vv(r);0<n.l.length&&fv(n)}else"stop"!=a[0]&&"close"!=a[0]||xv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?xv(n,7):uv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}wd(4)}catch(a){}}function Jd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Df(e)||"string"===typeof e)Hf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Df(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Df(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Xd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Xd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ep(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];tp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)tp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function tp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Cf=Md.prototype).setTimeout=function(e){this.P=e},Cf.gb=function(e){e=e.target;var t=this.L;t&&3==nv(e)?t.l():this.Ia(e)},Cf.Ia=function(e){try{if(e==this.g)e:{var t=nv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||fh||this.g&&(this.h.h||this.g.ga()||rv(this.g)))){this.I||4!=t||7==n||wd(8==n||0>=r?3:2),Gd(this);var i=this.g.ba();this.N=i;t:if(Bd(this)){var a=rv(this.g);e="";var o=a.length,u=4==nv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$d(this),Qd(this);var s="";break t}this.h.i=new Pf.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,_d(12),$d(this),Qd(this);break e}md(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yd(this,i)}this.U?(qd(this,t,s),fh&&this.i&&3==t&&(dd(this.V,this.W,"tick",this.fb),this.W.start())):(md(this.j,this.m,s,null),Yd(this,s)),4==t&&$d(this),this.i&&!this.I&&(4==t?bv(this.l,this):(this.i=!1,Hd(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,_d(12)):(this.o=0,_d(13)),$d(this),Qd(this)}}}catch(t){}},Cf.fb=function(){if(this.g){var e=nv(this.g),t=this.g.ga();this.C<t.length&&(Gd(this),qd(this,e,t),this.i&&4!=e&&Hd(this))}},Cf.cancel=function(){this.I=!0,$d(this)},Cf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(wd(3),_d(17)),$d(this),this.o=2,Qd(this)):Kd(this,this.Y-e)},(Cf=Xd.prototype).R=function(){ep(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Cf.T=function(){return ep(this),this.g.concat()},Cf.get=function(e,t){return tp(this.h,e)?this.h[e]:t},Cf.set=function(e,t){tp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Cf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var np=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof rp){this.g=void 0!==t?t:e.g,ap(this,e.j),this.s=e.s,op(this,e.i),up(this,e.m),this.l=e.l,t=e.h;var n=new kp;n.i=t.i,t.g&&(n.g=new Xd(t.g),n.h=t.h),sp(this,n),this.o=e.o}else e&&(n=String(e).match(np))?(this.g=!!t,ap(this,n[1]||"",!0),this.s=fp(n[2]||""),op(this,n[3]||"",!0),up(this,n[4]),this.l=fp(n[5]||"",!0),sp(this,n[6]||"",!0),this.o=fp(n[7]||"")):(this.g=!!t,this.h=new kp(null,this.g))}function ip(e){return new rp(e)}function ap(e,t,n){e.j=n?fp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function op(e,t,n){e.i=n?fp(t,!0):t}function up(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sp(e,t,n){t instanceof kp?(e.h=t,function(e,t){t&&!e.j&&(bp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wp(this,t),_p(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=hp(t,yp)),e.h=new kp(t,e.g))}function cp(e,t,n){e.h.set(t,n)}function lp(e){return cp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,dp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hp(t,pp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hp(t,pp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(hp(n,"/"==n.charAt(0)?mp:vp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hp(n,gp)),e.join("")};var pp=/[#\/\?@]/g,vp=/[#\?:]/g,mp=/[#\?]/g,yp=/[#\?@]/g,gp=/#/g;function kp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bp(e){e.g||(e.g=new Xd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wp(e,t){bp(e),t=Ep(e,t),tp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,tp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ep(e)))}function xp(e,t){return bp(e),t=Ep(e,t),tp(e.g.h,t)}function _p(e,t,n){wp(e,t),0<n.length&&(e.i=null,e.g.set(Ep(e,t),Gf(n)),e.h+=n.length)}function Ep(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cf=kp.prototype).add=function(e,t){bp(this),this.i=null,e=Ep(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cf.forEach=function(e,t){bp(this),this.g.forEach((function(n,r){Hf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Cf.T=function(){bp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Cf.R=function(e){bp(this);var t=[];if("string"===typeof e)xp(this,e)&&(t=Kf(t,this.g.get(Ep(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Kf(t,e[n])}return t},Cf.set=function(e,t){return bp(this),this.i=null,xp(this,e=Ep(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Cf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Sp=Sn((function e(t,n){_n(this,e),this.h=t,this.g=n}));function Ip(e){this.l=e||Cp,Pf.PerformanceNavigationTiming?e=0<(e=Pf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pf.g&&Pf.g.Ea&&Pf.g.Ea()&&Pf.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tp,Cp=10;function Ap(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Np(e){return e.h?1:e.g?e.g.size:0}function Rp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pp(e,t){e.g?e.g.add(t):e.h=t}function Op(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Dp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Tn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Gf(e.i)}function Lp(){}function Mp(){this.g=new Lp}function Fp(e,t,n){var r=n||"";try{Jd(e,(function(e,n){var i=e;Lf(e)&&(i=Qh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Up(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function jp(e){this.l=e.$b||null,this.j=e.ib||!1}function Vp(e,t){Hh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=zp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ip.prototype.cancel=function(){if(this.i=Dp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Tn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Lp.prototype.stringify=function(e){return Pf.JSON.stringify(e,void 0)},Lp.prototype.parse=function(e){return Pf.JSON.parse(e,void 0)},Zf(jp,Cd),jp.prototype.g=function(){return new Vp(this.l,this.j)},jp.prototype.i=(Tp={},function(){return Tp}),Zf(Vp,Hh);var zp=0;function Zp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Bp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qp(e)}function qp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cf=Vp.prototype).open=function(e,t){if(this.readyState!=zp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qp(this)},Cf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Pf).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Cf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bp(this)),this.readyState=zp},Cf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qp(this)),this.g&&(this.readyState=3,qp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Pf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Cf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bp(this):qp(this),3==this.readyState&&Zp(this)}},Cf.Ua=function(e){this.g&&(this.response=this.responseText=e,Bp(this))},Cf.Ta=function(e){this.g&&(this.response=e,Bp(this))},Cf.ha=function(){this.g&&Bp(this)},Cf.setRequestHeader=function(e,t){this.v.append(e,t)},Cf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wp=Pf.JSON.parse;function Hp(e){Hh.call(this),this.headers=new Xd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Kp,this.K=this.L=!1}Zf(Hp,Hh);var Kp="",Gp=/^https?$/i,Qp=["POST","PUT"];function $p(e){return"content-type"==e.toLowerCase()}function Yp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Jp(e),ev(e)}function Jp(e){e.D||(e.D=!0,Kh(e,"complete"),Kh(e,"error"))}function Xp(e){if(e.h&&"undefined"!=typeof Rf&&(!e.C[1]||4!=nv(e)||2!=e.ba()))if(e.v&&4==nv(e))sd(e.Fa,0,e);else if(Kh(e,"readystatechange"),4==nv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(np)[1]||null;if(!a&&Pf.self&&Pf.self.location){var o=Pf.self.location.protocol;a=o.substr(0,o.length-1)}i=!Gp.test(a?a.toLowerCase():"")}t=i}if(t)Kh(e,"complete"),Kh(e,"success");else{e.m=6;try{var u=2<nv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Jp(e)}}finally{ev(e)}}}function ev(e,t){if(e.g){tv(e);var n=e.g,r=e.C[0]?Of:null;e.g=null,e.C=null,t||Kh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function tv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Pf.clearTimeout(e.A),e.A=null)}function nv(e){return e.g?e.g.readyState:0}function rv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Kp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function iv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return nh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):cp(e,t,n))}function av(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ov(e){this.za=0,this.l=[],this.h=new vd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=av("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=av("baseRetryDelayMs",5e3,e),this.$a=av("retryDelaySeedMs",1e4,e),this.Ya=av("forwardChannelMaxRetries",2,e),this.ra=av("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ip(e&&e.concurrentRequestLimit),this.Ca=new Mp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function uv(e){if(cv(e),3==e.G){var t=e.V++,n=ip(e.F);cp(n,"SID",e.J),cp(n,"RID",t),cp(n,"TYPE","terminate"),dv(e,n),(t=new Md(e,e.h,t,void 0)).K=2,t.v=lp(ip(n)),n=!1,Pf.navigator&&Pf.navigator.sendBeacon&&(n=Pf.navigator.sendBeacon(t.v.toString(),"")),!n&&Pf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Sv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Hd(t)}_v(e)}function sv(e){e.g&&(yv(e),e.g.cancel(),e.g=null)}function cv(e){sv(e),e.u&&(Pf.clearTimeout(e.u),e.u=null),kv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Pf.clearTimeout(e.m),e.m=null)}function lv(e,t){e.l.push(new Sp(e.Za++,t)),3==e.G&&fv(e)}function fv(e){Ap(e.i)||e.m||(e.m=!0,nd(e.Ha,e),e.C=0)}function hv(e,t){var n;n=t?t.m:e.V++;var r=ip(e.F);cp(r,"SID",e.J),cp(r,"RID",n),cp(r,"AID",e.U),dv(e,r),e.o&&e.s&&iv(r,e.o,e.s),n=new Md(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=pv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Pp(e.i,n),zd(n,r,t)}function dv(e,t){e.j&&Jd({},(function(e,n){cp(t,n,e)}))}function pv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Fp(l,o,"req"+c+"_")}catch(rm){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function vv(e){e.g||e.u||(e.Y=1,nd(e.Ga,e),e.A=0)}function mv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Sd(Vf(e.Ga,e),wv(e,e.A)),e.A++,!0)}function yv(e){null!=e.B&&(Pf.clearTimeout(e.B),e.B=null)}function gv(e){e.g=new Md(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ip(e.oa);cp(t,"RID","rpc"),cp(t,"SID",e.J),cp(t,"CI",e.N?"0":"1"),cp(t,"AID",e.U),dv(e,t),cp(t,"TYPE","xmlhttp"),e.o&&e.s&&iv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=lp(ip(t)),n.s=null,n.U=!0,Zd(n,e)}function kv(e){null!=e.v&&(Pf.clearTimeout(e.v),e.v=null)}function bv(e,t){var n=null;if(e.g==t){kv(e),yv(e),e.g=null;var r=2}else{if(!Rp(e.i,t))return;n=t.D,Op(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Kh(r=kd(),new Ed(r,n,t,i)),fv(e)}else vv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Np(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Sd(Vf(e.Ha,e,t),wv(e,e.C)),e.C++,!0))}(e,t)||2==r&&mv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xv(e,5);break;case 4:xv(e,10);break;case 3:xv(e,6);break;default:xv(e,2)}}function wv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function xv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Vf(e.jb,e);n||(n=new rp("//www.google.com/images/cleardot.gif"),Pf.location&&"http"==Pf.location.protocol||ap(n,"https"),lp(n)),function(e,t){var n=new vd;if(Pf.Image){var r=new Image;r.onload=zf(Up,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zf(Up,n,r,"TestLoadImage: error",!1,t),r.onabort=zf(Up,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zf(Up,n,r,"TestLoadImage: timeout",!1,t),Pf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else _d(2);e.G=0,e.j&&e.j.va(t),_v(e),cv(e)}function _v(e){e.G=0,e.I=-1,e.j&&(0==Dp(e.i).length&&0==e.l.length||(e.i.i.length=0,Gf(e.l),e.l.length=0),e.j.ua())}function Ev(e,t,n){var r=function(e){return e instanceof rp?ip(e):new rp(e,void 0)}(n);if(""!=r.i)t&&op(r,t+"."+r.i),up(r,r.m);else{var i=Pf.location;r=function(e,t,n,r){var i=new rp(null,void 0);return e&&ap(i,e),t&&op(i,t),n&&up(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&nh(e.aa,(function(e,t){cp(r,t,e)})),t=e.D,n=e.sa,t&&n&&cp(r,t,n),cp(r,"VER",e.ma),dv(e,r),r}function Sv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Hp(new jp({ib:!0})):new Hp(e.qa)).L=e.H,t}function Iv(){}function Tv(){if(ch&&!(10<=Number(xh)))throw Error("Environmental error: no available transport.")}function Cv(e,t){Hh.call(this),this.g=new ov(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Qf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Rv(this)}function Av(e){Od.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nv(){Dd.call(this),this.status=1}function Rv(e){this.g=e}(Cf=Hp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rd.g(),this.C=this.u?Ad(this.u):Ad(Rd),this.g.onreadystatechange=Vf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Yp(this,a)}e=n||"";var i=new Xd(this.headers);r&&Jd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=$p,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Pf.FormData&&e instanceof Pf.FormData,!(0<=Wf(Qp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tv(this),0<this.B&&((this.K=function(e){return ch&&bh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vf(this.pa,this)):this.A=sd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Yp(this,a)}},Cf.pa=function(){"undefined"!=typeof Rf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kh(this,"timeout"),this.abort(8))},Cf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kh(this,"complete"),Kh(this,"abort"),ev(this))},Cf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ev(this,!0)),Hp.Z.M.call(this)},Cf.Fa=function(){this.s||(this.F||this.v||this.l?Xp(this):this.cb())},Cf.cb=function(){Xp(this)},Cf.ba=function(){try{return 2<nv(this)?this.g.status:-1}catch(Tp){return-1}},Cf.ga=function(){try{return this.g?this.g.responseText:""}catch(Tp){return""}},Cf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wp(t)}},Cf.Da=function(){return this.m},Cf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cf=ov.prototype).ma=8,Cf.G=1,Cf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Cf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Md(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ah(n=rh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=pv(this,t,r),cp(i=ip(this.F),"RID",e),cp(i,"CVER",22),this.D&&cp(i,"X-HTTP-Session-Id",this.D),dv(this,i),this.o&&n&&iv(i,this.o,n),Pp(this.i,t),this.Ra&&cp(i,"TYPE","init"),this.ja?(cp(i,"$req",r),cp(i,"SID","null"),t.$=!0,zd(t,i,null)):zd(t,i,r),this.G=2}}else 3==this.G&&(e?hv(this,e):0==this.l.length||Ap(this.i)||hv(this))},Cf.Ga=function(){if(this.u=null,gv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Sd(Vf(this.bb,this),e)}},Cf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_d(10),sv(this),gv(this))},Cf.ab=function(){null!=this.v&&(this.v=null,sv(this),mv(this),_d(19))},Cf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),_d(2)):(this.h.info("Failed to ping google.com"),_d(1))},(Cf=Iv.prototype).xa=function(){},Cf.wa=function(){},Cf.va=function(){},Cf.ua=function(){},Cf.Oa=function(){},Tv.prototype.g=function(e,t){return new Cv(e,t)},Zf(Cv,Hh),Cv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),nd(Vf(e.hb,e,t))),_d(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ev(e,null,e.W),fv(e)},Cv.prototype.close=function(){uv(this.g)},Cv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,lv(this.g,t)}else this.v?((t={}).__data__=Qh(e),lv(this.g,t)):lv(this.g,e)},Cv.prototype.M=function(){this.g.j=null,delete this.j,uv(this.g),delete this.g,Cv.Z.M.call(this)},Zf(Av,Od),Zf(Nv,Dd),Zf(Rv,Iv),Rv.prototype.xa=function(){Kh(this.g,"a")},Rv.prototype.wa=function(e){Kh(this.g,new Av(e))},Rv.prototype.va=function(e){Kh(this.g,new Nv(e))},Rv.prototype.ua=function(){Kh(this.g,"b")},Tv.prototype.createWebChannel=Tv.prototype.g,Cv.prototype.send=Cv.prototype.u,Cv.prototype.open=Cv.prototype.m,Cv.prototype.close=Cv.prototype.close,Id.NO_ERROR=0,Id.TIMEOUT=8,Id.HTTP_ERROR=6,Td.COMPLETE="complete",Nd.EventType=Pd,Pd.OPEN="a",Pd.CLOSE="b",Pd.ERROR="c",Pd.MESSAGE="d",Hh.prototype.listen=Hh.prototype.N,Hp.prototype.listenOnce=Hp.prototype.O,Hp.prototype.getLastError=Hp.prototype.La,Hp.prototype.getLastErrorCode=Hp.prototype.Da,Hp.prototype.getStatus=Hp.prototype.ba,Hp.prototype.getResponseJson=Hp.prototype.Qa,Hp.prototype.getResponseText=Hp.prototype.ga,Hp.prototype.send=Hp.prototype.ea;var Pv=Nf.createWebChannelTransport=function(){return new Tv},Ov=Nf.getStatEventTarget=function(){return kd()},Dv=Nf.ErrorCode=Id,Lv=Nf.EventType=Td,Mv=Nf.Event=yd,Fv=Nf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Uv=Nf.FetchXmlHttpFactory=jp,jv=Nf.WebChannel=Nd,Vv=Nf.XhrIo=Hp,zv="@firebase/firestore",Zv=function(){function e(t){_n(this,e),this.uid=t}return Sn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Zv.UNAUTHENTICATED=new Zv(null),Zv.GOOGLE_CREDENTIALS=new Zv("google-credentials-uid"),Zv.FIRST_PARTY=new Zv("first-party-uid"),Zv.MOCK_USER=new Zv("mock-user");var Bv="9.6.1",qv=new Cr("@firebase/firestore");function Wv(){return qv.logLevel}function Hv(e){if(qv.logLevel<=kr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qv);qv.debug.apply(qv,["Firestore (".concat(Bv,"): ").concat(e)].concat((0,ze.Z)(i)))}}function Kv(e){if(qv.logLevel<=kr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qv);qv.error.apply(qv,["Firestore (".concat(Bv,"): ").concat(e)].concat((0,ze.Z)(i)))}}function Gv(e){if(qv.logLevel<=kr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qv);qv.warn.apply(qv,["Firestore (".concat(Bv,"): ").concat(e)].concat((0,ze.Z)(i)))}}function Qv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function $v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Bv,") INTERNAL ASSERTION FAILED: ")+e;throw Kv(t),new Error(t)}function Yv(e,t){e||$v()}function Jv(e,t){return e}var Xv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},em=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Sn(n)}(Ln(Error)),tm=Sn((function e(){var t=this;_n(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),nm=Sn((function e(t,n){_n(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),rm=function(){function e(){_n(this,e)}return Sn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),im=function(){function e(t){_n(this,e),this.token=t,this.changeListener=null}return Sn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),am=function(){function e(t){_n(this,e),this.t=t,this.currentUser=Zv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Sn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new tm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new tm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Hv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Hv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new tm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Hv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yv("string"==typeof n.accessToken),new nm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Yv(null===e||"string"==typeof e),new Zv(e)}}]),e}(),om=Sn((function e(t,n,r){_n(this,e),this.type="FirstParty",this.user=Zv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),um=function(){function e(t,n,r){_n(this,e),this.h=t,this.l=n,this.m=r}return Sn(e,[{key:"getToken",value:function(){return Promise.resolve(new om(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),sm=Sn((function e(t){_n(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),cm=function(){function e(t){_n(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Sn(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Hv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Hv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Hv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Yv("string"==typeof e.token),new sm(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),lm=function(){function e(t,n){var r=this;_n(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Sn(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function fm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}lm.I=-1;var hm=function(){function e(){_n(this,e)}return Sn(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=fm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function dm(e,t){return e<t?-1:e>t?1:0}function pm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function vm(e){return e+"\0"}var mm=function(){function e(t,n){if(_n(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new em(Xv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new em(Xv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new em(Xv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new em(Xv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Sn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?dm(this.nanoseconds,e.nanoseconds):dm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ym=function(){function e(t){_n(this,e),this.timestamp=t}return Sn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new mm(0,0))}}]),e}();function gm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function km(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wm=function(){function e(t,n,r){_n(this,e),void 0===n?n=0:n>t.length&&$v(),void 0===r?r=t.length-n:r>t.length-n&&$v(),this.segments=t,this.offset=n,this.len=r}return Sn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xm=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new em(Xv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,ze.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wm),_m=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Em=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return _m.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new em(Xv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new em(Xv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new em(Xv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new em(Xv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wm),Sm=function(){function e(t){_n(this,e),this.fields=t,t.sort(Em.comparator)}return Sn(e,[{key:"covers",value:function(e){var t,n=Tn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return pm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Im=function(){function e(t){_n(this,e),this.binaryString=t}return Sn(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return dm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();Im.EMPTY_BYTE_STRING=new Im("");var Tm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cm(e){if(Yv(!!e),"string"==typeof e){var t=0,n=Tm.exec(e);if(Yv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Am(e.seconds),nanos:Am(e.nanos)}}function Am(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nm(e){return"string"==typeof e?Im.fromBase64String(e):Im.fromUint8Array(e)}function Rm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pm(e){var t=e.mapValue.fields.__previous_value__;return Rm(t)?Pm(t):t}function Om(e){var t=Cm(e.mapValue.fields.__local_write_time__.timestampValue);return new mm(t.seconds,t.nanos)}function Dm(e){return null==e}function Lm(e){return 0===e&&1/e==-1/0}function Mm(e){return"number"==typeof e&&Number.isInteger(e)&&!Lm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Fm=function(){function e(t){_n(this,e),this.path=t}return Sn(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===xm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xm.fromString(t))}},{key:"fromName",value:function(t){return new e(xm.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return xm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xm(t.slice()))}}]),e}();function Um(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rm(e)?4:10:$v()}function jm(e,t){var n=Um(e);if(n!==Um(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Om(e).isEqual(Om(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cm(e.timestampValue),r=Cm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nm(e.bytesValue).isEqual(Nm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Am(e.geoPointValue.latitude)===Am(t.geoPointValue.latitude)&&Am(e.geoPointValue.longitude)===Am(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Am(e.integerValue)===Am(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Am(e.doubleValue),r=Am(t.doubleValue);return n===r?Lm(n)===Lm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pm(e.arrayValue.values||[],t.arrayValue.values||[],jm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gm(n)!==gm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jm(n[i],r[i])))return!1;return!0}(e,t);default:return $v()}}function Vm(e,t){return void 0!==(e.values||[]).find((function(e){return jm(e,t)}))}function zm(e,t){var n=Um(e),r=Um(t);if(n!==r)return dm(n,r);switch(n){case 0:return 0;case 1:return dm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Am(e.integerValue||e.doubleValue),r=Am(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zm(e.timestampValue,t.timestampValue);case 4:return Zm(Om(e),Om(t));case 5:return dm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Nm(e),r=Nm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=dm(n[i],r[i]);if(0!==a)return a}return dm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=dm(Am(e.latitude),Am(t.latitude));return 0!==n?n:dm(Am(e.longitude),Am(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=zm(n[i],r[i]);if(a)return a}return dm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=dm(r[o],a[o]);if(0!==u)return u;var s=zm(n[r[o]],i[a[o]]);if(0!==s)return s}return dm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw $v()}}function Zm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dm(e,t);var n=Cm(e),r=Cm(t),i=dm(n.seconds,r.seconds);return 0!==i?i:dm(n.nanos,r.nanos)}function Bm(e){return qm(e)}function qm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Nm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Fm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Tn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=qm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Tn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(qm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):$v();var t,n}function Wm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hm(e){return!!e&&"integerValue"in e}function Km(e){return!!e&&"arrayValue"in e}function Gm(e){return!!e&&"nullValue"in e}function Qm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $m(e){return!!e&&"mapValue"in e}function Ym(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return km(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ym(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ym(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Jm=function(){function e(t){_n(this,e),this.value=t}return Sn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$m(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ym(t)}},{key:"setAll",value:function(e){var t=this,n=Em.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ym(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return jm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$m(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){km(t,(function(t,n){return e[t]=n}));var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ym(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Xm(e){var t=[];return km(e.fields,(function(e,n){var r=new Em([e]);if($m(n)){var i=Xm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Tn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Sm(t)}var ey=function(){function e(t,n,r,i,a){_n(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Sn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Jm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Jm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ym.min(),Jm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Jm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Jm.empty(),2)}}]),e}(),ty=Sn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_n(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function ny(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ty(e,t,n,r,i,a,o)}function ry(e){var t=Jv(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Bm(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Dm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=my(t.startAt)),t.endAt&&(n+="|ub:",n+=my(t.endAt)),t.R=n}return t.R}function iy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!jm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!by(e.startAt,t.startAt)&&by(e.endAt,t.endAt)}function ay(e){return Fm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var oy=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Sn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(zm(t,this.value)):null!==t&&Um(this.value)===Um(t)&&this.v(zm(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $v()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new uy(e,t,r):"array-contains"===t?new fy(e,r):"in"===t?new hy(e,r):"not-in"===t?new dy(e,r):"array-contains-any"===t?new py(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new sy(e,n):new cy(e,n)}}]),n}(function(){return Sn((function e(){_n(this,e)}))}());var uy=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,e,r,i)).key=Fm.fromName(i.referenceValue),a}return Sn(n,[{key:"matches",value:function(e){var t=Fm.comparator(e.key,this.key);return this.v(t)}}]),n}(oy),sy=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,"in",r)).keys=ly("in",r),i}return Sn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oy),cy=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,"not-in",r)).keys=ly("not-in",r),i}return Sn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oy);function ly(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Fm.fromName(e.referenceValue)}))}var fy=function(e){Cn(n,e);var t=On(n);function n(e,r){return _n(this,n),t.call(this,e,"array-contains",r)}return Sn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Km(t)&&Vm(t.arrayValue,this.value)}}]),n}(oy),hy=function(e){Cn(n,e);var t=On(n);function n(e,r){return _n(this,n),t.call(this,e,"in",r)}return Sn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Vm(this.value.arrayValue,t)}}]),n}(oy),dy=function(e){Cn(n,e);var t=On(n);function n(e,r){return _n(this,n),t.call(this,e,"not-in",r)}return Sn(n,[{key:"matches",value:function(e){if(Vm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Vm(this.value.arrayValue,t)}}]),n}(oy),py=function(e){Cn(n,e);var t=On(n);function n(e,r){return _n(this,n),t.call(this,e,"array-contains-any",r)}return Sn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Vm(t.value.arrayValue,e)}))}}]),n}(oy),vy=Sn((function e(t,n){_n(this,e),this.position=t,this.before=n}));function my(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Bm(e)})).join(","))}var yy=Sn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";_n(this,e),this.field=t,this.dir=n}));function gy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ky(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Fm.comparator(Fm.fromName(o.referenceValue),n.key):zm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function by(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jm(e.position[n],t.position[n]))return!1;return!0}var wy=Sn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;_n(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function xy(e,t,n,r,i,a,o,u){return new wy(e,t,n,r,i,a,o,u)}function _y(e){return new wy(e)}function Ey(e){return!Dm(e.limit)&&"F"===e.limitType}function Sy(e){return!Dm(e.limit)&&"L"===e.limitType}function Iy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ty(e){var t,n=Tn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Cy(e){return null!==e.collectionGroup}function Ay(e){var t=Jv(e);if(null===t.S){t.S=[];var n=Ty(t),r=Iy(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new yy(n)),t.S.push(new yy(Em.keyField(),"asc"));else{var i,a=!1,o=Tn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new yy(Em.keyField(),s))}}}return t.S}function Ny(e){var t=Jv(e);if(!t.D)if("F"===t.limitType)t.D=ny(t.path,t.collectionGroup,Ay(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Tn(Ay(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new vy(t.endAt.position,!t.endAt.before):null,s=t.startAt?new vy(t.startAt.position,!t.startAt.before):null;t.D=ny(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function Ry(e,t,n){return new wy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Py(e,t){return iy(Ny(e),Ny(t))&&e.limitType===t.limitType}function Oy(e){return"".concat(ry(Ny(e)),"|lt:").concat(e.limitType)}function Dy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Bm(t.value));var t})).join(", "),"]")),Dm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+my(e.startAt)),e.endAt&&(t+=", endAt: "+my(e.endAt)),"Target(".concat(t,")")}(Ny(e)),"; limitType=").concat(e.limitType,")")}function Ly(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Tn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Tn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!ky(e.startAt,Ay(e),t))&&(!e.endAt||!ky(e.endAt,Ay(e),t))}(e,t)}function My(e){return function(t,n){var r,i=!1,a=Tn(Ay(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Fy(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Fy(e,t,n){var r=e.field.isKeyField()?Fm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zm(r,i):$v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $v()}}function Uy(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lm(t)?"-0":t}}function jy(e){return{integerValue:""+e}}function Vy(e,t){return Mm(t)?jy(t):Uy(e,t)}var zy=Sn((function e(){_n(this,e),this._=void 0}));function Zy(e,t,n){return e instanceof Wy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hy?Ky(e,t):e instanceof Gy?Qy(e,t):function(e,t){var n=qy(e,t),r=Yy(n)+Yy(e.N);return Hm(n)&&Hm(e.N)?jy(r):Uy(e.k,r)}(e,t)}function By(e,t,n){return e instanceof Hy?Ky(e,t):e instanceof Gy?Qy(e,t):n}function qy(e,t){return e instanceof $y?Hm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Wy=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n)}(zy),Hy=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this)).elements=e,r}return Sn(n)}(zy);function Ky(e,t){var n,r=Jy(t),i=Tn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return jm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gy=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this)).elements=e,r}return Sn(n)}(zy);function Qy(e,t){var n,r=Jy(t),i=Tn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!jm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $y=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).k=e,i.N=r,i}return Sn(n)}(zy);function Yy(e){return Am(e.integerValue||e.doubleValue)}function Jy(e){return Km(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Xy=Sn((function e(t,n){_n(this,e),this.field=t,this.transform=n}));var eg=Sn((function e(t,n){_n(this,e),this.version=t,this.transformResults=n})),tg=function(){function e(t,n){_n(this,e),this.updateTime=t,this.exists=n}return Sn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ng(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var rg=Sn((function e(){_n(this,e)}));function ig(e,t,n){e instanceof cg?function(e,t,n){var r=e.value.clone(),i=hg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lg?function(e,t,n){if(ng(e.precondition,t)){var r=hg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ag(e,t,n){e instanceof cg?function(e,t,n){if(ng(e.precondition,t)){var r=e.value.clone(),i=dg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(sg(t),r).setHasLocalMutations()}}(e,t,n):e instanceof lg?function(e,t,n){if(ng(e.precondition,t)){var r=dg(e.fieldTransforms,n,t),i=t.data;i.setAll(fg(e)),i.setAll(r),t.convertToFoundDocument(sg(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ng(e.precondition,t)&&t.convertToNoDocument(ym.min())}(e,t)}function og(e,t){var n,r=null,i=Tn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=qy(a.transform,o||null);null!=u&&(null==r&&(r=Jm.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ug(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hy&&t instanceof Hy||e instanceof Gy&&t instanceof Gy?pm(e.elements,t.elements,jm):e instanceof $y&&t instanceof $y?jm(e.N,t.N):e instanceof Wy&&t instanceof Wy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function sg(e){return e.isFoundDocument()?e.version:ym.min()}var cg=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _n(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Sn(n)}(rg),lg=function(e){Cn(n,e);var t=On(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return _n(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Sn(n)}(rg);function fg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function hg(e,t,n){var r=new Map;Yv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,By(o,u,n[i]))}return r}function dg(e,t,n){var r,i=new Map,a=Tn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Zy(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var pg,vg,mg=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Sn(n)}(rg),yg=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Sn(n)}(rg),gg=Sn((function e(t){_n(this,e),this.count=t}));function kg(e){switch(e){default:return $v();case Xv.CANCELLED:case Xv.UNKNOWN:case Xv.DEADLINE_EXCEEDED:case Xv.RESOURCE_EXHAUSTED:case Xv.INTERNAL:case Xv.UNAVAILABLE:case Xv.UNAUTHENTICATED:return!1;case Xv.INVALID_ARGUMENT:case Xv.NOT_FOUND:case Xv.ALREADY_EXISTS:case Xv.PERMISSION_DENIED:case Xv.FAILED_PRECONDITION:case Xv.ABORTED:case Xv.OUT_OF_RANGE:case Xv.UNIMPLEMENTED:case Xv.DATA_LOSS:return!0}}function bg(e){if(void 0===e)return Kv("GRPC error has no .code"),Xv.UNKNOWN;switch(e){case pg.OK:return Xv.OK;case pg.CANCELLED:return Xv.CANCELLED;case pg.UNKNOWN:return Xv.UNKNOWN;case pg.DEADLINE_EXCEEDED:return Xv.DEADLINE_EXCEEDED;case pg.RESOURCE_EXHAUSTED:return Xv.RESOURCE_EXHAUSTED;case pg.INTERNAL:return Xv.INTERNAL;case pg.UNAVAILABLE:return Xv.UNAVAILABLE;case pg.UNAUTHENTICATED:return Xv.UNAUTHENTICATED;case pg.INVALID_ARGUMENT:return Xv.INVALID_ARGUMENT;case pg.NOT_FOUND:return Xv.NOT_FOUND;case pg.ALREADY_EXISTS:return Xv.ALREADY_EXISTS;case pg.PERMISSION_DENIED:return Xv.PERMISSION_DENIED;case pg.FAILED_PRECONDITION:return Xv.FAILED_PRECONDITION;case pg.ABORTED:return Xv.ABORTED;case pg.OUT_OF_RANGE:return Xv.OUT_OF_RANGE;case pg.UNIMPLEMENTED:return Xv.UNIMPLEMENTED;case pg.DATA_LOSS:return Xv.DATA_LOSS;default:return $v()}}(vg=pg||(pg={}))[vg.OK=0]="OK",vg[vg.CANCELLED=1]="CANCELLED",vg[vg.UNKNOWN=2]="UNKNOWN",vg[vg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vg[vg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vg[vg.NOT_FOUND=5]="NOT_FOUND",vg[vg.ALREADY_EXISTS=6]="ALREADY_EXISTS",vg[vg.PERMISSION_DENIED=7]="PERMISSION_DENIED",vg[vg.UNAUTHENTICATED=16]="UNAUTHENTICATED",vg[vg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vg[vg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vg[vg.ABORTED=10]="ABORTED",vg[vg.OUT_OF_RANGE=11]="OUT_OF_RANGE",vg[vg.UNIMPLEMENTED=12]="UNIMPLEMENTED",vg[vg.INTERNAL=13]="INTERNAL",vg[vg.UNAVAILABLE=14]="UNAVAILABLE",vg[vg.DATA_LOSS=15]="DATA_LOSS";var wg=function(){function e(t,n){_n(this,e),this.comparator=t,this.root=n||_g.EMPTY}return Sn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_g.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_g.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xg(this.root,e,this.comparator,!0)}}]),e}(),xg=function(){function e(t,n,r,i){_n(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Sn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_g=function(){function e(t,n,r,i,a){_n(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Sn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw $v();if(this.right.isRed())throw $v();var e=this.left.check();if(e!==this.right.check())throw $v();return e+(this.isRed()?0:1)}}]),e}();_g.EMPTY=null,_g.RED=!0,_g.BLACK=!1,_g.EMPTY=new(function(){function e(){_n(this,e),this.size=0}return Sn(e,[{key:"key",get:function(){throw $v()}},{key:"value",get:function(){throw $v()}},{key:"color",get:function(){throw $v()}},{key:"left",get:function(){throw $v()}},{key:"right",get:function(){throw $v()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _g(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Eg=function(){function e(t){_n(this,e),this.comparator=t,this.data=new wg(this.comparator)}return Sn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sg=function(){function e(t){_n(this,e),this.iter=t}return Sn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Ig=new wg(Fm.comparator);function Tg(){return Ig}var Cg=new wg(Fm.comparator);function Ag(){return Cg}var Ng=new wg(Fm.comparator);function Rg(){return Ng}var Pg=new Eg(Fm.comparator);function Og(){for(var e=Pg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Dg=new Eg(dm);function Lg(){return Dg}var Mg=function(){function e(t,n,r,i,a){_n(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Sn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Fg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ym.min(),r,Lg(),Tg(),Og())}}]),e}(),Fg=function(){function e(t,n,r,i,a){_n(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Sn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Im.EMPTY_BYTE_STRING,n,Og(),Og(),Og())}}]),e}(),Ug=Sn((function e(t,n,r,i){_n(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),jg=Sn((function e(t,n){_n(this,e),this.targetId=t,this.O=n})),Vg=Sn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Im.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_n(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zg=function(){function e(){_n(this,e),this.M=0,this.L=qg(),this.B=Im.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Sn(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Og(),t=Og(),n=Og();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$v()}})),new Fg(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=qg()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Zg=function(){function e(t){_n(this,e),this.et=t,this.nt=new Map,this.st=Tg(),this.it=Bg(),this.rt=new Eg(dm)}return Sn(e,[{key:"ot",value:function(e){var t,n=Tn(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Tn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:$v()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(ay(i))if(0===n){var a=new Fm(i.path);this.ct(t,a,ey.newNoDocument(a,ym.min()))}else Yv(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ay(a.target)){var o=new Fm(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,ey.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Og();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Mg(e,n,this.rt,this.st,r);return this.st=Tg(),this.it=Bg(),this.rt=new Eg(dm),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new zg,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Eg(dm),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Hv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new zg),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Bg(){return new wg(Fm.comparator)}function qg(){return new wg(Fm.comparator)}var Wg={asc:"ASCENDING",desc:"DESCENDING"},Hg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kg=Sn((function e(t,n){_n(this,e),this.databaseId=t,this.C=n}));function Gg(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qg(e,t){return e.C?t.toBase64():t.toUint8Array()}function $g(e,t){return Gg(e,t.toTimestamp())}function Yg(e){return Yv(!!e),ym.fromTimestamp(function(e){var t=Cm(e);return new mm(t.seconds,t.nanos)}(e))}function Jg(e,t){return function(e){return new xm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Xg(e){var t=xm.fromString(e);return Yv(Ek(t)),t}function ek(e,t){return Jg(e.databaseId,t.path)}function tk(e,t){var n=Xg(t);if(n.get(1)!==e.databaseId.projectId)throw new em(Xv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new em(Xv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fm(ak(n))}function nk(e,t){return Jg(e.databaseId,t)}function rk(e){var t=Xg(e);return 4===t.length?xm.emptyPath():ak(t)}function ik(e){return new xm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ak(e){return Yv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ok(e,t,n){return{name:ek(e,t),fields:n.value.mapValue.fields}}function uk(e,t,n){var r=tk(e,t.name),i=Yg(t.updateTime),a=new Jm({mapValue:{fields:t.fields}}),o=ey.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function sk(e,t){return"found"in t?function(e,t){Yv(!!t.found),t.found.name,t.found.updateTime;var n=tk(e,t.found.name),r=Yg(t.found.updateTime),i=new Jm({mapValue:{fields:t.found.fields}});return ey.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yv(!!t.missing),Yv(!!t.readTime);var n=tk(e,t.missing),r=Yg(t.readTime);return ey.newNoDocument(n,r)}(e,t):$v()}function ck(e,t){var n;if(t instanceof cg)n={update:ok(e,t.key,t.value)};else if(t instanceof mg)n={delete:ek(e,t.key)};else if(t instanceof lg)n={update:ok(e,t.key,t.data),updateMask:_k(t.fieldMask)};else{if(!(t instanceof yg))return $v();n={verify:ek(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $y)return{fieldPath:t.field.canonicalString(),increment:n.N};throw $v()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$g(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$v()}(e,t.precondition)),n}function lk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?tg.updateTime(Yg(e.updateTime)):void 0!==e.exists?tg.exists(e.exists):tg.none()}(t.currentDocument):tg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yv("REQUEST_TIME"===t.setToServerValue),n=new Wy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Hy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Gy(i)}else"increment"in t?n=new $y(e,t.increment):$v();var a=Em.fromServerFormat(t.fieldPath);return new Xy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=tk(e,t.update.name),a=new Jm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Sm(t.map((function(e){return Em.fromServerFormat(e)})))}(t.updateMask);return new lg(i,a,o,n,r)}return new cg(i,a,n,r)}if(t.delete){var u=tk(e,t.delete);return new mg(u,n)}if(t.verify){var s=tk(e,t.verify);return new yg(s,n)}return $v()}function fk(e,t){return{documents:[nk(e,t.path)]}}function hk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Qm(e.value))return{unaryFilter:{field:kk(e.field),op:"IS_NAN"}};if(Gm(e.value))return{unaryFilter:{field:kk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qm(e.value))return{unaryFilter:{field:kk(e.field),op:"IS_NOT_NAN"}};if(Gm(e.value))return{unaryFilter:{field:kk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kk(e.field),op:gk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kk(e.field),direction:yk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Dm(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=vk(t.startAt)),t.endAt&&(n.structuredQuery.endAt=vk(t.endAt)),n}function dk(e){var t=rk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=pk(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new yy(bk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Dm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=mk(n.startAt));var l=null;return n.endAt&&(l=mk(n.endAt)),xy(t,i,u,o,s,"F",c,l)}function pk(e){return e?void 0!==e.unaryFilter?[xk(e)]:void 0!==e.fieldFilter?[wk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return pk(e)})).reduce((function(e,t){return e.concat(t)})):$v():[]}function vk(e){return{before:e.before,values:e.position}}function mk(e){var t=!!e.before,n=e.values||[];return new vy(n,t)}function yk(e){return Wg[e]}function gk(e){return Hg[e]}function kk(e){return{fieldPath:e.canonicalString()}}function bk(e){return Em.fromServerFormat(e.fieldPath)}function wk(e){return oy.create(bk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $v()}}(e.fieldFilter.op),e.fieldFilter.value)}function xk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bk(e.unaryFilter.field);return oy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bk(e.unaryFilter.field);return oy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bk(e.unaryFilter.field);return oy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bk(e.unaryFilter.field);return oy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $v()}}function _k(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ek(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Sk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Tk(t)),t=Ik(e.get(n),t);return Tk(t)}function Ik(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Tk(e){return e+"\x01\x01"}function Ck(e){var t=e.length;if(Yv(t>=2),2===t)return Yv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),xm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&$v(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:$v()}a=o+2}return new xm(r)}var Ak=Sn((function e(t,n){_n(this,e),this.seconds=t,this.nanoseconds=n})),Nk=Sn((function e(t,n,r){_n(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Nk.store="owner",Nk.key="owner";var Rk=Sn((function e(t,n,r){_n(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Rk.store="mutationQueues",Rk.keyPath="userId";var Pk=Sn((function e(t,n,r,i,a){_n(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Pk.store="mutations",Pk.keyPath="batchId",Pk.userMutationsIndex="userMutationsIndex",Pk.userMutationsKeyPath=["userId","batchId"];var Ok=function(){function e(){_n(this,e)}return Sn(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Sk(t)]}},{key:"key",value:function(e,t,n){return[e,Sk(t),n]}}]),e}();Ok.store="documentMutations",Ok.PLACEHOLDER=new Ok;var Dk=Sn((function e(t,n){_n(this,e),this.path=t,this.readTime=n})),Lk=Sn((function e(t,n){_n(this,e),this.path=t,this.version=n})),Mk=Sn((function e(t,n,r,i,a,o){_n(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Mk.store="remoteDocuments",Mk.readTimeIndex="readTimeIndex",Mk.readTimeIndexPath="readTime",Mk.collectionReadTimeIndex="collectionReadTimeIndex",Mk.collectionReadTimeIndexPath=["parentPath","readTime"];var Fk=Sn((function e(t){_n(this,e),this.byteSize=t}));Fk.store="remoteDocumentGlobal",Fk.key="remoteDocumentGlobalKey";var Uk=Sn((function e(t,n,r,i,a,o,u){_n(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Uk.store="targets",Uk.keyPath="targetId",Uk.queryTargetsIndexName="queryTargetsIndex",Uk.queryTargetsKeyPath=["canonicalId","targetId"];var jk=Sn((function e(t,n,r){_n(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));jk.store="targetDocuments",jk.keyPath=["targetId","path"],jk.documentTargetsIndex="documentTargetsIndex",jk.documentTargetsKeyPath=["path","targetId"];var Vk=Sn((function e(t,n,r,i){_n(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Vk.key="targetGlobalKey",Vk.store="targetGlobal";var zk=Sn((function e(t,n){_n(this,e),this.collectionId=t,this.parent=n}));zk.store="collectionParents",zk.keyPath=["collectionId","parent"];var Zk=Sn((function e(t,n,r,i){_n(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Zk.store="clientMetadata",Zk.keyPath="clientId";var Bk=Sn((function e(t,n,r){_n(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Bk.store="bundles",Bk.keyPath="bundleId";var qk=Sn((function e(t,n,r){_n(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));qk.store="namedQueries",qk.keyPath="name";var Wk=[Rk.store,Pk.store,Ok.store,Mk.store,Uk.store,Nk.store,Vk.store,jk.store].concat([Zk.store]).concat([Fk.store]).concat([zk.store]).concat([Bk.store,qk.store]),Hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kk=function(){function e(){_n(this,e),this.onCommittedListeners=[]}return Sn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Gk=function(){function e(t){var n=this;_n(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Sn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&$v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Tn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Qk=function(){function e(t,n){var r=this;_n(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new tm,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Jk(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=rb(e.target.error);r.It.reject(new Jk(t,n))}}return Sn(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Hv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new eb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Jk(n,t)}}}]),e}(),$k=function(){function e(t,n,r){_n(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(qn())&&Kv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Sn(e,[{key:"Ct",value:function(){var e=hr(pr().mark((function e(t){var n=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Hv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Jk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new em(Xv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new em(Xv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Jk(t,n))},i.onupgradeneeded=function(e){Hv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Hv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=hr(pr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(pr().mark((function e(){var n,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Qk.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Gk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Hv("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Hv("SimpleDb","Removing database:",e),tb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!$n())return!1;if(e.vt())return!0;var t=qn(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/walley",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Yk=function(){function e(t){_n(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return Sn(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return tb(this.$t.delete())}}]),e}(),Jk=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,Xv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Sn(n)}(em);function Xk(e){return"IndexedDbTransactionError"===e.name}var eb=function(){function e(t){_n(this,e),this.store=t}return Sn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Hv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tb(n)}},{key:"add",value:function(e){return Hv("SimpleDb","ADD",this.store.name,e,e),tb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return tb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Hv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Hv("SimpleDb","DELETE",this.store.name,e),tb(this.store.delete(e))}},{key:"count",value:function(){return Hv("SimpleDb","COUNT",this.store.name),tb(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Hv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Gk((function(n,r){t.onerror=function(e){var t=rb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Gk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Yk(i),o=t(i.primaryKey,i.value,a);if(o instanceof Gk){var u=o.catch((function(e){return a.done(),Gk.reject(e)}));n.push(u)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return Gk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function tb(e){return new Gk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=rb(e.target.error);n(t)}}))}var nb=!1;function rb(e){var t=$k.Pt(qn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new em("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return nb||(nb=!0,setTimeout((function(){throw r}),0)),r}}return e}var ib=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Sn(n)}(Kk);function ab(e,t){var n=Jv(e);return $k.Dt(n.Wt,t)}var ob=function(){function e(t,n,r,i){_n(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Sn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ig(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Tn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ag(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Tn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ag(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ym.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Og())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&pm(this.mutations,e.mutations,(function(e,t){return ug(e,t)}))&&pm(this.baseMutations,e.baseMutations,(function(e,t){return ug(e,t)}))}}]),e}(),ub=function(){function e(t,n,r,i){_n(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Sn(e,null,[{key:"from",value:function(t,n,r){Yv(t.mutations.length===r.length);for(var i=Rg(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),sb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ym.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ym.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Im.EMPTY_BYTE_STRING;_n(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Sn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),cb=Sn((function e(t){_n(this,e),this.Gt=t}));function lb(e,t){if(t.document)return uk(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Fm.fromSegments(t.noDocument.path),r=vb(t.noDocument.readTime),i=ey.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Fm.fromSegments(t.unknownDocument.path),o=vb(t.unknownDocument.version);return ey.newUnknownDocument(a,o)}return $v()}function fb(e,t,n){var r=hb(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:ek(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gg(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Mk(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=pb(t.version),c=t.hasCommittedMutations;return new Mk(null,new Dk(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=pb(t.version);return new Mk(new Lk(l,f),null,null,!0,r,i)}return $v()}function hb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function db(e){var t=new mm(e[0],e[1]);return ym.fromTimestamp(t)}function pb(e){var t=e.toTimestamp();return new Ak(t.seconds,t.nanoseconds)}function vb(e){var t=new mm(e.seconds,e.nanoseconds);return ym.fromTimestamp(t)}function mb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return lk(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return lk(e.Gt,t)})),u=mm.fromMillis(t.localWriteTimeMs);return new ob(t.batchId,u,n,o)}function yb(e){var t,n,r=vb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?vb(e.lastLimboFreeSnapshotVersion):ym.min();return void 0!==e.query.documents?(Yv(1===(n=e.query).documents.length),t=Ny(_y(rk(n.documents[0])))):t=function(e){return Ny(dk(e))}(e.query),new sb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Im.fromBase64String(e.resumeToken))}function gb(e,t){var n,r=pb(t.snapshotVersion),i=pb(t.lastLimboFreeSnapshotVersion);n=ay(t.target)?fk(e.Gt,t.target):hk(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Uk(t.targetId,ry(t.target),r,a,t.sequenceNumber,i,n)}function kb(e){var t=dk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ry(t,t.limit,"L"):t}var bb=function(){function e(){_n(this,e)}return Sn(e,[{key:"getBundleMetadata",value:function(e,t){return wb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:vb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return wb(e).put({bundleId:(n=t).id,createTime:pb(Yg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:kb(t.bundledQuery),readTime:vb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xb(e).put(function(e){return{name:e.name,readTime:pb(Yg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function wb(e){return ab(e,Bk.store)}function xb(e){return ab(e,qk.store)}var _b=function(){function e(){_n(this,e),this.zt=new Eb}return Sn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Gk.resolve()}},{key:"getCollectionParents",value:function(e,t){return Gk.resolve(this.zt.getEntries(t))}}]),e}(),Eb=function(){function e(){_n(this,e),this.index={}}return Sn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Eg(xm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Eg(xm.comparator)).toArray()}}]),e}(),Sb=function(){function e(){_n(this,e),this.Ht=new Eb}return Sn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Sk(i)};return Ib(e).put(a)}return Gk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[vm(t),""],!1,!0);return Ib(e).Bt(r).next((function(e){var r,i=Tn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ck(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Ib(e){return ab(e,zk.store)}var Tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cb=function(){function e(t,n,r){_n(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Sn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ab(e,t,n){var r=e.store(Pk.store),i=e.store(Ok.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Yv(1===u)})));var c,l=[],f=Tn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ok.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Gk.waitFor(a).next((function(){return l}))}function Nb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw $v();t=e.noDocument}return JSON.stringify(t).length}Cb.DEFAULT_COLLECTION_PERCENTILE=10,Cb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cb.DEFAULT=new Cb(41943040,Cb.DEFAULT_COLLECTION_PERCENTILE,Cb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cb.DISABLED=new Cb(-1,0,0);var Rb=function(){function e(t,n,r,i){_n(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Sn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ob(e).jt({index:Pk.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Db(e),o=Ob(e);return o.add({}).next((function(u){Yv("number"==typeof u);var s,c=new ob(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ck(e.Gt,t)})),i=n.mutations.map((function(t){return ck(e.Gt,t)}));return new Pk(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Eg((function(e,t){return dm(e.canonicalString(),t.canonicalString())})),d=Tn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ok.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ok.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),Gk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ob(e).get(t).next((function(e){return e?(Yv(e.userId===n.userId),mb(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Gk.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ob(e).jt({index:Pk.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Yv(t.batchId>=r),a=mb(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ob(e).jt({index:Pk.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ob(e).Bt(Pk.userMutationsIndex,n).next((function(e){return e.map((function(e){return mb(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ok.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Db(e).jt({range:i},(function(r,i,o){var u=(0,Se.Z)(r,3),s=u[0],c=u[1],l=u[2],f=Ck(c);if(s===n.userId&&t.path.isEqual(f))return Ob(e).get(l).next((function(e){if(!e)throw $v();Yv(e.userId===n.userId),a.push(mb(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Eg(dm),i=[];return t.forEach((function(t){var a=Ok.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Db(e).jt({range:o},(function(e,i,a){var o=(0,Se.Z)(e,3),u=o[0],s=o[1],c=o[2],l=Ck(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Gk.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ok.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Eg(dm);return Db(e).jt({range:o},(function(e,t,a){var o=(0,Se.Z)(e,3),s=o[0],c=o[1],l=o[2],f=Ck(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ob(e).get(t).next((function(e){if(null===e)throw $v();Yv(e.userId===n.userId),r.push(mb(n.k,e))})))})),Gk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ab(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Gk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Gk.resolve();var r=IDBKeyRange.lowerBound(Ok.prefixForUser(t.userId)),i=[];return Db(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ck(e[1]);i.push(a)}else r.done()})).next((function(){Yv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Pb(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Lb(e).get(this.userId).next((function(e){return e||new Rk(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Yv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Pb(e,t,n){var r=Ok.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Db(e).jt({range:a,Kt:!0},(function(e,n,r){var a=(0,Se.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Ob(e){return ab(e,Pk.store)}function Db(e){return ab(e,Ok.store)}function Lb(e){return ab(e,Rk.store)}var Mb=function(){function e(t){_n(this,e),this.se=t}return Sn(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Fb=function(){function e(t,n){_n(this,e),this.referenceDelegate=t,this.k=n}return Sn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Mb(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return ym.fromTimestamp(new mm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ub(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Yv(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ub(e).jt((function(o,u){var s=yb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Gk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ub(e).jt((function(e,n){var r=yb(n);t(r)}))}},{key:"oe",value:function(e){return jb(e).get(Vk.key).next((function(e){return Yv(null!==e),e}))}},{key:"ae",value:function(e,t){return jb(e).put(Vk.key,t)}},{key:"ce",value:function(e,t){return Ub(e).put(gb(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ry(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ub(e).jt({range:r,index:Uk.queryTargetsIndexName},(function(e,n,r){var a=yb(n);iy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Vb(e);return t.forEach((function(t){var o=Sk(t.path);i.push(a.put(new jk(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Gk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Vb(e);return Gk.forEach(t,(function(t){var a=Sk(t.path);return Gk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Vb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Vb(e),i=Og();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Ck(e[1]),a=new Fm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Sk(t.path),r=IDBKeyRange.bound([n],[vm(n)],!1,!0),i=0;return Vb(e).jt({index:jk.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=(0,Se.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Ub(e).get(t).next((function(e){return e?yb(e):null}))}}]),e}();function Ub(e){return ab(e,Uk.store)}function jb(e){return ab(e,Vk.store)}function Vb(e){return ab(e,jk.store)}function zb(e){return Zb.apply(this,arguments)}function Zb(){return Zb=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Xv.FAILED_PRECONDITION&&t.message===Hk){e.next=2;break}throw t;case 2:Hv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function Bb(e,t){var n=(0,Se.Z)(e,2),r=n[0],i=n[1],a=(0,Se.Z)(t,2),o=a[0],u=a[1],s=dm(r,o);return 0===s?dm(i,u):s}var qb=function(){function e(t){_n(this,e),this.he=t,this.buffer=new Eg(Bb),this.le=0}return Sn(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Bb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Wb=function(){function e(t,n){_n(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Sn(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Hv("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,hr(pr().mark((function n(){return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Xk(n.t0)){n.next=12;break}Hv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,zb(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Hb=function(){function e(t,n){_n(this,e),this.ge=t,this.params=n}return Sn(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Gk.resolve(lm.I);var r=new qb(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Hv("LruGarbageCollector","Garbage collection skipped; disabled"),Gk.resolve(Tb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Hv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Tb):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Hv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Wv()<=kr.DEBUG&&Hv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Gk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Kb=function(){function e(t,n){_n(this,e),this.db=t,this.garbageCollector=function(e,t){return new Hb(e,t)}(this,n)}return Sn(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Gb(e,n)}},{key:"removeReference",value:function(e,t,n){return Gb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Gb(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Lb(e).Qt((function(r){return Pb(e,r,t).next((function(e){return e&&(n=!0),Gk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Vb(e).delete([0,Sk(o.path)])}))}));i.push(s)}})).next((function(){return Gk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Gb(e,t)}},{key:"Ie",value:function(e,t){var n,r=Vb(e),i=lm.I;return r.jt({index:jk.documentTargetsIndex},(function(e,r){var a=(0,Se.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==lm.I&&t(new Fm(Ck(n)),i),i=s,n=u):i=lm.I})).next((function(){i!==lm.I&&t(new Fm(Ck(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Gb(e,t){return Vb(e).put(function(e,t){return new jk(0,Sk(e.path),t)}(t,e.currentSequenceNumber))}var Qb=function(){function e(t,n){_n(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Sn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Se.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){km(this.inner,(function(t,n){var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Se.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bm(this.inner)}}]),e}(),$b=function(){function e(){_n(this,e),this.changes=new Qb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Sn(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:ym.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:ey.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Gk.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Yb=function(){function e(t,n){_n(this,e),this.k=t,this.Jt=n}return Sn(e,[{key:"addEntry",value:function(e,t,n){return ew(e).put(tw(t),n)}},{key:"removeEntry",value:function(e,t){var n=ew(e),r=tw(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return ew(e).get(tw(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return ew(e).get(tw(t)).next((function(e){return{document:n.Pe(t,e),size:Nb(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Tg();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Tg(),i=new wg(Fm.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,Nb(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Gk.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return ew(e).jt({range:r},(function(e,t,r){for(var o=Fm.fromSegments(e);a&&Fm.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Tg(),a=t.path.length+1,o={};if(n.isEqual(ym.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=hb(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Mk.collectionReadTimeIndex}return ew(e).jt(o,(function(e,n,o){if(e.length===a){var u=lb(r.k,n);t.path.isPrefixOf(u.key.path)?Ly(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Jb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Xb(e).get(Fk.key).next((function(e){return Yv(!!e),e}))}},{key:"Re",value:function(e,t){return Xb(e).put(Fk.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=lb(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(ym.min()))return n}return ey.newInvalidDocument(e)}}]),e}(),Jb=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Qb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Sn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Eg((function(e,t){return dm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=fb(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Nb(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=fb(t.De.k,ey.newNoDocument(a,ym.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Gk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}($b);function Xb(e){return ab(e,Fk.store)}function ew(e){return ab(e,Mk.store)}function tw(e){return e.path.toArray()}var nw=function(){function e(t){_n(this,e),this.k=t}return Sn(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Yv(n<r&&n>=0&&r<=11);var a=new Qk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Nk.store)}(e),function(e){e.createObjectStore(Rk.store,{keyPath:Rk.keyPath}),e.createObjectStore(Pk.store,{keyPath:Pk.keyPath,autoIncrement:!0}).createIndex(Pk.userMutationsIndex,Pk.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ok.store)}(e),rw(e),function(e){e.createObjectStore(Mk.store)}(e));var o=Gk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(jk.store),e.deleteObjectStore(Uk.store),e.deleteObjectStore(Vk.store)}(e),rw(e)),o=o.next((function(){return function(e){var t=e.store(Vk.store),n=new Vk(0,0,ym.min().toTimestamp(),0);return t.put(Vk.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Pk.store).Bt().next((function(n){e.deleteObjectStore(Pk.store),e.createObjectStore(Pk.store,{keyPath:Pk.keyPath,autoIncrement:!0}).createIndex(Pk.userMutationsIndex,Pk.userMutationsKeyPath,{unique:!0});var r=t.store(Pk.store),i=n.map((function(e){return r.put(e)}));return Gk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Zk.store,{keyPath:Zk.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Fk.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Mk.store);t.createIndex(Mk.readTimeIndex,Mk.readTimeIndexPath,{unique:!1}),t.createIndex(Mk.collectionReadTimeIndex,Mk.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Bk.store,{keyPath:Bk.keyPath})}(e),function(e){e.createObjectStore(qk.store,{keyPath:qk.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Mk.store).jt((function(e,n){t+=Nb(n)})).next((function(){var n=new Fk(t);return e.store(Fk.store).put(Fk.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Rk.store),r=e.store(Pk.store);return n.Bt().next((function(n){return Gk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Pk.userMutationsIndex,i).next((function(r){return Gk.forEach(r,(function(r){Yv(r.userId===n.userId);var i=mb(t.k,r);return Ab(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(jk.store),n=e.store(Mk.store);return e.store(Vk.store).get(Vk.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new xm(n),o=function(e){return[0,Sk(e)]}(a);r.push(t.get(o).next((function(n){return n?Gk.resolve():function(n){return t.put(new jk(0,Sk(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Gk.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(zk.store,{keyPath:zk.keyPath});var n=t.store(zk.store),r=new Eb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Sk(i)})}};return t.store(Mk.store).jt({Kt:!0},(function(e,t){var n=new xm(e);return i(n.popLast())})).next((function(){return t.store(Ok.store).jt({Kt:!0},(function(e,t){var n=(0,Se.Z)(e,3),r=(n[0],n[1]),a=(n[2],Ck(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(Uk.store);return n.jt((function(e,r){var i=yb(r),a=gb(t.k,i);return n.put(a)}))}}]),e}();function rw(e){e.createObjectStore(jk.store,{keyPath:jk.keyPath}).createIndex(jk.documentTargetsIndex,jk.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Uk.store,{keyPath:Uk.keyPath}).createIndex(Uk.queryTargetsIndexName,Uk.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Vk.store)}var iw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aw=function(){function e(t,n,r,i,a,o,u,s,c,l){if(_n(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=u,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new em(Xv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kb(this,i),this.Ge=n+"main",this.k=new cb(s),this.ze=new $k(this.Ge,11,new nw(this.k)),this.He=new Fb(this.referenceDelegate,this.k),this.Jt=new Sb,this.Je=function(e,t){return new Yb(e,t)}(this.k,this.Jt),this.Ye=new bb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Kv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Sn(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new em(Xv.FAILED_PRECONDITION,iw);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new lm(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=hr(pr().mark((function n(r){return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=hr(pr().mark((function t(n){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return uw(t).put(new Zk(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Xk(t))return Hv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Hv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return ow(e).get(Nk.key).next((function(e){return Gk.resolve(t.un(e))}))}},{key:"hn",value:function(e){return uw(e).delete(this.clientId)}},{key:"ln",value:function(){var e=hr(pr().mark((function e(){var t,n,r,i,a=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ab(e,Zk.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Gk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Tn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Gk.resolve(!0):ow(e).get(Nk.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new em(Xv.FAILED_PRECONDITION,iw);return!1}}return!(!t.networkEnabled||!t.inForeground)||uw(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Hv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=hr(pr().mark((function e(){var t=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Nk.store,Zk.store],(function(e){var n=new ib(e,lm.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return uw(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Rb.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Hv("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Wk,(function(a){return i=new ib(a,r.Be?r.Be.next():lm.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Kv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new em(Xv.FAILED_PRECONDITION,Hk);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return ow(e).get(Nk.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new em(Xv.FAILED_PRECONDITION,iw)}))}},{key:"cn",value:function(e){var t=new Nk(this.clientId,this.allowTabSynchronization,Date.now());return ow(e).put(Nk.key,t)}},{key:"an",value:function(e){var t=this,n=ow(e);return n.get(Nk.key).next((function(e){return t.un(e)?(Hv("IndexedDbPersistence","Releasing primary lease."),n.delete(Nk.key)):Gk.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Kv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!Hn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Hv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Kv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Zf){Kv("Failed to set zombie client id.",Zf)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Zf){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return $k.bt()}}]),e}();function ow(e){return ab(e,Nk.store)}function uw(e){return ab(e,Zk.store)}function sw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var cw=Sn((function e(t,n){_n(this,e),this.progress=t,this.In=n})),lw=function(){function e(t,n,r){_n(this,e),this.Je=t,this.An=n,this.Jt=r}return Sn(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Tn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=Tn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Fm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Cy(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Fm(t)).next((function(e){var t=Ag();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ag();return this.Jt.getCollectionParents(e,i).next((function(o){return Gk.forEach(o,(function(o){var u=function(e,t){return new wy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Tn(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=Tn(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=ey.newInvalidDocument(c),r=r.insert(c,l)),ag(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Ly(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Og(),a=Tn(t);try{for(a.s();!(r=a.n()).done;){var o,u=Tn(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof lg&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),fw=function(){function e(t,n,r,i){_n(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Sn(e,null,[{key:"$n",value:function(t,n){var r,i=Og(),a=Og(),o=Tn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hw=function(){function e(){_n(this,e)}return Sn(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ym.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Ey(t)||Sy(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Wv()<=kr.DEBUG&&Hv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Dy(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Eg(My(e));return t.forEach((function(t,r){Ly(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Wv()<=kr.DEBUG&&Hv("QueryEngine","Using full collection scan to execute query:",Dy(t)),this.On.getDocumentsMatchingQuery(e,t,ym.min())}}]),e}(),dw=function(){function e(t,n,r,i){_n(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new wg(dm),this.Kn=new Qb((function(e){return ry(e)}),iy),this.jn=ym.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new lw(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return Sn(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function pw(e,t,n,r){return new dw(e,t,n,r)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=hr(pr().mark((function e(t,n){var r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new lw(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Og(),s=Tn(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Tn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Tn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Tn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function yw(e,t){var n=Jv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Gk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Yv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function gw(e){var t=Jv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function kw(e,t){var n=Jv(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return Yv(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=Tg();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bw(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(ym.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Gk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function bw(e,t,n,r,i){var a=Og();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Tg();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ym.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Hv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function ww(e,t){var n=Jv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function xw(e,t){var n=Jv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Gk.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new sb(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function _w(e,t,n){return Ew.apply(this,arguments)}function Ew(){return Ew=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jv(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Xk(e.t1)){e.next=12;break}throw e.t1;case 12:Hv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ew.apply(this,arguments)}function Sw(e,t,n){var r=Jv(e),i=ym.min(),a=Og();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Jv(e),i=r.Kn.get(n);return void 0!==i?Gk.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Ny(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:ym.min(),n?a:Og())})).next((function(e){return{documents:e,zn:a}}))}))}function Iw(e,t){var n=Jv(e),r=Jv(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Tw(e){var t=Jv(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Jv(e),i=Tg(),a=hb(n),o=ew(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Mk.readTimeIndex,range:u},(function(e,t){var n=lb(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:db(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Cw(e){return Aw.apply(this,arguments)}function Aw(){return Aw=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jv(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=ew(e),n=ym.min();return t.jt({index:Mk.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=db(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Nw(e,t,n,r){return Rw.apply(this,arguments)}function Rw(){return Rw=hr(pr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Jv(t),o=Og(),u=Tg(),s=Rg(),c=Tn(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,xw(a,function(e){return Ny(_y(xm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bw(e,d,u,ym.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Pw(e,t){return Ow.apply(this,arguments)}function Ow(){return Ow=hr(pr().mark((function e(t,n){var r,i,a,o=arguments;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Og(),e.next=3,xw(t,Ny(kb(n.bundledQuery)));case 3:return i=e.sent,a=Jv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Yg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Im.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}var Dw=function(){function e(t){_n(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Sn(e,[{key:"getBundleMetadata",value:function(e,t){return Gk.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Yg(n.createTime)}),Gk.resolve()}},{key:"getNamedQuery",value:function(e,t){return Gk.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:kb(e.bundledQuery),readTime:Yg(e.readTime)}}(t)),Gk.resolve()}}]),e}(),Lw=function(){function e(){_n(this,e),this.ts=new Eg(Mw.es),this.ns=new Eg(Mw.ss)}return Sn(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Mw(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Mw(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Fm(new xm([])),r=new Mw(n,e),i=new Mw(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Fm(new xm([])),n=new Mw(t,e),r=new Mw(t,e+1),i=Og();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Mw(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Mw=function(){function e(t,n){_n(this,e),this.key=t,this.fs=n}return Sn(e,null,[{key:"es",value:function(e,t){return Fm.comparator(e.key,t.key)||dm(e.fs,t.fs)}},{key:"ss",value:function(e,t){return dm(e.fs,t.fs)||Fm.comparator(e.key,t.key)}}]),e}(),Fw=function(){function e(t,n){_n(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Eg(Mw.es)}return Sn(e,[{key:"checkEmpty",value:function(e){return Gk.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new ob(i,t,n,r);this.An.push(a);var o,u=Tn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new Mw(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Gk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Gk.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Gk.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Gk.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Gk.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Mw(t,0),i=new Mw(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Gk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Eg(dm);return t.forEach((function(e){var t=new Mw(e,0),i=new Mw(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Gk.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Fm.isDocumentKey(i)||(i=i.child(""));var a=new Mw(new Fm(i),0),o=new Eg(dm);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Gk.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Yv(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Gk.forEach(t.mutations,(function(i){var a=new Mw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Mw(t,0),r=this.ws.firstAfterOrEqual(n);return Gk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Gk.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Uw=function(){function e(t,n){_n(this,e),this.Jt=t,this.Ts=n,this.docs=new wg(Fm.comparator),this.size=0}return Sn(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Gk.resolve(n?n.document.clone():ey.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Tg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ey.newInvalidDocument(e))})),Gk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Tg(),i=new Fm(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Ly(t,c)&&(r=r.insert(c.key,c.clone()))}return Gk.resolve(r)}},{key:"Es",value:function(e,t){return Gk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jw(this)}},{key:"getSize",value:function(e){return Gk.resolve(this.size)}}]),e}(),jw=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this)).De=e,r}return Sn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Gk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}($b),Vw=function(){function e(t){_n(this,e),this.persistence=t,this.Is=new Qb((function(e){return ry(e)}),iy),this.lastRemoteSnapshotVersion=ym.min(),this.highestTargetId=0,this.As=0,this.Rs=new Lw,this.targetCount=0,this.Ps=Mb.ie()}return Sn(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Gk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Gk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Gk.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),Gk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Gk.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new Mb(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Gk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Gk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Gk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Gk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Gk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Gk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Gk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Gk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Gk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Gk.resolve(n)}},{key:"containsKey",value:function(e,t){return Gk.resolve(this.Rs.containsKey(t))}}]),e}(),zw=function(){function e(t,n){var r=this;_n(this,e),this.bs={},this.Be=new lm(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Vw(this),this.Jt=new _b,this.Je=function(e,t){return new Uw(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new cb(n),this.Ye=new Dw(this.k)}return Sn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new Fw(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Hv("MemoryPersistence","Starting transaction:",e);var i=new Zw(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Gk.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Zw=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Sn(n)}(Kk),Bw=function(){function e(t){_n(this,e),this.persistence=t,this.Cs=new Lw,this.Ns=null}return Sn(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw $v()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Gk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Gk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Gk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gk.forEach(this.xs,(function(r){var i=Fm.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Gk.or([function(){return Gk.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function qw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ww(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Hw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Kw=function(){function e(t,n,r,i){_n(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Sn(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new em(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Kv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Gw=function(){function e(t,n,r){_n(this,e),this.targetId=t,this.state=n,this.error=r}return Sn(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new em(i.error.code,i.error.message))),a?new e(t,i.state,r):(Kv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Qw=function(){function e(t,n){_n(this,e),this.clientId=t,this.activeTargetIds=n}return Sn(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Lg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Mm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Kv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),$w=function(){function e(t,n){_n(this,e),this.clientId=t,this.onlineState=n}return Sn(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Kv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Yw=function(){function e(){_n(this,e),this.activeTargetIds=Lg()}return Sn(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Jw=function(){function e(t,n,r,i,a){_n(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new wg(dm),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=qw(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Yw),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Sn(e,[{key:"start",value:function(){var e=hr(pr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Tn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(qw(this.persistenceKey,i)))&&(o=Qw.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=Tn(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Hw(this.persistenceKey,e));if(n){var r=Gw.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Hw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Hv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Hv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Hv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Hv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Kv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(hr(pr().mark((function e(){var r,i,a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=lm.I;if(null!=e)try{var n=JSON.parse(e);Yv("number"==typeof n),t=n}catch(e){Kv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==lm.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new Kw(this.currentUser,e,t,n),i=Ww(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=Ww(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Hw(this.persistenceKey,e),i=new Gw(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return Qw.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kw.Fs(new Zv(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Gw.Fs(r,t)}},{key:"Zs",value:function(e){return $w.Fs(e)}},{key:"fi",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Hv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Lg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Xw=function(){function e(){_n(this,e),this.pi=new Yw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Sn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Yw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),ex=function(){function e(){_n(this,e)}return Sn(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),tx=function(){function e(){var t=this;_n(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return Sn(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Hv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Tn(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Hv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Tn(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rx=function(){function e(t){_n(this,e),this.Vi=t.Vi,this.Si=t.Si}return Sn(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),ix=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Sn(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Vv;o.listenOnce(Lv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Dv.NO_ERROR:var t=o.getResponseJson();Hv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Dv.TIMEOUT:Hv("Connection",'RPC "'+e+'" timed out'),a(new em(Xv.DEADLINE_EXCEEDED,"Request time out"));break;case Dv.HTTP_ERROR:var n=o.getStatus();if(Hv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xv).indexOf(t)>=0?t:Xv.UNKNOWN}(r.status);a(new em(u,r.message))}else a(new em(Xv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new em(Xv.UNAVAILABLE,"Connection failed."));break;default:$v()}}finally{Hv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Pv(),a=Ov(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Uv({})),this.qi(o.initMessageHeaders,t,n),Wn()||Gn()||qn().indexOf("Electron/")>=0||Qn()||qn().indexOf("MSAppHost/")>=0||Kn()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Hv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new rx({Vi:function(e){l?Hv("Connection","Not sending because WebChannel is closed:",e):(c||(Hv("Connection","Opening WebChannel transport."),s.open(),c=!0),Hv("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,jv.EventType.OPEN,(function(){l||Hv("Connection","WebChannel transport opened.")})),h(s,jv.EventType.CLOSE,(function(){l||(l=!0,Hv("Connection","WebChannel transport closed"),f.Fi())})),h(s,jv.EventType.ERROR,(function(e){l||(l=!0,Gv("Connection","WebChannel transport errored:",e),f.Fi(new em(Xv.UNAVAILABLE,"The operation could not be completed")))})),h(s,jv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Yv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Hv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=pg[e];if(void 0!==t)return bg(t)}(a),u=i.message;void 0===o&&(o=Xv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new em(o,u)),s.close()}else Hv("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,Mv.STAT_EVENT,(function(e){e.stat===Fv.PROXY?Hv("Connection","Detected buffering proxy"):e.stat===Fv.NOPROXY&&Hv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){_n(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Sn(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Hv("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Hv("RestConnection","Received: ",e),e}),(function(t){throw Gv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=nx[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function ax(){return"undefined"!=typeof window?window:null}function ox(){return"undefined"!=typeof document?document:null}function ux(e){return new Kg(e,!0)}var sx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;_n(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Sn(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Hv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),cx=function(){function e(t,n,r,i,a,o,u,s){_n(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new sx(t,n)}return Sn(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Xv.RESOURCE_EXHAUSTED?(Kv(n.toString()),Kv("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Xv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,Se.Z)(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new em(Xv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(hr(pr().mark((function t(){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Hv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Hv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),lx=function(e){Cn(n,e);var t=On(n);function n(e,r,i,a,o,u){var s;return _n(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return Sn(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:$v()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Yv(void 0===t||"string"==typeof t),Im.fromBase64String(t||"")):(Yv(void 0===t||t instanceof Uint8Array),Im.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Xv.UNKNOWN:bg(e.code);return new em(t,e.message||"")}(o);n=new Vg(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=tk(e,s.document.name),l=Yg(s.document.updateTime),f=new Jm({mapValue:{fields:s.document.fields}}),h=ey.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ug(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=tk(e,v.document),y=v.readTime?Yg(v.readTime):ym.min(),g=ey.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Ug([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=tk(e,b.document),x=b.removedTargetIds||[];n=new Ug([],x,w,null)}else{if(!("filter"in t))return $v();t.filter;var _=t.filter;_.targetId;var E=_.count||0,S=new gg(E),I=_.targetId;n=new jg(I,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return ym.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ym.min():t.readTime?Yg(t.readTime):ym.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=ik(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=ay(r)?{documents:fk(e,r)}:{query:hk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Qg(e,t.resumeToken):t.snapshotVersion.compareTo(ym.min())>0&&(n.readTime=Gg(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $v()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=ik(this.k),t.removeTarget=e,this.gr(t)}}]),n}(cx),fx=function(e){Cn(n,e);var t=On(n);function n(e,r,i,a,o,u){var s;return _n(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return Sn(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,pi(An(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Yv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Yv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Yg(e.updateTime):Yg(t);return n.isEqual(ym.min())&&(n=Yg(t)),new eg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Yg(e.commitTime);return this.listener.Cr(n,t)}return Yv(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=ik(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ck(t.k,e)}))};this.gr(n)}}]),n}(cx),hx=function(e){Cn(n,e);var t=On(n);function n(e,r,i,a){var o;return _n(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Sn(n,[{key:"Fr",value:function(){if(this.$r)throw new em(Xv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Se.Z)(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new em(Xv.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Se.Z)(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new em(Xv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Sn((function e(){_n(this,e)}))}()),dx=function(){function e(t,n){_n(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return Sn(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Kv(t),this.Lr=!1):Hv("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),px=Sn((function e(t,n,r,i,a){var o=this;_n(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Sx(o),!e.t0){e.next=5;break}return Hv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jv(t)).Gr.add(4),e.next=4,yx(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,vx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new dx(r,i)}));function vx(e){return mx.apply(this,arguments)}function mx(){return mx=hr(pr().mark((function e(t){var n,r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sx(t)){e.next=18;break}n=Tn(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),mx.apply(this,arguments)}function yx(e){return gx.apply(this,arguments)}function gx(){return gx=hr(pr().mark((function e(t){var n,r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tn(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),gx.apply(this,arguments)}function kx(e,t){var n=Jv(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Ex(n)?_x(n):Jx(n).lr()&&wx(n,t))}function bx(e,t){var n=Jv(e),r=Jx(n);n.Wr.delete(t),r.lr()&&xx(n,t),0===n.Wr.size&&(r.lr()?r._r():Sx(n)&&n.Jr.set("Unknown"))}function wx(e,t){e.Yr.X(t.targetId),Jx(e).br(t)}function xx(e,t){e.Yr.X(t),Jx(e).vr(t)}function _x(e){e.Yr=new Zg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Jx(e).start(),e.Jr.Br()}function Ex(e){return Sx(e)&&!Jx(e).hr()&&e.Wr.size>0}function Sx(e){return 0===Jv(e).Gr.size}function Ix(e){e.Yr=void 0}function Tx(e){return Cx.apply(this,arguments)}function Cx(){return Cx=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){wx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Ax(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ix(t),Ex(t)?(t.Jr.Kr(n),_x(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Rx(e,t,n){return Px.apply(this,arguments)}function Px(){return Px=hr(pr().mark((function e(t,n,r){var i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Vg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=hr(pr().mark((function e(t,n){var r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Tn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Hv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ox(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ug?t.Yr.ot(n):n instanceof jg?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(ym.min())){e.next=29;break}return e.prev=14,e.next=17,gw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Im.EMPTY_BYTE_STRING,n.snapshotVersion)),xx(e,t);var r=new sb(n.target,t,1,n.sequenceNumber);wx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Hv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ox(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Px.apply(this,arguments)}function Ox(e,t,n){return Dx.apply(this,arguments)}function Dx(){return Dx=hr(pr().mark((function e(t,n,r){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xk(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,yx(t);case 5:t.Jr.set("Offline"),r||(r=function(){return gw(t.localStore)}),t.asyncQueue.enqueueRetryable(hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,vx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Lx(e,t){return t().catch((function(n){return Ox(e,n,t)}))}function Mx(e){return Fx.apply(this,arguments)}function Fx(){return Fx=hr(pr().mark((function e(t){var n,r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jv(t),r=Xx(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Ux(n)){e.next=19;break}return e.prev=3,e.next=6,ww(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,jx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ox(n,e.t0);case 17:e.next=2;break;case 19:Vx(n)&&zx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Fx.apply(this,arguments)}function Ux(e){return Sx(e)&&e.Qr.length<10}function jx(e,t){e.Qr.push(t);var n=Xx(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Vx(e){return Sx(e)&&!Xx(e).hr()&&e.Qr.length>0}function zx(e){Xx(e).start()}function Zx(e){return Bx.apply(this,arguments)}function Bx(){return Bx=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xx(t).kr();case 1:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function qx(e){return Wx.apply(this,arguments)}function Wx(){return Wx=hr(pr().mark((function e(t){var n,r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xx(t),r=Tn(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Hx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=ub.from(i,n,r),e.next=3,Lx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Mx(t);case 5:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Gx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=hr(pr().mark((function e(t,n){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Xx(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=hr(pr().mark((function e(t,n){var r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kg(i=n.code)||i===Xv.ABORTED){e.next=7;break}return r=t.Qr.shift(),Xx(t).wr(),e.next=5,Lx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Mx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Vx(t)&&zx(t);case 5:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function $x(e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=hr(pr().mark((function e(t,n){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,vx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,yx(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Jx(e){return e.Xr||(e.Xr=function(e,t,n){var r=Jv(e);return r.Fr(),new lx(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Tx.bind(null,e),Ni:Ax.bind(null,e),Pr:Rx.bind(null,e)}),e.zr.push(function(){var t=hr(pr().mark((function t(n){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Ex(e)?_x(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Ix(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Xx(e){return e.Zr||(e.Zr=function(e,t,n){var r=Jv(e);return r.Fr(),new fx(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Zx.bind(null,e),Ni:Gx.bind(null,e),Nr:qx.bind(null,e),Cr:Hx.bind(null,e)}),e.zr.push(function(){var t=hr(pr().mark((function t(n){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Mx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Hv("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var e_=function(){function e(t,n,r,i,a){_n(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new tm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Sn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new em(Xv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function t_(e,t){if(Kv("AsyncQueue","".concat(t,": ").concat(e)),Xk(e))return new em(Xv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var n_=function(){function e(t){_n(this,e),this.comparator=t?function(e,n){return t(e,n)||Fm.comparator(e.key,n.key)}:function(e,t){return Fm.comparator(e.key,t.key)},this.keyedMap=Ag(),this.sortedSet=new wg(this.comparator)}return Sn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),r_=function(){function e(){_n(this,e),this.eo=new wg(Fm.comparator)}return Sn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):$v():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),i_=function(){function e(t,n,r,i,a,o,u,s){_n(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Sn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,n_.emptySet(n),a,r,i,!0,!1)}}]),e}(),a_=Sn((function e(){_n(this,e),this.so=void 0,this.listeners=[]})),o_=Sn((function e(){_n(this,e),this.queries=new Qb((function(e){return Oy(e)}),Py),this.onlineState="Unknown",this.io=new Set}));function u_(e,t){return s_.apply(this,arguments)}function s_(){return s_=hr(pr().mark((function e(t,n){var r,i,a,o,u;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new a_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=t_(e.t0,"Initialization of query '".concat(Dy(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&d_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),s_.apply(this,arguments)}function c_(e,t){return l_.apply(this,arguments)}function l_(){return l_=hr(pr().mark((function e(t,n){var r,i,a,o,u;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){var n,r=Jv(e),i=!1,a=Tn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Tn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&d_(r)}function h_(e,t,n){var r=Jv(e),i=r.queries.get(t);if(i){var a,o=Tn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function d_(e){e.io.forEach((function(e){e.next()}))}var p_=function(){function e(t,n,r){_n(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Sn(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Tn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new i_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=i_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),v_=function(){function e(t,n){_n(this,e),this.payload=t,this.byteLength=n}return Sn(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),m_=function(){function e(t){_n(this,e),this.k=t}return Sn(e,[{key:"Hn",value:function(e){return tk(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?uk(this.k,e.document,!1):ey.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Yg(e)}}]),e}(),y_=function(){function e(t,n,r){_n(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=g_(t)}return Sn(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new m_(this.k),i=Tn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=Tn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Og()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=hr(pr().mark((function e(){var t,n,r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nw(this.localStore,new m_(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Tn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Pw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new cw(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function g_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var k_=Sn((function e(t){_n(this,e),this.key=t})),b_=Sn((function e(t){_n(this,e),this.key=t})),w_=function(){function e(t,n){_n(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Og(),this.mutatedKeys=Og(),this.Ao=My(t),this.Ro=new n_(this.Ao)}return Sn(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new r_,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Ey(this.query)&&i.size===this.query.limit?i.last():null,c=Sy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ly(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Ey(this.query)||Sy(this.query))for(;o.size>this.query.limit;){var l=Ey(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $v()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new i_(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new r_,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Og(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new b_(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new k_(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Og();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return i_.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),x_=Sn((function e(t,n,r){_n(this,e),this.query=t,this.targetId=n,this.view=r})),__=Sn((function e(t){_n(this,e),this.key=t,this.$o=!1})),E_=function(){function e(t,n,r,i,a,o){_n(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Qb((function(e){return Oy(e)}),Py),this.Mo=new Map,this.Lo=new Set,this.Bo=new wg(Fm.comparator),this.Uo=new Map,this.qo=new Lw,this.Ko={},this.jo=new Map,this.Qo=Mb.re(),this.onlineState="Unknown",this.Wo=void 0}return Sn(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function S_(e,t){return I_.apply(this,arguments)}function I_(){return I_=hr(pr().mark((function e(t,n){var r,i,a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gE(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,xw(r.localStore,Ny(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,T_(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&kx(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function T_(e,t,n,r){return C_.apply(this,arguments)}function C_(){return C_=hr(pr().mark((function e(t,n,r,i){var a,o,u,s,c,l;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=hr(pr().mark((function e(t,n,r,i){var a,o,u;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Sw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(G_(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Sw(t.localStore,n,!0);case 3:return a=e.sent,o=new w_(n,a.zn),u=o.bo(a.documents),s=Fg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),G_(t,r,c.Co),l=new x_(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}function A_(e,t){return N_.apply(this,arguments)}function N_(){return N_=hr(pr().mark((function e(t,n){var r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!Py(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,_w(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),bx(r.remoteStore,i.targetId),H_(r,i.targetId)})).catch(zb);case 9:e.next=14;break;case 11:return H_(r,i.targetId),e.next=14,_w(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function R_(e,t,n){return P_.apply(this,arguments)}function P_(){return P_=hr(pr().mark((function e(t,n,r){var i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kE(t),e.prev=1,e.next=4,function(e,t){var n,r=Jv(e),i=mm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Og());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=Tn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=og(c,n.get(c.key));null!=l&&u.push(new lg(c.key,l,Xm(l.value.mapValue),tg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new wg(dm)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Y_(i,a.changes);case 9:return e.next=11,Mx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=t_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),P_.apply(this,arguments)}function O_(e,t){return D_.apply(this,arguments)}function D_(){return D_=hr(pr().mark((function e(t,n){var r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.prev=1,e.next=4,kw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Yv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Yv(n.$o):e.removedDocuments.size>0&&(Yv(n.$o),n.$o=!1))})),e.next=8,Y_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,zb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),D_.apply(this,arguments)}function L_(e,t,n){var r=Jv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Jv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Tn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&d_(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function M_(e,t,n){return F_.apply(this,arguments)}function F_(){return F_=hr(pr().mark((function e(t,n,r){var i,a,o,u,s,c;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Jv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new wg(Fm.comparator)).insert(o,ey.newNoDocument(o,ym.min())),s=Og().add(o),c=new Mg(ym.min(),new Map,new Eg(dm),u,s),e.next=9,O_(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),$_(i),e.next=16;break;case 14:return e.next=16,_w(i.localStore,n,!1).then((function(){return H_(i,n,r)})).catch(zb);case 16:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function U_(e,t){return j_.apply(this,arguments)}function j_(){return j_=hr(pr().mark((function e(t,n){var r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=n.batch.batchId,e.prev=1,e.next=4,yw(r.localStore,n);case 4:return a=e.sent,W_(r,i,null),q_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Y_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),j_.apply(this,arguments)}function V_(e,t,n){return z_.apply(this,arguments)}function z_(){return z_=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jv(t),e.prev=1,e.next=4,function(e,t){var n=Jv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Yv(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,W_(i,n,r),q_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Y_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),z_.apply(this,arguments)}function Z_(e,t){return B_.apply(this,arguments)}function B_(){return B_=hr(pr().mark((function e(t,n){var r,i,a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sx((r=Jv(t)).remoteStore)||Hv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Jv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=t_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),B_.apply(this,arguments)}function q_(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function W_(e,t,n){var r=Jv(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function H_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Tn(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||K_(e,t)}))}function K_(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(bx(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),$_(e))}function G_(e,t,n){var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof k_?(e.qo.addReference(a.key,t),Q_(e,a)):a instanceof b_?(Hv("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||K_(e,a.key)):$v()}}catch(o){i.e(o)}finally{i.f()}}function Q_(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Hv("SyncEngine","New document in limbo: "+n),e.Lo.add(r),$_(e))}function $_(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Fm(xm.fromString(t)),r=e.Qo.next();e.Uo.set(r,new __(n)),e.Bo=e.Bo.insert(n,r),kx(e.remoteStore,new sb(Ny(_y(n.path)),r,2,lm.I))}}function Y_(e,t,n){return J_.apply(this,arguments)}function J_(){return J_=hr(pr().mark((function e(t,n,r){var i,a,o,u;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jv(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=fw.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=hr(pr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Gk.forEach(n,(function(t){return Gk.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Gk.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xk(e.t0)){e.next=10;break}throw e.t0;case 10:Hv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Tn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}function X_(e,t){return eE.apply(this,arguments)}function eE(){return eE=hr(pr().mark((function e(t,n){var r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Jv(t)).currentUser.isEqual(n)){e.next=11;break}return Hv("SyncEngine","User change. New user:",n.toKey()),e.next=5,vw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new em(Xv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Y_(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t){var n=Jv(e),r=n.Uo.get(t);if(r&&r.$o)return Og().add(r.key);var i=Og(),a=n.Mo.get(t);if(!a)return i;var o,u=Tn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Oo.get(s);i=i.unionWith(c.view.Po)}}catch(l){u.e(l)}finally{u.f()}return i}function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=hr(pr().mark((function e(t,n){var r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.next=3,Sw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&G_(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e){return aE.apply(this,arguments)}function aE(){return aE=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jv(t),e.abrupt("return",Tw(n.localStore).then((function(e){return Y_(n,e)})));case 2:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t,n,r){return uE.apply(this,arguments)}function uE(){return uE=hr(pr().mark((function e(t,n,r,i){var a,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Jv(t),e.next=3,function(e,t){var n=Jv(e),r=Jv(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Gk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Mx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(W_(a,n,i||null),q_(a,n),function(e,t){Jv(Jv(e).An).ee(t)}(a.localStore,n)):$v();case 11:return e.next=13,Y_(a,o);case 13:e.next=16;break;case 15:Hv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e,t){return cE.apply(this,arguments)}function cE(){return cE=hr(pr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gE(r=Jv(t)),kE(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,lE(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,$x(r.remoteStore,!0);case 9:o=Tn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,kx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return H_(r,t),_w(r.localStore,t,!0)})),bx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,lE(r,c);case 21:return function(e){var t=Jv(e);t.Uo.forEach((function(e,n){bx(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new wg(Fm.comparator)}(r),r.Wo=!1,e.next=25,$x(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t,n){return fE.apply(this,arguments)}function fE(){return fE=hr(pr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Jv(t),a=[],o=[],u=Tn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,xw(i.localStore,Ny(f[0]));case 11:l=e.sent,h=Tn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,nE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Iw(i.localStore,c);case 36:return y=e.sent,e.next=39,xw(i.localStore,y);case 39:return l=e.sent,e.next=42,T_(i,hE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),fE.apply(this,arguments)}function hE(e){return xy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function dE(e){var t=Jv(e);return Jv(Jv(t.localStore).persistence).Tn()}function pE(e,t,n,r){return vE.apply(this,arguments)}function vE(){return vE=hr(pr().mark((function e(t,n,r,i){var a,o,u;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Jv(t)).Wo){e.next=5;break}Hv("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Tw(a.localStore);case 11:return o=e.sent,u=Mg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Y_(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,_w(a.localStore,n,!0);case 18:return H_(a,n,i),e.abrupt("break",21);case 20:$v();case 21:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e,t,n){return yE.apply(this,arguments)}function yE(){return yE=hr(pr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=gE(t)).Wo){e.next=45;break}a=Tn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Mo.has(u)){e.next=10;break}return Hv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Iw(i.localStore,u);case 12:return s=e.sent,e.next=15,xw(i.localStore,s);case 15:return c=e.sent,e.next=18,T_(i,hE(s),c.targetId,!1);case 18:kx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Tn(r),e.prev=30,h=pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,_w(i.localStore,t,!1).then((function(){bx(i.remoteStore,t),H_(i,t)})).catch(zb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),yE.apply(this,arguments)}function gE(e){var t=Jv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=O_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=M_.bind(null,t),t.Fo.Pr=f_.bind(null,t.eventManager),t.Fo.zo=h_.bind(null,t.eventManager),t}function kE(e){var t=Jv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=U_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=V_.bind(null,t),t}function bE(e,t,n){var r=Jv(e);(function(){var e=hr(pr().mark((function e(t,n,r){var i,a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Jv(e),r=Yg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(g_(i)),a=new y_(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,Y_(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=Jv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Gv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var wE=function(){function e(){_n(this,e),this.synchronizeTabs=!1}return Sn(e,[{key:"initialize",value:function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=ux(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return pw(this.persistence,new hw,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new zw(Bw.ks,this.k)}},{key:"Jo",value:function(e){return new Xw}},{key:"terminate",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xE=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Sn(n,[{key:"initialize",value:function(){var e=hr(pr().mark((function e(t){var r=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(An(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Cw(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,kE(this.ta.syncEngine);case 8:return e.next=10,Mx(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return pw(this.persistence,new hw,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Wb(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=sw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Cb.withCacheSize(this.cacheSizeBytes):Cb.DEFAULT;return new aw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ax(),ox(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Xw}}]),n}(wE),_E=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Sn(n,[{key:"initialize",value:function(){var e=hr(pr().mark((function e(t){var r,i=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(An(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof Jw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:oE.bind(null,r),gi:pE.bind(null,r),yi:mE.bind(null,r),Tn:dE.bind(null,r),_i:iE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sE(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=ax();if(!Jw.bt(t))throw new em(Xv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(xE),EE=function(){function e(){_n(this,e)}return Sn(e,[{key:"initialize",value:function(){var e=hr(pr().mark((function e(t,n){var r=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return L_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=X_.bind(null,this.syncEngine),e.next=12,$x(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new o_}},{key:"createDatastore",value:function(e){var t,n=ux(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ix(t));return function(e,t,n,r){return new hx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return L_(o.syncEngine,e,0)},a=tx.bt()?new tx:new ex,new px(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new E_(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jv(t),Hv("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,yx(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function SE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return hr(pr().mark((function r(){var i;return pr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var IE=function(){function e(t){_n(this,e),this.observer=t,this.muted=!1}return Sn(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),TE=function(){function e(t,n){var r=this;_n(this,e),this.sa=t,this.k=n,this.metadata=new tm,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Sn(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=hr(pr().mark((function e(){var t,n,r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new v_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=hr(pr().mark((function e(){var t,n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=hr(pr().mark((function e(){var t,n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),CE=function(){function e(t){_n(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Sn(e,[{key:"lookup",value:function(){var e=hr(pr().mark((function e(t){var n,r=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new em(Xv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=hr(pr().mark((function e(t,n){var r,i,a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=ik(r.k)+"/documents",a={documents:n.map((function(e){return ek(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=sk(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Yv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new mg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=hr(pr().mark((function e(){var t,n=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Fm.fromPath(t);n.mutations.push(new yg(r,n.precondition(r)))})),e.next=7,function(){var e=hr(pr().mark((function e(t,n){var r,i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=ik(r.k)+"/documents",a={writes:n.map((function(e){return ck(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $v();t=ym.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new em(Xv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?tg.updateTime(t):tg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ym.min()))throw new em(Xv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tg.updateTime(t)}return tg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),AE=function(){function e(t,n,r,i){_n(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new sx(this.asyncQueue,"transaction_retry")}return Sn(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(hr(pr().mark((function t(){var n,r;return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new CE(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!Dm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!kg(t)}return!1}}]),e}(),NE=function(){function e(t,n,r,i){var a=this;_n(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zv.UNAUTHENTICATED,this.clientId=hm.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return Sn(e,[{key:"getConfiguration",value:function(){var e=hr(pr().mark((function e(){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new em(Xv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new tm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(hr(pr().mark((function n(){var r;return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=t_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function RE(e,t){return PE.apply(this,arguments)}function PE(){return PE=hr(pr().mark((function e(t,n){var r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Hv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function OE(e,t){return DE.apply(this,arguments)}function DE(){return DE=hr(pr().mark((function e(t,n){var r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,LE(t);case 3:return r=e.sent,Hv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=hr(pr().mark((function e(t,n){var r,i;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Jv(t)).asyncQueue.verifyOperationInProgress(),Hv("RemoteStore","RemoteStore received new credentials"),i=Sx(r),r.Gr.add(3),e.next=6,yx(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,vx(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function LE(e){return ME.apply(this,arguments)}function ME(){return ME=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Hv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,RE(t,new wE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function FE(e){return UE.apply(this,arguments)}function UE(){return UE=hr(pr().mark((function e(t){return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Hv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,OE(t,new EE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function jE(e){return LE(e).then((function(e){return e.persistence}))}function VE(e){return LE(e).then((function(e){return e.localStore}))}function zE(e){return FE(e).then((function(e){return e.remoteStore}))}function ZE(e){return FE(e).then((function(e){return e.syncEngine}))}function BE(e){return qE.apply(this,arguments)}function qE(){return qE=hr(pr().mark((function e(t){var n,r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=S_.bind(null,n.syncEngine),r.onUnlisten=A_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function WE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new tm;return e.asyncQueue.enqueueAndForget(hr(pr().mark((function i(){return pr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new IE({next:function(a){t.enqueueAndForget((function(){return c_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new em(Xv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new em(Xv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new p_(_y(n.path),a,{includeMetadataChanges:!0,wo:!0});return u_(e,o)},i.next=3,BE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function HE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new tm;return e.asyncQueue.enqueueAndForget(hr(pr().mark((function i(){return pr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new IE({next:function(n){t.enqueueAndForget((function(){return c_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new em(Xv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new p_(n,a,{includeMetadataChanges:!0,wo:!0});return u_(e,o)},i.next=3,BE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var KE=Sn((function e(t,n,r,i,a,o,u,s){_n(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),GE=function(){function e(t,n){_n(this,e),this.projectId=t,this.database=n||"(default)"}return Sn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),QE=new Map;function $E(e,t,n){if(!n)throw new em(Xv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function YE(e,t,n,r){if(!0===t&&!0===r)throw new em(Xv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function JE(e){if(!Fm.isDocumentKey(e))throw new em(Xv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function XE(e){if(Fm.isDocumentKey(e))throw new em(Xv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function eS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":$v()}function tS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new em(Xv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=eS(e);throw new em(Xv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function nS(e,t){if(t<=0)throw new em(Xv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var rS=function(){function e(t){var n;if(_n(this,e),void 0===t.host){if(void 0!==t.ssl)throw new em(Xv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new em(Xv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,YE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Sn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),iS=function(){function e(t,n,r){_n(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rS({}),this._settingsFrozen=!1,t instanceof GE?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new em(Xv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new GE(e.options.projectId)}(t))}return Sn(e,[{key:"app",get:function(){if(!this._app)throw new em(Xv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new em(Xv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new rm;switch(e.type){case"gapi":var t=e.client;return Yv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new um(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new em(Xv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=QE.get(e);t&&(Hv("ComponentProvider","Removing Datastore"),QE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function aS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=tS(e,iS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Gv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Zv.MOCK_USER;else{o=Bn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new em(Xv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Zv(s)}e._authCredentials=new im(new nm(o,u))}}var oS=function(){function e(t,n,r){_n(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Sn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new sS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),uS=function(){function e(t,n,r){_n(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Sn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),sS=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,e,r,_y(i)))._path=i,a.type="collection",a}return Sn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new oS(this.firestore,null,new Fm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(uS);function cS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lr(e),$E("collection","path",t),e instanceof iS){var a=xm.fromString.apply(xm,[t].concat(r));return XE(a),new sS(e,null,a)}if(!(e instanceof oS||e instanceof sS))throw new em(Xv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xm.fromString.apply(xm,[t].concat(r)));return XE(o),new sS(e.firestore,null,o)}function lS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lr(e),1===arguments.length&&(t=hm.A()),$E("doc","path",t),e instanceof iS){var a=xm.fromString.apply(xm,[t].concat(r));return JE(a),new oS(e,null,new Fm(a))}if(!(e instanceof oS||e instanceof sS))throw new em(Xv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xm.fromString.apply(xm,[t].concat(r)));return JE(o),new oS(e.firestore,e instanceof sS?e.converter:null,new Fm(o))}function fS(e,t){return e=lr(e),t=lr(t),(e instanceof oS||e instanceof sS)&&(t instanceof oS||t instanceof sS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hS(e,t){return e=lr(e),t=lr(t),e instanceof uS&&t instanceof uS&&e.firestore===t.firestore&&Py(e._query,t._query)&&e.converter===t.converter}var dS=function(){function e(){var t=this;_n(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new sx(this,"async_queue_retry"),this.Ra=function(){var e=ox();e&&Hv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=ox();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return Sn(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=ox();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new tm;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=hr(pr().mark((function e(){var t=this;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Xk(e.t0)){e.next=12;break}throw e.t0;case 12:Hv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Kv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=e_.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&$v()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=hr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=Tn(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Tn(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function pS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Tn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var vS=function(){function e(){_n(this,e),this._progressObserver={},this._taskCompletionResolver=new tm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Sn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),mS=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new dS,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Sn(n,[{key:"_terminate",value:function(){return this._firestoreClient||gS(this),this._firestoreClient.terminate()}}]),n}(iS);function yS(e){return e._firestoreClient||gS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function gS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new KE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new NE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function kS(e,t,n){var r=new tm;return e.asyncQueue.enqueue(hr(pr().mark((function i(){return pr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,RE(e,n);case 3:return i.next=5,OE(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Xv.FAILED_PRECONDITION||e.code===Xv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function bS(e){return function(e){return e.asyncQueue.enqueue(hr(pr().mark((function t(){var n,r;return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jE(e);case 2:return n=t.sent,t.next=5,zE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Jv(e);return t.Gr.delete(0),vx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(yS(e=tS(e,mS)))}function wS(e){return function(e){return e.asyncQueue.enqueue(hr(pr().mark((function t(){var n,r;return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jE(e);case 2:return n=t.sent,t.next=5,zE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jv(t)).Gr.add(0),e.next=4,yx(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(yS(e=tS(e,mS)))}function xS(e,t){var n=yS(e=tS(e,mS)),r=new vS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new TE(e,t)}(function(e,t){if(e instanceof Uint8Array)return SE(e,t);if(e instanceof ArrayBuffer)return SE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ux(t));e.asyncQueue.enqueueAndForget(hr(pr().mark((function t(){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bE,t.next=3,ZE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function _S(e,t){return function(e,t){return e.asyncQueue.enqueue(hr(pr().mark((function n(){return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Jv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,VE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(yS(e=tS(e,mS)),t).then((function(t){return t?new uS(e,null,t.query):null}))}function ES(e){if(e._initialized||e._terminated)throw new em(Xv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var SS=function(){function e(){_n(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new em(Xv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Em(n)}return Sn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var IS=function(){function e(t){_n(this,e),this._byteString=t}return Sn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Im.fromBase64String(t))}catch(t){throw new em(Xv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Im.fromUint8Array(t))}}]),e}(),TS=Sn((function e(t){_n(this,e),this._methodName=t})),CS=function(){function e(t,n){if(_n(this,e),!isFinite(t)||t<-90||t>90)throw new em(Xv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new em(Xv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Sn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return dm(this._lat,e._lat)||dm(this._long,e._long)}}]),e}(),AS=/^__.*__$/,NS=function(){function e(t,n,r){_n(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Sn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new lg(e,this.data,this.fieldMask,t,this.fieldTransforms):new cg(e,this.data,t,this.fieldTransforms)}}]),e}(),RS=function(){function e(t,n,r){_n(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Sn(e,[{key:"toMutation",value:function(e,t){return new lg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function PS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $v()}}var OS=function(){function e(t,n,r,i,a,o){_n(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Sn(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return XS(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(PS(this.xa)&&AS.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),DS=function(){function e(t,n,r){_n(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||ux(t)}return Sn(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new OS({xa:e,methodName:t,Ka:n,path:Em.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function LS(e){var t=e._freezeSettings(),n=ux(e._databaseId);return new DS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function MS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);QS("Data must be an object, but it was:",o,r);var u,s,c=KS(r,o);if(a.merge)u=new Sm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Tn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=$S(t,d,n);if(!o.contains(p))throw new em(Xv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));eI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Sm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new NS(new Jm(c),u,s)}var FS=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(TS);function US(e,t,n){return new OS({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var jS=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"_toFieldTransform",value:function(e){return new Xy(e.path,new Wy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(TS),VS=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e)).Qa=r,i}return Sn(n,[{key:"_toFieldTransform",value:function(e){var t=US(this,e,!0),n=this.Qa.map((function(e){return HS(e,t)})),r=new Hy(n);return new Xy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TS),zS=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e)).Qa=r,i}return Sn(n,[{key:"_toFieldTransform",value:function(e){var t=US(this,e,!0),n=this.Qa.map((function(e){return HS(e,t)})),r=new Gy(n);return new Xy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TS),ZS=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e)).Wa=r,i}return Sn(n,[{key:"_toFieldTransform",value:function(e){var t=new $y(e.k,Vy(e.k,this.Wa));return new Xy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TS);function BS(e,t,n,r){var i=e.ja(1,t,n);QS("Data must be an object, but it was:",i,r);var a=[],o=Jm.empty();km(r,(function(e,r){var u=JS(t,e,n);r=lr(r);var s=i.La(u);if(r instanceof FS)a.push(u);else{var c=HS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Sm(a);return new RS(o,u,i.fieldTransforms)}function qS(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[$S(t,r,n)],s=[i];if(a.length%2!=0)throw new em(Xv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push($S(t,a[c])),s.push(a[c+1]);for(var l=[],f=Jm.empty(),h=u.length-1;h>=0;--h)if(!eI(l,u[h])){var d=u[h],p=s[h];p=lr(p);var v=o.La(d);if(p instanceof FS)l.push(d);else{var m=HS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Sm(l);return new RS(f,y,o.fieldTransforms)}function WS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return HS(n,e.ja(r?4:3,t))}function HS(e,t){if(GS(e=lr(e)))return QS("Unsupported field value:",t,e),KS(e,t);if(e instanceof TS)return function(e,t){if(!PS(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Tn(e);try{for(a.s();!(n=a.n()).done;){var o=HS(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=lr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vy(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=mm.fromDate(e);return{timestampValue:Gg(t.k,n)}}if(e instanceof mm){var r=new mm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gg(t.k,r)}}if(e instanceof CS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof IS)return{bytesValue:Qg(t.k,e._byteString)};if(e instanceof oS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Jg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(eS(e)))}(e,t)}function KS(e,t){var n={};return bm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):km(e,(function(e,r){var i=HS(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function GS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mm||e instanceof CS||e instanceof IS||e instanceof oS||e instanceof TS)}function QS(e,t,n){if(!GS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=eS(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function $S(e,t,n){if((t=lr(t))instanceof SS)return t._internalPath;if("string"==typeof t)return JS(e,t);throw XS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var YS=new RegExp("[~\\*/\\[\\]]");function JS(e,t,n){if(t.search(YS)>=0)throw XS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Dn(SS,(0,ze.Z)(t.split(".")))._internalPath}catch(r){throw XS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function XS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new em(Xv.INVALID_ARGUMENT,u+e+s)}function eI(e,t){return e.some((function(e){return e.isEqual(t)}))}var tI=function(){function e(t,n,r,i,a){_n(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Sn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new oS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new nI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),nI=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"data",value:function(){return pi(An(n.prototype),"data",this).call(this)}}]),n}(tI);function rI(e,t){return"string"==typeof t?JS(e,t):t instanceof SS?t._internalPath:t._delegate._internalPath}var iI=function(){function e(t,n){_n(this,e),this.hasPendingWrites=t,this.fromCache=n}return Sn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),aI=function(e){Cn(n,e);var t=On(n);function n(e,r,i,a,o,u){var s;return _n(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Sn(n,[{key:"exists",value:function(){return pi(An(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new oI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(tI),oI=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pi(An(n.prototype),"data",this).call(this,e)}}]),n}(aI),uI=function(){function e(t,n,r,i){_n(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new iI(i.hasPendingWrites,i.fromCache),this.query=r}return Sn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new oI(n._firestore,n._userDataWriter,r.key,r,new iI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new em(Xv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new oI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new oI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:sI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function sI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $v()}}function cI(e,t){return e instanceof aI&&t instanceof aI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof uI&&t instanceof uI&&e._firestore===t._firestore&&hS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function lI(e){if(Sy(e)&&0===e.explicitOrderBy.length)throw new em(Xv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fI=Sn((function e(){_n(this,e)}));function hI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var dI=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return Sn(n,[{key:"_apply",value:function(e){var t=LS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new em(Xv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){EI(o,a);var s,c=[],l=Tn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(_I(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=_I(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||EI(o,a),u=WS(n,"where",o,"in"===a||"not-in"===a);var h=oy.create(i,a,u);return function(e,t){if(t.V()){var n=Ty(e);if(null!==n&&!n.isEqual(t.field))throw new em(Xv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Iy(e);null!==r&&SI(e,t.field,r)}var i=function(e,t){var n,r=Tn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new em(Xv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new em(Xv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new uS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new wy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(fI);var pI=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return Sn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new em(Xv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new em(Xv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yy(t,n);return function(e,t){if(null===Iy(e)){var n=Ty(e);null!==n&&SI(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new uS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new wy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(fI);var vI=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return Sn(n,[{key:"_apply",value:function(e){return new uS(e.firestore,e.converter,Ry(e._query,this.Ya,this.Xa))}}]),n}(fI);var mI=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Sn(n,[{key:"_apply",value:function(e){var t=xI(e,this.type,this.Za,this.tc);return new uS(e.firestore,e.converter,function(e,t){return new wy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(fI);function yI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mI("startAt",t,!0)}function gI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mI("startAfter",t,!1)}var kI=function(e){Cn(n,e);var t=On(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Sn(n,[{key:"_apply",value:function(e){var t=xI(e,this.type,this.Za,this.tc);return new uS(e.firestore,e.converter,function(e,t){return new wy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(fI);function bI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kI("endBefore",t,!0)}function wI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kI("endAt",t,!1)}function xI(e,t,n,r){if(n[0]=lr(n[0]),n[0]instanceof tI)return function(e,t,n,r,i){if(!r)throw new em(Xv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Tn(Ay(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Wm(t,r.key));else{var c=r.data.field(s.field);if(Rm(c))throw new em(Xv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new em(Xv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new vy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=LS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new em(Xv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new em(Xv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Cy(e)&&-1!==c.indexOf("/"))throw new em(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(xm.fromString(c));if(!Fm.isDocumentKey(l))throw new em(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Fm(l);u.push(Wm(t,f))}else{var h=WS(n,r,c);u.push(h)}}return new vy(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function _I(e,t,n){if("string"==typeof(n=lr(n))){if(""===n)throw new em(Xv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cy(t)&&-1!==n.indexOf("/"))throw new em(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(xm.fromString(n));if(!Fm.isDocumentKey(r))throw new em(Xv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wm(e,new Fm(r))}if(n instanceof oS)return Wm(e,n._key);throw new em(Xv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(eS(n),"."))}function EI(e,t){if(!Array.isArray(e)||0===e.length)throw new em(Xv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new em(Xv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function SI(e,t,n){if(!n.isEqual(t))throw new em(Xv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var II=function(){function e(){_n(this,e)}return Sn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Um(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Am(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $v()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return km(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new CS(Am(e.latitude),Am(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Pm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Om(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cm(e);return new mm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=xm.fromString(e);Yv(Ek(n));var r=new GE(n.get(1),n.get(3)),i=new Fm(n.popFirst(5));return r.isEqual(t)||Kv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function TI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var CI=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this)).firestore=e,r}return Sn(n,[{key:"convertBytes",value:function(e){return new IS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oS(this.firestore,null,t)}}]),n}(II),AI=function(){function e(t,n){_n(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=LS(t)}return Sn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=NI(e,this._firestore),i=TI(r.converter,t,n),a=MS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,tg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=NI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=lr(t))||t instanceof SS?qS(this._dataReader,"WriteBatch.update",i._key,t,n,o):BS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,tg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=NI(e,this._firestore);return this._mutations=this._mutations.concat(new mg(t._key,tg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new em(Xv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function NI(e,t){if((e=lr(e)).firestore!==t)throw new em(Xv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var RI=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this)).firestore=e,r}return Sn(n,[{key:"convertBytes",value:function(e){return new IS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oS(this.firestore,null,t)}}]),n}(II);function PI(e){e=tS(e,oS);var t=tS(e.firestore,mS),n=yS(t),r=new RI(t);return function(e,t){var n=new tm;return e.asyncQueue.enqueueAndForget(hr(pr().mark((function r(){return pr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=hr(pr().mark((function e(t,n,r){var i,a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Jv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new em(Xv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=t_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,VE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new aI(t,r,e._key,n,new iI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function OI(e){e=tS(e,uS);var t=tS(e.firestore,mS),n=yS(t),r=new RI(t);return function(e,t){var n=new tm;return e.asyncQueue.enqueueAndForget(hr(pr().mark((function r(){return pr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=hr(pr().mark((function e(t,n,r){var i,a,o,u,s;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sw(t,n,!0);case 3:i=e.sent,a=new w_(n,i.zn),o=a.bo(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=t_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,VE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new uI(t,r,e,n)}))}function DI(e,t,n){e=tS(e,oS);var r=tS(e.firestore,mS),i=TI(e.converter,t,n);return UI(r,[MS(LS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,tg.none())])}function LI(e,t,n){e=tS(e,oS);for(var r=tS(e.firestore,mS),i=LS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return UI(r,[("string"==typeof(t=lr(t))||t instanceof SS?qS(i,"updateDoc",e._key,t,n,o):BS(i,"updateDoc",e._key,t)).toMutation(e._key,tg.exists(!0))])}function MI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=lr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||pS(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(pS(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof oS)l=tS(e.firestore,mS),f=_y(e._key.path),c={next:function(t){n[s]&&n[s](jI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=tS(e,uS);l=tS(p.firestore,mS),f=p._query;var v=new RI(l);c={next:function(e){n[s]&&n[s](new uI(l,v,p,e))},error:n[s+1],complete:n[s+2]},lI(e._query)}return function(e,t,n,r){var i=new IE(r),a=new p_(t,i,n);return e.asyncQueue.enqueueAndForget(hr(pr().mark((function t(){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=u_,t.next=3,BE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(hr(pr().mark((function t(){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c_,t.next=3,BE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(yS(l),f,h,c)}function FI(e,t){return function(e,t){var n=new IE(t);return e.asyncQueue.enqueueAndForget(hr(pr().mark((function t(){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jv(e).io.add(t),t.next()},t.next=3,BE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(hr(pr().mark((function t(){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jv(e).io.delete(t)},t.next=3,BE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(yS(e=tS(e,mS)),pS(t)?t:{next:t})}function UI(e,t){return function(e,t){var n=new tm;return e.asyncQueue.enqueueAndForget(hr(pr().mark((function r(){return pr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=R_,r.next=3,ZE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(yS(e),t)}function jI(e,t,n){var r=n.docs.get(t._key),i=new RI(e);return new aI(e,i,t._key,r,new iI(n.hasPendingWrites,n.fromCache),t.converter)}var VI=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r))._firestore=e,i}return Sn(n,[{key:"get",value:function(e){var t=this,r=NI(e,this._firestore),i=new RI(this._firestore);return pi(An(n.prototype),"get",this).call(this,e).then((function(e){return new aI(t._firestore,i,r._key,e._document,new iI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){_n(this,e),this._firestore=t,this._transaction=n,this._dataReader=LS(t)}return Sn(e,[{key:"get",value:function(e){var t=this,n=NI(e,this._firestore),r=new CI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return $v();var i=e[0];if(i.isFoundDocument())return new tI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new tI(t._firestore,r,n._key,null,n.converter);throw $v()}))}},{key:"set",value:function(e,t,n){var r=NI(e,this._firestore),i=TI(r.converter,t,n),a=MS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=NI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=lr(t))||t instanceof SS?qS(this._dataReader,"Transaction.update",i._key,t,n,o):BS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=NI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function zI(e,t){return function(e,t){var n=new tm;return e.asyncQueue.enqueueAndForget(hr(pr().mark((function r(){var i;return pr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return FE(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new AE(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(yS(e=tS(e,mS)),(function(n){return t(new VI(e,n))}))}function ZI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VS("arrayUnion",t)}function BI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bv=e}(Gr),jr(new vr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new mS(i,new am(e.getProvider("auth-internal")),new cm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ei(zv,"3.4.1",e),ei(zv,"3.4.1","esm2017")}();function qI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new em("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function WI(){if("undefined"===typeof Uint8Array)throw new em("unimplemented","Uint8Arrays are not available in this environment.")}function HI(){if("undefined"==typeof atob)throw new em("unimplemented","Blobs are unavailable in Firestore in this environment.")}var KI=function(){function e(t){_n(this,e),this._delegate=t}return Sn(e,[{key:"toBase64",value:function(){return HI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return WI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return HI(),new e(IS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return WI(),new e(IS.fromUint8Array(t))}}]),e}();function GI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Tn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var QI=function(){function e(){_n(this,e)}return Sn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ES(e=tS(e,mS));var n=yS(e),r=e._freezeSettings(),i=new EE;return kS(n,i,new xE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ES(e=tS(e,mS));var t=yS(e),n=e._freezeSettings(),r=new EE;return kS(t,r,new _E(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new em(Xv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new tm;return e._queue.enqueueAndForgetEvenWhileRestricted(hr(pr().mark((function n(){return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=hr(pr().mark((function e(t){var n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($k.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,$k.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(sw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),$I=function(){function e(t,n,r){var i=this;_n(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof GE||(this._appCompat=t)}return Sn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Gv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};aS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return bS(this._delegate)}},{key:"disableNetwork",value:function(){return wS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&YE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new tm;return e.asyncQueue.enqueueAndForget(hr(pr().mark((function n(){return pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Z_,n.next=3,ZE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(yS(e=tS(e,mS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return FI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new em("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new lT(this,cS(this._delegate,e))}catch(t){throw nT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new tT(this,lS(this._delegate,e))}catch(t){throw nT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new uT(this,function(e,t){if(e=tS(e,iS),$E("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new em(Xv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new uS(e,null,function(e){return new wy(xm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw nT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return zI(this._delegate,(function(n){return e(new JI(t,n))}))}},{key:"batch",value:function(){var e=this;return yS(this._delegate),new XI(new AI(this._delegate,(function(t){return UI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return xS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return _S(this._delegate,e).then((function(e){return e?new uT(t,e):null}))}}]),e}(),YI=function(e){Cn(n,e);var t=On(n);function n(e){var r;return _n(this,n),(r=t.call(this)).firestore=e,r}return Sn(n,[{key:"convertBytes",value:function(e){return new KI(new IS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return tT.forKey(t,this.firestore,null)}}]),n}(II);var JI=function(){function e(t,n){_n(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new YI(t)}return Sn(e,[{key:"get",value:function(e){var t=this,n=fT(e);return this._delegate.get(n).then((function(e){return new aT(t._firestore,new aI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=fT(e);return n?(qI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=fT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=fT(e);return this._delegate.delete(t),this}}]),e}(),XI=function(){function e(t){_n(this,e),this._delegate=t}return Sn(e,[{key:"set",value:function(e,t,n){var r=fT(e);return n?(qI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=fT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=fT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),eT=function(){function e(t,n,r){_n(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Sn(e,[{key:"fromFirestore",value:function(e,t){var n=new oI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new YI(t),n),i.set(n,a)),a}}]),e}();eT.INSTANCES=new WeakMap;var tT=function(){function e(t,n){_n(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YI(t)}return Sn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new lT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new lT(this.firestore,cS(this._delegate,e))}catch(t){throw nT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=lr(e))instanceof oS&&fS(this._delegate,e)}},{key:"set",value:function(e,t){t=qI("DocumentReference.set",t);try{return t?DI(this._delegate,e,t):DI(this._delegate,e)}catch(n){throw nT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?LI(this._delegate,e):LI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw nT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return UI(tS(e.firestore,mS),[new mg(e._key,tg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=rT(n),a=iT(n,(function(t){return new aT(e.firestore,new aI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return MI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?PI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tS(e,oS);var t=tS(e.firestore,mS);return WE(yS(t),e._key,{source:"server"}).then((function(n){return jI(t,e,n)}))}(this._delegate):function(e){e=tS(e,oS);var t=tS(e.firestore,mS);return WE(yS(t),e._key).then((function(n){return jI(t,e,n)}))}(this._delegate),t.then((function(e){return new aT(n.firestore,new aI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(eT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new em("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new oS(n._delegate,r,new Fm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new oS(n._delegate,r,t))}}]),e}();function nT(e,t,n){return e.message=e.message.replace(t,n),e}function rT(e){var t,n=Tn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!GI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function iT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=GI(e[0])?e[0]:GI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var aT=function(){function e(t,n){_n(this,e),this._firestore=t,this._delegate=n}return Sn(e,[{key:"ref",get:function(){return new tT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return cI(this._delegate,e._delegate)}}]),e}(),oT=function(e){Cn(n,e);var t=On(n);function n(){return _n(this,n),t.apply(this,arguments)}return Sn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||$v()}(void 0!==t),t}}]),n}(aT),uT=function(){function e(t,n){_n(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YI(t)}return Sn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,hI(this._delegate,function(e,t,n){var r=t,i=rI("where",e);return new dI(i,r,n)}(t,n,r)))}catch(i){throw nT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,hI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=rI("orderBy",e);return new pI(n,t)}(t,n)))}catch(r){throw nT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,hI(this._delegate,function(e){return nS("limit",e),new vI("limit",e,"F")}(t)))}catch(n){throw nT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,hI(this._delegate,function(e){return nS("limitToLast",e),new vI("limitToLast",e,"L")}(t)))}catch(n){throw nT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,hI(this._delegate,yI.apply(void 0,arguments)))}catch(t){throw nT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,hI(this._delegate,gI.apply(void 0,arguments)))}catch(t){throw nT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,hI(this._delegate,bI.apply(void 0,arguments)))}catch(t){throw nT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,hI(this._delegate,wI.apply(void 0,arguments)))}catch(t){throw nT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return hS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?OI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tS(e,uS);var t=tS(e.firestore,mS),n=yS(t),r=new RI(t);return HE(n,e._query,{source:"server"}).then((function(n){return new uI(t,r,e,n)}))}(this._delegate):function(e){e=tS(e,uS);var t=tS(e.firestore,mS),n=yS(t),r=new RI(t);return lI(e._query),HE(n,e._query).then((function(n){return new uI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new cT(n.firestore,new uI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=rT(n),a=iT(n,(function(t){return new cT(e.firestore,new uI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return MI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(eT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),sT=function(){function e(t,n){_n(this,e),this._firestore=t,this._delegate=n}return Sn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new oT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),cT=function(){function e(t,n){_n(this,e),this._firestore=t,this._delegate=n}return Sn(e,[{key:"query",get:function(){return new uT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new oT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new sT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new oT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return cI(this._delegate,e._delegate)}}]),e}(),lT=function(e){Cn(n,e);var t=On(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Sn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new tT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new tT(this.firestore,void 0===e?lS(this._delegate):lS(this._delegate,e))}catch(t){throw nT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=tS(e.firestore,mS),r=lS(e),i=TI(e.converter,t);return UI(n,[MS(LS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,tg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new tT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return fS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(eT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(uT);function fT(e){return tS(e,oS)}var hT=function(){function e(){_n(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Dn(SS,n)}return Sn(e,[{key:"isEqual",value:function(e){return(e=lr(e))instanceof SS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Em.keyField().canonicalString())}}]),e}(),dT=function(){function e(t){_n(this,e),this._delegate=t}return Sn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new jS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new FS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=ZI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=BI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ZS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),pT={Firestore:$I,GeoPoint:CS,Timestamp:mm,Blob:KI,Transaction:JI,WriteBatch:XI,DocumentReference:tT,DocumentSnapshot:aT,Query:uT,QueryDocumentSnapshot:oT,QuerySnapshot:cT,CollectionReference:lT,FieldPath:hT,FieldValue:dT,setLogLevel:function(e){!function(e){qv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new vr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},pT)))}(e,(function(e,t){return new $I(e,t,new QI)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(ci);var vT={firebase:{apiKey:"AIzaSyCjecbx-2zHi9rw3FThkhTDxhOJy0C7_pA",authDomain:"walley-337111.firebaseapp.com",projectId:"walley-337111",storageBucket:"walley-337111.appspot.com",messagingSenderId:"418737716158",appId:"1:418737716158:web:018187d6e4caaa526357ef",measurementId:"G-B23J9NXC59"},server:{url:"http://localhost:1337"}},mT=(ci.initializeApp(vT.firebase),{google:new ci.auth.GoogleAuthProvider,apple:new zo("apple.com")}),yT=ci.auth(),gT=n(4569),kT=n.n(gT),bT="Auth",wT=function(){var e=hr(pr().mark((function e(t,n,r,i){var a;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kT()({method:"POST",url:"".concat(vT.server.url,"/users/login"),data:{uid:t,name:n},headers:{Authorization:"Bearer ".concat(r)}});case 3:200===(a=e.sent).status||201===a.status||304===a.status?(Ne.info("Successfully authenticated.",bT),i(null,a.data.user)):(Ne.warn("Unable to authenticate.",bT),i("Unable to authenticate.",null)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Ne.error(e.t0,bT),i("Unable to authenticate.",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),xT=function(){var e=hr(pr().mark((function e(t,n){var r;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kT()({method:"GET",url:"".concat(vT.server.url,"/users/validate"),headers:{Authorization:"Bearer ".concat(t)}});case 3:200===(r=e.sent).status||304===r.status?(Ne.info("Successfully validated.",bT),n(null,r.data.user)):(Ne.warn(r,bT),n("Unable to validate.",null)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Ne.error(e.t0,bT),n("Unable to validate.",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),_T=n(863),ET=[{path:"/home",exact:!0,component:function(e){return(0,Ie.jsxs)(Te,{children:[(0,Ie.jsx)("p",{children:"Welcome to this page that is protected by Friebase auth!"}),(0,Ie.jsxs)("p",{children:["Change your password ",(0,Ie.jsx)(ke,{to:"/change",children:"here"}),"."]}),(0,Ie.jsxs)("p",{children:["Click ",(0,Ie.jsx)(ke,{to:"/logout",children:"here"})," to logout."]})]})},name:"Home Page",protected:!0},{path:"/register",exact:!0,component:function(e){var n=(0,t.useState)(!1),r=(0,Se.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)(""),u=(0,Se.Z)(o,2),s=u[0],c=u[1],l=(0,t.useState)(""),f=(0,Se.Z)(l,2),h=f[0],d=f[1],p=(0,t.useState)(""),v=(0,Se.Z)(p,2),m=v[0],y=v[1],g=(0,t.useState)(""),k=(0,Se.Z)(g,2),b=k[0],w=k[1],x=he();return(0,Ie.jsxs)(Te,{children:[(0,Ie.jsx)("div",{children:"Register"}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email Address",onChange:function(e){return c(e.target.value)},value:s})}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return d(e.target.value)},value:h})}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return y(e.target.value)},value:m})}),(0,Ie.jsx)("button",{disabled:i,color:"success",onClick:function(){h===m?(""!==b&&w(""),a(!0),yT.createUserWithEmailAndPassword(s,h).then((function(e){Ne.info(e),x.push("/login")})).catch((function(e){Ne.error(e),e.code.includes("auth/weak-password")?w("Please enter a stronger password."):e.code.includes("auth/email-already-in-use")?w("Email already in use."):w("Unable to register.  Please try again later."),a(!1)}))):w("Please make sure your passwords match.")},children:"Sign Up"}),(0,Ie.jsx)("small",{children:(0,Ie.jsxs)("p",{className:"m-1 text-center",children:["Already have an account? ",(0,Ie.jsx)(ke,{to:"/login",children:"Login."})]})}),(0,Ie.jsx)(Fe,{error:b})]})},name:"Register Page",protected:!1},{path:"/login",exact:!0,component:function(e){var n=(0,t.useState)(!1),r=(0,Se.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)(""),u=(0,Se.Z)(o,2),s=u[0],c=u[1],l=(0,t.useContext)(Le),f=he(),h=window.location.pathname.includes("login"),d=function(e){""!==s&&c(""),a(!0),function(e){return new Promise((function(t,n){yT.signInWithPopup(e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then(function(){var e=hr(pr().mark((function e(t){var n,r,i,o;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne.info(t),!(n=t.user)){e.next=24;break}if(r=n.uid,!(i=n.displayName)){e.next=20;break}return e.prev=6,e.next=9,n.getIdToken();case 9:o=e.sent,wT(r,i,o,(function(e,t){e?(c(e),a(!1)):t&&(l.userDispatch({type:"login",payload:{user:t,fire_token:o}}),f.push("/home"))})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(6),c("Invalid token."),Ne.error(e.t0),a(!1);case 18:e.next=22;break;case 20:c("The identify provider is missing a display name."),a(!1);case 22:e.next=26;break;case 24:c("The social media provider does not have enough information. Please try a different provider."),a(!1);case 26:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ne.error(e),a(!1),c(e.message)}))};return(0,Ie.jsx)("div",{children:(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{children:h?"Login":"Sign Up"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)(Fe,{error:s}),(0,Ie.jsxs)("button",{disabled:i,onClick:function(){return d(mT.google)},style:{backgroundColor:"#ea4335",borderColor:"#ea4335"},children:[(0,Ie.jsx)("i",{className:"fab fa-google mr-2"})," Sign ",h?"in":"up"," ","with Google"]}),i]})]})})},name:"Login Page",protected:!1},{path:"/change",exact:!0,component:function(e){var n,r,i=(0,t.useState)(!1),a=(0,Se.Z)(i,2),o=a[0],u=a[1],s=(0,t.useState)(""),c=(0,Se.Z)(s,2),l=c[0],f=c[1],h=(0,t.useState)(""),d=(0,Se.Z)(h,2),p=d[0],v=d[1],m=(0,t.useState)(""),y=(0,Se.Z)(m,2),g=y[0],k=y[1],b=(0,t.useState)(""),w=(0,Se.Z)(b,2),x=w[0],_=w[1],E=he();return"password"!==(null===(n=yT.currentUser)||void 0===n||null===(r=n.providerData[0])||void 0===r?void 0:r.providerId)?(0,Ie.jsx)(ee,{to:"/home"}):(0,Ie.jsxs)(Te,{children:[(0,Ie.jsx)("div",{children:"Change Password"}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{autoComplete:"new-password",type:"password",name:"oldPassword",id:"oldPassword",placeholder:"Current Password",onChange:function(e){return v(e.target.value)},value:p})}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return f(e.target.value)},value:l})}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return k(e.target.value)},value:g})}),(0,Ie.jsx)("button",{disabled:o,color:"success",onClick:function(){return function(){var e;l===g?(""!==x&&_(""),u(!0),null===(e=yT.currentUser)||void 0===e||e.updatePassword(l).then((function(){Ne.info("Password change successful."),E.push("/home")})).catch((function(e){Ne.error(e),u(!1),_(e.message)}))):_("Make sure your passwords are matching")}()},children:"Change Password"}),(0,Ie.jsx)(Fe,{error:x})]})},name:"Change Password Page",protected:!0},{path:"/logout",exact:!0,component:function(e){var t=he();return(0,Ie.jsxs)(Te,{children:[(0,Ie.jsx)("div",{children:"Logout"}),(0,Ie.jsx)("p",{className:"text-center",children:"Are you sure you want to logout?"}),(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)("button",{color:"danger",className:"mr-2",onClick:function(){return t.goBack()},children:"Cancel"}),(0,Ie.jsx)("button",{color:"info",className:"mr-2",onClick:function(){yT.signOut().then((function(){return t.push("/login")})).catch((function(e){return Ne.error(e)}))},children:"Logout"})]})]})},name:"Logout Page",protected:!0},{path:"/forget",exact:!0,component:function(e){var n=(0,t.useState)(!1),r=(0,Se.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)(!1),u=(0,Se.Z)(o,2),s=u[0],c=u[1],l=(0,t.useState)(""),f=(0,Se.Z)(l,2),h=f[0],d=f[1],p=(0,t.useState)(""),v=(0,Se.Z)(p,2),m=v[0],y=v[1];return(0,Ie.jsxs)(Te,{children:[(0,Ie.jsx)("div",{children:"Send Password Reset"}),s?(0,Ie.jsx)("p",{children:"A link has been sent to your email with instructions."}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("p",{children:"Please enter your email."}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email Address",onChange:function(e){return d(e.target.value)},value:h})}),(0,Ie.jsx)("button",{disabled:i,color:"success",onClick:function(){return""!==m&&y(""),a(!0),void yT.sendPasswordResetEmail(h).then((function(){Ne.info("Email sent."),c(!0),a(!1)})).catch((function(e){Ne.error(e),y(e.message),a(!1)}))},children:"Send Reset Link"}),(0,Ie.jsx)(Fe,{error:m})]})]})},name:"Forgot Password Page",protected:!1},{path:"/reset",exact:!0,component:function(e){var n=(0,t.useState)(!0),r=(0,Se.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)(!1),u=(0,Se.Z)(o,2),s=u[0],c=u[1],l=(0,t.useState)(!1),f=(0,Se.Z)(l,2),h=f[0],d=f[1],p=(0,t.useState)(""),v=(0,Se.Z)(p,2),m=v[0],y=v[1],g=(0,t.useState)(""),k=(0,Se.Z)(g,2),b=k[0],w=k[1],x=(0,t.useState)(""),_=(0,Se.Z)(x,2),E=_[0],S=_[1],I=(0,t.useState)(""),T=(0,Se.Z)(I,2),C=T[0],A=T[1],N=he();(0,t.useEffect)((function(){Ne.info("Extracting code");var t=_T.parse(e.location.search);if(console.log(e.location.search),console.log(t),t){var n=t.oobCode;n?(Ne.info("Code found"),R(n)):(Ne.error("Unable to find code"),c(!1),a(!1))}else Ne.error("Unable to find code"),c(!1),a(!1)}),[]);var R=function(e){yT.verifyPasswordResetCode(e).then((function(t){Ne.info(t),S(e),c(!0),a(!1)})).catch((function(e){Ne.error(e),c(!1),a(!1)}))};return(0,Ie.jsxs)(Te,{children:[(0,Ie.jsx)("div",{children:"Reset Password"}),i?(0,Ie.jsx)(xn,{color:"inherit"}):(0,Ie.jsx)(Ie.Fragment,{children:s?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("p",{children:"Please enter a strong password."}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{autoComplete:"new-password",type:"password",name:"password",id:"password",placeholder:"Enter Password",onChange:function(e){return y(e.target.value)},value:m})}),(0,Ie.jsx)("form",{children:(0,Ie.jsx)("input",{autoComplete:"new-password",type:"password",name:"confirm",id:"confirm",placeholder:"Confirm Password",onChange:function(e){return w(e.target.value)},value:b})}),(0,Ie.jsx)("button",{disabled:h,color:"success",onClick:function(){m===b?(""!==C&&A(""),d(!0),yT.confirmPasswordReset(E,m).then((function(){N.push("/login")})).catch((function(e){Ne.error(e),A(e.message),d(!1)}))):A("Make sure your passwords are matching")},children:"Reset Password"}),(0,Ie.jsx)(Fe,{error:C})]}):(0,Ie.jsx)("p",{children:"Invalid link."})})]})},name:"Reset Password Page",protected:!1},{path:"/walley",exact:!0,component:function(){return(0,Ie.jsx)(Te,{children:(0,Ie.jsx)("div",{className:"test-para",children:"This is LandingPage"})})},name:"Landing Page",protected:!1},{path:"/signup",exact:!0,component:function(){return(0,Ie.jsx)(Te,{children:(0,Ie.jsx)("div",{className:"test-para",children:"This is Sign up page"})})},name:"Sign Up Page",protected:!1},{path:"/account",exact:!0,component:function(){return(0,Ie.jsx)(Te,{children:(0,Ie.jsx)("div",{className:"test-para",children:"This is Account Page"})})},name:"Account Page",protected:!1},{path:"/about",exact:!0,component:function(){return(0,Ie.jsx)(Te,{children:(0,Ie.jsx)("div",{className:"test-para",children:"This is About Us Page"})})},name:"About Page",protected:!1}],ST=ET,IT=function(e){var n=(0,t.useReducer)(Pe,Re),r=(0,Se.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)("Checking localstorage ..."),u=(0,Se.Z)(o,2),s=u[0],c=u[1],l=(0,t.useState)(!0),f=(0,Se.Z)(l,2),h=f[0],d=f[1];(0,t.useEffect)((function(){setTimeout((function(){p()}),1e3)}),[]);var p=function(){c("Checking credentials ...");var e=localStorage.getItem("fire_token");if(null!==e)return xT(e,(function(t,n){t?(Ne.error(t),a({type:"logout",payload:Re}),d(!1)):n&&(c("User Authentificated"),a({type:"login",payload:{user:n,fire_token:e}}),d(!1))}));a({type:"logout",payload:Re}),c("No credentials found"),setTimeout((function(){d(!1)}),500)},v={userState:i,userDispatch:a};return h?{authStage:s}&&(0,Ie.jsx)(xn,{color:"inherit"}):(0,Ie.jsx)(De,{value:v,children:(0,Ie.jsx)(le,{children:ST.map((function(e,t){return(0,Ie.jsx)(ie,{path:e.path,exact:e.exact,render:function(t){return e.protected?(0,Ie.jsx)(Me,{children:(0,Ie.jsx)(e.component,Ee({},t))}):(0,Ie.jsx)(e.component,Ee({},t))}},t)}))})})},TT=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,Ie.jsx)(t.StrictMode,{children:(0,Ie.jsx)(de,{children:(0,Ie.jsx)(IT,{})})}),document.getElementById("root")),TT()}()}();
//# sourceMappingURL=main.c7b15e4c.js.map